'use client';

import React, { useState, useEffect } from 'react';
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Progress } from "@/components/ui/progress";
import { Alert, AlertDescription } from "@/components/ui/alert";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { 
  BookOpen,
  Target,
  TrendingUp,
  Award,
  Calendar,
  Clock,
  User,
  Settings,
  BarChart3,
  CheckCircle2,
  AlertCircle,
  Star,
  Zap,
  Trophy,
  Brain,
  Users,
  ArrowRight,
  Download,
  RefreshCw,
  Eye
} from 'lucide-react';

interface StaffProfile {
  id: string;
  name: string;
  experienceLevel: 'new' | 'junior' | 'midlevel' | 'veteran' | 'expert';
  jobType: 'nurse' | 'assistant-nurse' | 'pt' | 'ot' | 'care-worker';
  facility: 'acute' | 'chronic' | 'roken';
  experienceYears: number;
  currentGrade: string;
  careerGoals: string[];
  evaluationScores: {
    technical: number;
    contribution: number;
    total: number;
  };
}

interface PersonalizedWidget {
  id: string;
  type: 'progress-summary' | 'upcoming-deadlines' | 'recommendations' | 'skill-radar' | 'peer-comparison' | 'career-path' | 'certifications' | 'analytics' | 'mentor-feedback';
  title: string;
  priority: 'high' | 'medium' | 'low';
  enabled: boolean;
  position: { x: number; y: number; width: number; height: number };
}

interface TrainingRecommendation {
  id: string;
  title: string;
  category: 'skill-gap' | 'career-development' | 'evaluation-improvement' | 'trending';
  priority: 'critical' | 'high' | 'medium' | 'low';
  expectedImpact: {
    skillImprovement: number;
    evaluationBoost: number;
    careerProgress: number;
  };
  estimatedHours: number;
  deadline?: string;
  reason: string;
  basedOn: 'evaluation-data' | 'peer-analysis' | 'career-goal' | 'industry-trend';
}

export default function PersonalizedEducationDashboard({ staffProfile }: { staffProfile: StaffProfile }) {
  const [viewMode, setViewMode] = useState<'dashboard' | 'analytics' | 'settings'>('dashboard');
  const [customWidgets, setCustomWidgets] = useState<PersonalizedWidget[]>([]);
  const [aiRecommendations, setAiRecommendations] = useState<TrainingRecommendation[]>([]);
  const [isLoading, setIsLoading] = useState(true);

  // „Éë„Éº„ÇΩ„Éä„É©„Ç§„Çº„Éº„Ç∑„Éß„É≥Ë®≠ÂÆö„ÅÆÂàùÊúüÂåñ
  useEffect(() => {
    initializePersonalizedView();
  }, [staffProfile]);

  const initializePersonalizedView = async () => {
    setIsLoading(true);
    
    // ÂΩπËÅ∑„ÉªÁµåÈ®ìÂπ¥Êï∞„Å´Âü∫„Å•„Åè„Éá„Éï„Ç©„É´„Éà„Ç¶„Ç£„Ç∏„Çß„ÉÉ„ÉàÈÖçÁΩÆ
    const defaultWidgets = getDefaultWidgetLayout(staffProfile.experienceLevel, staffProfile.jobType);
    setCustomWidgets(defaultWidgets);
    
    // AIÈßÜÂãï„ÅÆÂÄãÂà•Êé®Â•®ÁîüÊàê
    const recommendations = await generatePersonalizedRecommendations(staffProfile);
    setAiRecommendations(recommendations);
    
    setIsLoading(false);
  };

  const getDefaultWidgetLayout = (experienceLevel: string, jobType: string): PersonalizedWidget[] => {
    const baseWidgets: PersonalizedWidget[] = [
      {
        id: 'progress-summary',
        type: 'progress-summary',
        title: 'Á†î‰øÆÈÄ≤Êçó„Çµ„Éû„É™„Éº',
        priority: 'high',
        enabled: true,
        position: { x: 0, y: 0, width: 6, height: 4 }
      },
      {
        id: 'recommendations',
        type: 'recommendations',
        title: 'AIÊé®Â•®Á†î‰øÆ',
        priority: 'high',
        enabled: true,
        position: { x: 6, y: 0, width: 6, height: 4 }
      },
      {
        id: 'upcoming-deadlines',
        type: 'upcoming-deadlines',
        title: 'Á∑†Âàá„Éª‰∫àÂÆö',
        priority: 'high',
        enabled: true,
        position: { x: 0, y: 4, width: 4, height: 3 }
      }
    ];

    // ÁµåÈ®ì„É¨„Éô„É´Âà•„ÅÆËøΩÂä†„Ç¶„Ç£„Ç∏„Çß„ÉÉ„Éà
    if (experienceLevel === 'new') {
      baseWidgets.push({
        id: 'mentor-feedback',
        type: 'mentor-feedback',
        title: '„É°„É≥„Çø„ÉºË©ï‰æ°',
        priority: 'high',
        enabled: true,
        position: { x: 4, y: 4, width: 4, height: 3 }
      });
    } else if (experienceLevel === 'veteran' || experienceLevel === 'expert') {
      baseWidgets.push({
        id: 'peer-comparison',
        type: 'peer-comparison',
        title: 'ÂêåÊúüÊØîËºÉ',
        priority: 'medium',
        enabled: true,
        position: { x: 4, y: 4, width: 4, height: 3 }
      });
    } else {
      baseWidgets.push({
        id: 'career-path',
        type: 'career-path',
        title: '„Ç≠„É£„É™„Ç¢„Éë„Çπ',
        priority: 'medium',
        enabled: true,
        position: { x: 4, y: 4, width: 4, height: 3 }
      });
    }

    baseWidgets.push({
      id: 'skill-radar',
      type: 'skill-radar',
      title: '„Çπ„Ç≠„É´„É¨„Éº„ÉÄ„Éº',
      priority: 'medium',
      enabled: true,
      position: { x: 8, y: 4, width: 4, height: 3 }
    });

    return baseWidgets;
  };

  const generatePersonalizedRecommendations = async (profile: StaffProfile): Promise<TrainingRecommendation[]> => {
    // Ë©ï‰æ°„Éá„Éº„Çø„Å´Âü∫„Å•„ÅèÊé®Â•®
    const evaluationBasedRecommendations: TrainingRecommendation[] = [];
    
    if (profile.evaluationScores.technical < 80) {
      evaluationBasedRecommendations.push({
        id: 'tech-improvement',
        title: 'Â∞ÇÈñÄÊäÄË°ì„Çπ„Ç≠„É´Âêë‰∏äÁ†î‰øÆ',
        category: 'evaluation-improvement',
        priority: 'high',
        expectedImpact: {
          skillImprovement: 85,
          evaluationBoost: 12,
          careerProgress: 15
        },
        estimatedHours: 20,
        deadline: '2025-03-31',
        reason: 'ÊäÄË°ìË©ï‰æ°„Çπ„Ç≥„Ç¢Âêë‰∏ä„ÅÆ„Åü„ÇÅ',
        basedOn: 'evaluation-data'
      });
    }

    if (profile.evaluationScores.contribution < 75) {
      evaluationBasedRecommendations.push({
        id: 'leadership-development',
        title: '„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„ÉóÈñãÁô∫„Éó„É≠„Ç∞„É©„É†',
        category: 'evaluation-improvement', 
        priority: 'high',
        expectedImpact: {
          skillImprovement: 70,
          evaluationBoost: 18,
          careerProgress: 25
        },
        estimatedHours: 32,
        deadline: '2025-06-30',
        reason: 'ÁµÑÁπîË≤¢ÁåÆÂ∫¶„Çπ„Ç≥„Ç¢Âêë‰∏ä„ÅÆ„Åü„ÇÅ',
        basedOn: 'evaluation-data'
      });
    }

    // ÁµåÈ®ì„É¨„Éô„É´Âà•Êé®Â•®
    const experienceBasedRecommendations: TrainingRecommendation[] = [];
    
    if (profile.experienceLevel === 'new') {
      experienceBasedRecommendations.push({
        id: 'foundation-skills',
        title: 'Âü∫Á§é„Çπ„Ç≠„É´Âº∑Âåñ„Ç≥„Éº„Çπ',
        category: 'skill-gap',
        priority: 'critical',
        expectedImpact: {
          skillImprovement: 95,
          evaluationBoost: 15,
          careerProgress: 20
        },
        estimatedHours: 40,
        deadline: '2025-02-28',
        reason: 'Êñ∞‰∫∫ÂøÖÈ†à„Çπ„Ç≠„É´„ÅÆÁ¢∫ÂÆü„Å™ÂÆöÁùÄ',
        basedOn: 'career-goal'
      });
    } else if (profile.experienceLevel === 'veteran') {
      experienceBasedRecommendations.push({
        id: 'mentoring-skills',
        title: 'ÊåáÂ∞é„Çπ„Ç≠„É´ÈñãÁô∫Á†î‰øÆ',
        category: 'career-development',
        priority: 'medium',
        expectedImpact: {
          skillImprovement: 80,
          evaluationBoost: 10,
          careerProgress: 30
        },
        estimatedHours: 24,
        deadline: '2025-09-30',
        reason: 'ÂæåÈÄ≤ÊåáÂ∞é„Å´„Çà„Çã„Ç≠„É£„É™„Ç¢„Ç¢„ÉÉ„Éó',
        basedOn: 'career-goal'
      });
    }

    return [...evaluationBasedRecommendations, ...experienceBasedRecommendations];
  };

  const getExperienceLevelConfig = (level: string) => {
    const configs = {
      new: { label: 'Êñ∞‰∫∫', color: 'bg-green-100 text-green-800', icon: 'üå±' },
      junior: { label: 'ÂàùÁ¥ö', color: 'bg-blue-100 text-blue-800', icon: 'üåø' },
      midlevel: { label: '‰∏≠Â†Ö', color: 'bg-purple-100 text-purple-800', icon: 'üå≥' },
      veteran: { label: '„Éô„ÉÜ„É©„É≥', color: 'bg-orange-100 text-orange-800', icon: 'üéã' },
      expert: { label: 'Â∞ÇÈñÄÂÆ∂', color: 'bg-red-100 text-red-800', icon: 'üëë' }
    };
    return configs[level as keyof typeof configs] || configs.midlevel;
  };

  const getPriorityColor = (priority: string) => {
    const colors = {
      critical: 'bg-red-100 text-red-800 border-red-300',
      high: 'bg-orange-100 text-orange-800 border-orange-300',
      medium: 'bg-yellow-100 text-yellow-800 border-yellow-300',
      low: 'bg-green-100 text-green-800 border-green-300'
    };
    return colors[priority as keyof typeof colors] || colors.medium;
  };

  const renderWidget = (widget: PersonalizedWidget) => {
    if (!widget.enabled) return null;

    switch (widget.type) {
      case 'progress-summary':
        return (
          <Card className="h-full">
            <CardHeader className="pb-3">
              <CardTitle className="flex items-center gap-2 text-lg">
                <BarChart3 className="h-5 w-5 text-blue-600" />
                {widget.title}
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-2 gap-4">
                <div className="text-center p-3 bg-blue-50 rounded-lg">
                  <div className="text-2xl font-bold text-blue-600">88%</div>
                  <div className="text-sm text-gray-600">ÂÆå‰∫ÜÁéá</div>
                </div>
                <div className="text-center p-3 bg-green-50 rounded-lg">
                  <div className="text-2xl font-bold text-green-600">245h</div>
                  <div className="text-sm text-gray-600">Â±•‰øÆÊôÇÈñì</div>
                </div>
                <div className="text-center p-3 bg-purple-50 rounded-lg">
                  <div className="text-2xl font-bold text-purple-600">3</div>
                  <div className="text-sm text-gray-600">ÈÄ≤Ë°å‰∏≠</div>
                </div>
                <div className="text-center p-3 bg-orange-50 rounded-lg">
                  <div className="text-2xl font-bold text-orange-600">2</div>
                  <div className="text-sm text-gray-600">Á∑†ÂàáÈñìËøë</div>
                </div>
              </div>
            </CardContent>
          </Card>
        );

      case 'recommendations':
        return (
          <Card className="h-full">
            <CardHeader className="pb-3">
              <CardTitle className="flex items-center gap-2 text-lg">
                <Brain className="h-5 w-5 text-purple-600" />
                {widget.title}
                <Badge className="bg-purple-100 text-purple-800 text-xs">AI</Badge>
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="space-y-3">
                {aiRecommendations.slice(0, 2).map((rec) => (
                  <div key={rec.id} className={`p-3 rounded-lg border ${getPriorityColor(rec.priority)}`}>
                    <div className="flex items-start justify-between mb-2">
                      <h4 className="font-medium text-sm">{rec.title}</h4>
                      <Badge className={`text-xs ${rec.priority === 'critical' ? 'bg-red-600 text-white' : rec.priority === 'high' ? 'bg-orange-600 text-white' : 'bg-yellow-600 text-white'}`}>
                        {rec.priority === 'critical' ? 'Á∑äÊÄ•' : rec.priority === 'high' ? 'È´ò' : '‰∏≠'}
                      </Badge>
                    </div>
                    <div className="flex items-center gap-4 text-xs text-gray-600">
                      <span className="flex items-center gap-1">
                        <TrendingUp className="h-3 w-3" />
                        +{rec.expectedImpact.evaluationBoost}pts
                      </span>
                      <span className="flex items-center gap-1">
                        <Clock className="h-3 w-3" />
                        {rec.estimatedHours}h
                      </span>
                    </div>
                    <p className="text-xs text-gray-600 mt-2">{rec.reason}</p>
                  </div>
                ))}
              </div>
            </CardContent>
          </Card>
        );

      case 'upcoming-deadlines':
        return (
          <Card className="h-full">
            <CardHeader className="pb-3">
              <CardTitle className="flex items-center gap-2 text-lg">
                <Calendar className="h-5 w-5 text-orange-600" />
                {widget.title}
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="space-y-3">
                <div className="flex items-center justify-between p-2 bg-red-50 rounded border-l-4 border-red-500">
                  <div>
                    <div className="font-medium text-sm">ÂåªÁôÇÂÆâÂÖ®Á†î‰øÆ</div>
                    <div className="text-xs text-gray-600">2025-02-15</div>
                  </div>
                  <Badge className="bg-red-600 text-white text-xs">5Êó•Âæå</Badge>
                </div>
                <div className="flex items-center justify-between p-2 bg-orange-50 rounded border-l-4 border-orange-500">
                  <div>
                    <div className="font-medium text-sm">„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„ÉóÁ†î‰øÆ</div>
                    <div className="text-xs text-gray-600">2025-02-20</div>
                  </div>
                  <Badge className="bg-orange-600 text-white text-xs">10Êó•Âæå</Badge>
                </div>
              </div>
            </CardContent>
          </Card>
        );

      case 'skill-radar':
        return (
          <Card className="h-full">
            <CardHeader className="pb-3">
              <CardTitle className="flex items-center gap-2 text-lg">
                <Target className="h-5 w-5 text-indigo-600" />
                {widget.title}
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-center">
                <div className="w-32 h-32 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-4">
                  <div className="text-2xl">üéØ</div>
                </div>
                <div className="grid grid-cols-2 gap-2 text-xs">
                  <div>ÊäÄË°ìÂäõ: 82%</div>
                  <div>„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó: 65%</div>
                  <div>„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥: 88%</div>
                  <div>ÂïèÈ°åËß£Ê±∫: 75%</div>
                </div>
              </div>
            </CardContent>
          </Card>
        );

      default:
        return (
          <Card className="h-full">
            <CardContent className="p-6 text-center text-gray-500">
              <div className="text-4xl mb-2">üîß</div>
              <div className="text-sm">ÈñãÁô∫‰∏≠„ÅÆ„Ç¶„Ç£„Ç∏„Çß„ÉÉ„Éà</div>
            </CardContent>
          </Card>
        );
    }
  };

  if (isLoading) {
    return (
      <div className="text-center py-12">
        <RefreshCw className="h-12 w-12 mx-auto mb-4 text-gray-300 animate-spin" />
        <p className="text-gray-500 mb-2">ÂÄã‰∫∫Â∞ÇÁî®„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÇíÊ∫ñÂÇô‰∏≠...</p>
        <p className="text-xs text-gray-400">„ÅÇ„Å™„ÅüÂ∞ÇÁî®„ÅÆÁ†î‰øÆ„Éó„É©„É≥„ÇíÁîüÊàê„Åó„Å¶„ÅÑ„Åæ„Åô</p>
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* „Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„Éò„ÉÉ„ÉÄ„Éº */}
      <div className="bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border border-blue-200">
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-4">
            <div className="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold">
              {staffProfile.name.charAt(0)}
            </div>
            <div>
              <h2 className="text-xl font-bold text-gray-800">{staffProfile.name} „Åï„ÇìÂ∞ÇÁî®„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</h2>
              <div className="flex items-center gap-3 mt-2">
                <Badge className={getExperienceLevelConfig(staffProfile.experienceLevel).color}>
                  {getExperienceLevelConfig(staffProfile.experienceLevel).icon} {getExperienceLevelConfig(staffProfile.experienceLevel).label}
                </Badge>
                <Badge variant="outline">{staffProfile.jobType}</Badge>
                <Badge variant="outline">ÁµåÈ®ì{staffProfile.experienceYears}Âπ¥</Badge>
              </div>
            </div>
          </div>
          <div className="text-right">
            <div className="text-2xl font-bold text-blue-600">{staffProfile.evaluationScores.total}ÁÇπ</div>
            <div className="text-sm text-gray-600">ÊúÄÊñ∞Ë©ï‰æ°„Çπ„Ç≥„Ç¢</div>
          </div>
        </div>
      </div>

      {/* „Éì„É•„Éº„É¢„Éº„ÉâÂàáÊõø */}
      <Tabs value={viewMode} onValueChange={(value: any) => setViewMode(value)}>
        <TabsList className="grid w-full grid-cols-3">
          <TabsTrigger value="dashboard">„Éë„Éº„ÇΩ„Éä„É´„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</TabsTrigger>
          <TabsTrigger value="analytics">Ë©≥Á¥∞ÂàÜÊûê</TabsTrigger>
          <TabsTrigger value="settings">„Ç´„Çπ„Çø„Éû„Ç§„Ç∫</TabsTrigger>
        </TabsList>

        {/* „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Éì„É•„Éº */}
        <TabsContent value="dashboard">
          <div className="grid grid-cols-12 gap-4" style={{ minHeight: '600px' }}>
            {customWidgets.filter(w => w.enabled).map((widget) => (
              <div 
                key={widget.id} 
                className={`col-span-${widget.position.width}`}
                style={{ gridRow: `span ${widget.position.height}` }}
              >
                {renderWidget(widget)}
              </div>
            ))}
          </div>
        </TabsContent>

        {/* Ë©≥Á¥∞ÂàÜÊûê„Éì„É•„Éº */}
        <TabsContent value="analytics">
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            <Card>
              <CardHeader>
                <CardTitle>Â≠¶ÁøíÂäπÊûúÂàÜÊûê</CardTitle>
              </CardHeader>
              <CardContent>
                <div className="space-y-4">
                  <div className="flex justify-between items-center">
                    <span>ÊäÄË°ì„Çπ„Ç≠„É´Âêë‰∏äÁéá</span>
                    <div className="flex items-center gap-2">
                      <Progress value={85} className="w-24" />
                      <span className="text-sm font-medium">+12%</span>
                    </div>
                  </div>
                  <div className="flex justify-between items-center">
                    <span>„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„ÉóÈñãÁô∫</span>
                    <div className="flex items-center gap-2">
                      <Progress value={65} className="w-24" />
                      <span className="text-sm font-medium">+8%</span>
                    </div>
                  </div>
                  <div className="flex justify-between items-center">
                    <span>ÁµÑÁπîË≤¢ÁåÆÂ∫¶ÊîπÂñÑ</span>
                    <div className="flex items-center gap-2">
                      <Progress value={78} className="w-24" />
                      <span className="text-sm font-medium">+15%</span>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>

            <Card>
              <CardHeader>
                <CardTitle>„Ç≠„É£„É™„Ç¢‰∫àÊ∏¨</CardTitle>
              </CardHeader>
              <CardContent>
                <div className="space-y-4">
                  <div className="p-4 bg-green-50 rounded-lg">
                    <div className="flex items-center gap-2 mb-2">
                      <Trophy className="h-5 w-5 text-green-600" />
                      <span className="font-medium">Ê¨°„ÅÆÊòáÈÄ≤‰∫àÊ∏¨</span>
                    </div>
                    <div className="text-2xl font-bold text-green-600">2026Âπ¥4Êúà</div>
                    <div className="text-sm text-gray-600">‰∏ª‰ªªËÅ∑„Å∏„ÅÆÊòáÈÄ≤ÂèØËÉΩÊÄß 78%</div>
                  </div>
                  <div className="p-4 bg-blue-50 rounded-lg">
                    <div className="flex items-center gap-2 mb-2">
                      <Star className="h-5 w-5 text-blue-600" />
                      <span className="font-medium">Êé®Â•®„Ç≠„É£„É™„Ç¢„Éë„Çπ</span>
                    </div>
                    <div className="text-sm text-gray-600">„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„ÉóÈñãÁô∫ ‚Üí Â∞ÇÈñÄÊÄßÂº∑Âåñ ‚Üí ÁÆ°ÁêÜËÅ∑ÂÄôË£ú</div>
                  </div>
                </div>
              </CardContent>
            </Card>
          </div>
        </TabsContent>

        {/* „Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Éì„É•„Éº */}
        <TabsContent value="settings">
          <Card>
            <CardHeader>
              <CardTitle>„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÅÆ„Ç´„Çπ„Çø„Éû„Ç§„Ç∫</CardTitle>
              <CardDescription>
                Ë°®Á§∫„Åô„Çã„Ç¶„Ç£„Ç∏„Çß„ÉÉ„Éà„Çí„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Åó„Å¶„ÄÅ„ÅÇ„Å™„ÅüÂ∞ÇÁî®„ÅÆ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Çí‰ΩúÊàê„Åß„Åç„Åæ„Åô„ÄÇ
              </CardDescription>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                {customWidgets.map((widget) => (
                  <div key={widget.id} className="flex items-center justify-between p-4 border rounded-lg">
                    <div className="flex items-center gap-3">
                      <input
                        type="checkbox"
                        checked={widget.enabled}
                        onChange={(e) => {
                          setCustomWidgets(widgets => 
                            widgets.map(w => 
                              w.id === widget.id ? { ...w, enabled: e.target.checked } : w
                            )
                          );
                        }}
                        className="rounded"
                      />
                      <div>
                        <div className="font-medium">{widget.title}</div>
                        <div className="text-sm text-gray-600">{widget.type}</div>
                      </div>
                    </div>
                    <Badge className={widget.priority === 'high' ? 'bg-orange-100 text-orange-800' : widget.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}>
                      {widget.priority === 'high' ? 'ÈáçË¶Å' : widget.priority === 'medium' ? 'ÊôÆÈÄö' : '‰Ωé'}
                    </Badge>
                  </div>
                ))}
              </div>
              <div className="flex justify-end mt-6">
                <Button>
                  <Settings className="h-4 w-4 mr-2" />
                  Ë®≠ÂÆö„Çí‰øùÂ≠ò
                </Button>
              </div>
            </CardContent>
          </Card>
        </TabsContent>
      </Tabs>
    </div>
  );
}