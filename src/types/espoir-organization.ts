/**
 * エスポワール立神 組織構造定義
 * 作成日: 2025年9月28日
 * 基準: 20250801_エスポワール立神組織図.pdf
 */

export interface EspoirOrganizationStructure {
  facilityId: 'espoir-tategami';
  facilityName: '介護老人保健施設エスポワール立神';
  organizationType: 'geriatric_health_facility';

  // トップマネジメント
  topManagement: {
    開設者: {
      name: '小原壮一';
      position: '医療法人厚生会理事長';
      role: '施設運営管理補助';
    };
    施設長: {
      name: '石崎直樹';
      position: '施設長';
      role: '医療管理・運営管理';
      level: 13;
    };
  };

  // 部門構造
  departments: {
    事務部: EspoirDepartment;
    入所課: EspoirServiceDivision;
    在宅課: EspoirHomeCareDivision;
  };

  // 承認フロー定義
  approvalFlow: EspoirApprovalFlow;
}

// 部門基本構造
interface EspoirDepartment {
  責任者: {
    position: '事務長';
    name: '海江田浩一';
    level: 11;
    responsibilities: ['事務部門総括', '苦情窓口', '渉外'];
  };
  主任: {
    position: '事務主任';
    name: '川野美佐子';
    level: 5;
  };
  部門: {
    事務部: {
      業務: ['庶務', '会計事務', '総務', '保険請求等'];
    };
  };
}

// 入所課構造
interface EspoirServiceDivision {
  責任者: {
    position: '入所課課長';
    name: '平篤';
    level: 11;
    兼任: '支援相談室長';
    responsibilities: ['入所サービス指導調整', '苦情窓口', '渉外'];
  };

  管轄部門: {
    支援相談部: {
      室長: {
        position: '支援相談室長';
        name: '平篤';  // 入所課課長が兼任
        level: 10;
        responsibilities: ['入退所調整管理'];
      };
      支援相談員: string[];
    };

    看護部: {
      師長: {
        position: '看護師長';
        name: '帖佐道代';
        level: 10;
        responsibilities: ['看護介護業務管理'];
      };
      主任: {
        position: '看護主任';
        level: 5;
      };
    };

    介護部: {
      士長: {
        position: '介護士長';
        name: '厚石ユキ子';
        level: 10;
        responsibilities: ['介護業務管理'];
      };
      フロア体制: {
        Aフロア: {
          主任: { position: '介護部Aフロア主任'; level: 5; };
          マネージャー: {
            position: '介護部Aフロアマネージャー';
            name: '池上友康';
            level: 5;
          };
        };
        Bフロア: {
          主任: { position: '介護部Bフロア主任'; level: 5; };
          マネージャー: {
            position: '介護部Bフロアマネージャー';
            name: '槇原洋介';
            level: 5;
          };
        };
        Cフロア: {
          主任: { position: '介護部Cフロア主任'; level: 5; };
          マネージャー: { position: '介護部Cフロアマネージャー'; level: 5; };
        };
      };
    };

    ケアプラン管理部: {
      リーダー: {
        position: 'ケアプラン管理部リーダー';
        name: '平岡明彦';
        level: 5;
      };
    };

    栄養管理部: {
      主任: {
        position: '栄養管理部主任';
        name: '新屋敷初美';
        level: 5;
      };
    };

    リハビリテーション部: {
      主任: {
        position: 'リハビリテーション部主任';
        name: '池上順子';
        level: 5;
      };
    };
  };
}

// 在宅課構造
interface EspoirHomeCareDivision {
  責任者: {
    position: '在宅課課長';
    name: '阿久根一信';
    level: 11;
    兼任: '居宅介護支援事業所管理者';
    responsibilities: ['在宅サービス指導調整', '苦情窓口', '渉外'];
  };

  管轄事業所: {
    通所リハビリテーション事業所: {
      管理者: {
        position: '通所リハビリテーション事業所管理者代行';
        name: '茶屋純平';
        level: 9;
        responsibilities: ['通所リハ運営管理'];
      };
      主任: {
        position: '通所リハビリテーション主任';
        name: '上迫嘉博';
        level: 5;
      };
    };

    訪問リハビリテーション事業所: {
      管理者代行: {
        position: '訪問リハビリテーション事業所管理者代行';
        name: '台場耕';
        level: 9;
        responsibilities: ['訪リハ運営管理'];
      };
    };

    訪問介護事業所: {
      管理者: {
        position: '訪問介護事業所管理者';
        name: '山本明美';
        level: 10;
        responsibilities: ['訪問介護運営管理'];
      };
    };

    居宅介護支援事業所: {
      管理者: {
        position: '居宅介護支援事業所管理者';
        name: '阿久根一信';  // 在宅課課長が兼任
        level: 10;
        responsibilities: ['居宅介護支援運営管理'];
      };
      次長: {
        position: '居宅介護支援事業所次長';
        level: 9;
      };
      主任: {
        position: '居宅介護支援事業所主任';
        name: '大山一彦';
        level: 5;
      };
    };
  };
}

// 承認フロー定義
export interface EspoirApprovalFlow {
  // 入所課系統
  入所課: {
    支援相談部: {
      日常業務: '支援相談員';
      部門判断: '支援相談室長（平篤）';
      重要事項: '入所課課長（平篤）';
      施設判断: '施設長（石崎直樹）';
    };

    看護部: {
      日常業務: '看護師';
      専門判断: '看護主任';
      部門判断: '看護師長（帖佐道代）';
      重要事項: '入所課課長（平篤）';
    };

    介護部: {
      Aフロア: {
        日常業務: '介護職員';
        フロア判断: '介護部Aフロア主任/マネージャー';
        部門判断: '介護士長（厚石ユキ子）';
        重要事項: '入所課課長（平篤）';
      };
      Bフロア: {
        日常業務: '介護職員';
        フロア判断: '介護部Bフロア主任/マネージャー';
        部門判断: '介護士長（厚石ユキ子）';
        重要事項: '入所課課長（平篤）';
      };
      Cフロア: {
        日常業務: '介護職員';
        フロア判断: '介護部Cフロア主任/マネージャー';
        部門判断: '介護士長（厚石ユキ子）';
        重要事項: '入所課課長（平篤）';
      };
    };

    栄養管理部: {
      日常業務: '管理栄養士';
      専門判断: '栄養管理部主任（新屋敷初美）';
      重要事項: '入所課課長（平篤）';
    };

    リハビリテーション部: {
      日常業務: '理学療法士/作業療法士/言語聴覚士';
      専門判断: 'リハビリテーション部主任（池上順子）';
      重要事項: '入所課課長（平篤）';
    };
  };

  // 在宅課系統
  在宅課: {
    通所リハビリテーション事業所: {
      日常業務: 'リハビリスタッフ';
      事業所判断: '通所リハビリテーション主任（上迫嘉博）';
      管理判断: '管理者代行（茶屋純平）';
      重要事項: '在宅課課長（阿久根一信）';
    };

    訪問リハビリテーション事業所: {
      日常業務: 'リハビリスタッフ';
      管理判断: '管理者代行（台場耕）';
      重要事項: '在宅課課長（阿久根一信）';
    };

    訪問介護事業所: {
      日常業務: '訪問介護員';
      管理判断: '管理者（山本明美）';
      重要事項: '在宅課課長（阿久根一信）';
    };

    居宅介護支援事業所: {
      日常業務: 'ケアマネージャー';
      事業所判断: '主任（大山一彦）';
      管理判断: '次長/管理者（阿久根一信）';
      重要事項: '在宅課課長（阿久根一信）';
    };
  };

  // 事務部系統
  事務部: {
    日常業務: '事務職員';
    専門判断: '事務主任（川野美佐子）';
    部門判断: '事務長（海江田浩一）';
    重要事項: '施設長（石崎直樹）';
  };
}

// 権限委譲マトリクス
export interface AuthorityDelegationMatrix {
  // 各主任への委譲権限
  主任権限: {
    看護主任: [
      '看護師シフト調整',
      '看護業務の品質管理',
      '看護記録の承認',
      '医療材料の在庫管理'
    ];

    介護フロア主任: [
      'フロア内職員シフト調整',
      '介護業務の品質管理',
      'フロア内の環境整備',
      '利用者個別対応の判断'
    ];

    栄養管理部主任: [
      '献立の承認',
      '栄養アセスメント',
      '食事形態の変更判断',
      '厨房業務管理'
    ];

    リハビリテーション部主任: [
      'リハビリ計画の承認',
      'リハビリ機器の管理',
      '個別機能訓練計画',
      'リハビリスタッフの指導'
    ];

    事務主任: [
      '日常経理処理',
      '備品購入承認（一定額以下）',
      '勤怠管理',
      '各種届出書類の作成'
    ];
  };

  // エスカレーションが必要な事項
  エスカレーション事項: {
    課長レベル: [
      '部門間の調整事項',
      '外部機関との交渉',
      '予算超過の承認',
      '重大なインシデント対応'
    ];

    施設長レベル: [
      '施設運営方針の変更',
      '重要な契約締結',
      '行政対応',
      '重大事故・災害対応'
    ];
  };
}