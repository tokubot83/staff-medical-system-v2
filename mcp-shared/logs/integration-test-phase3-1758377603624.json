{
  "phase": "Phase 3: エラーハンドリングテスト",
  "timestamp": "2025-09-20T14:13:23.624Z",
  "results": [
    {
      "testName": "TEST-3A-1: 無効なトークン",
      "timestamp": "2025-09-20T14:13:14.017Z",
      "status": 401,
      "expectedStatus": 401,
      "success": true,
      "expectedError": "Invalid authentication token",
      "actualError": "無効なトークンです",
      "response": {
        "success": false,
        "error": "無効なトークンです",
        "timestamp": "2025-09-20T14:13:14.011Z"
      },
      "responseTime": 30
    },
    {
      "testName": "TEST-3A-2: トークン未送信",
      "timestamp": "2025-09-20T14:13:15.033Z",
      "status": 401,
      "expectedStatus": 401,
      "success": true,
      "expectedError": "Authorization header missing",
      "actualError": "認証が必要です",
      "response": {
        "success": false,
        "error": "認証が必要です",
        "timestamp": "2025-09-20T14:13:15.032Z"
      },
      "responseTime": 2
    },
    {
      "testName": "TEST-3A-3: 期限切れトークン",
      "timestamp": "2025-09-20T14:13:16.042Z",
      "status": 401,
      "expectedStatus": 401,
      "success": true,
      "expectedError": "Token has expired",
      "actualError": "無効なトークンです",
      "response": {
        "success": false,
        "error": "無効なトークンです",
        "timestamp": "2025-09-20T14:13:16.040Z"
      },
      "responseTime": 2
    },
    {
      "testName": "TEST-3B-1: 不正なカテゴリ",
      "timestamp": "2025-09-20T14:13:17.055Z",
      "status": 400,
      "expectedStatus": 400,
      "success": true,
      "expectedError": "Invalid category",
      "actualError": "Validation failed",
      "response": {
        "success": false,
        "error": "Validation failed",
        "message": "Request data validation failed",
        "details": [
          "Invalid category: 'invalid_category'. Valid categories: announcement, interview, training, survey, other"
        ],
        "timestamp": "2025-09-20T14:13:17.055Z"
      },
      "responseTime": 1
    },
    {
      "testName": "TEST-3B-2: 必須項目欠如（title）",
      "timestamp": "2025-09-20T14:13:18.062Z",
      "status": 400,
      "expectedStatus": 400,
      "success": true,
      "expectedError": "Missing required field: title",
      "actualError": "Validation failed",
      "response": {
        "success": false,
        "error": "Validation failed",
        "message": "Request data validation failed",
        "details": [
          "Missing required field: title"
        ],
        "timestamp": "2025-09-20T14:13:18.061Z"
      },
      "responseTime": 1
    },
    {
      "testName": "TEST-3B-3: 必須項目欠如（content）",
      "timestamp": "2025-09-20T14:13:19.067Z",
      "status": 400,
      "expectedStatus": 400,
      "success": true,
      "expectedError": "Missing required field: content",
      "actualError": "Validation failed",
      "response": {
        "success": false,
        "error": "Validation failed",
        "message": "Request data validation failed",
        "details": [
          "Missing required field: content"
        ],
        "timestamp": "2025-09-20T14:13:19.066Z"
      },
      "responseTime": 2
    },
    {
      "testName": "TEST-3B-4: 不正なtargetType",
      "timestamp": "2025-09-20T14:13:20.078Z",
      "status": 400,
      "expectedStatus": 400,
      "success": true,
      "expectedError": "Invalid targetType",
      "actualError": "Validation failed",
      "response": {
        "success": false,
        "error": "Validation failed",
        "message": "Request data validation failed",
        "details": [
          "Invalid targetType: 'invalid_target'. Valid types: all, departments, individuals, positions"
        ],
        "timestamp": "2025-09-20T14:13:20.078Z"
      },
      "responseTime": 2
    },
    {
      "testName": "TEST-3B-5: 不正な優先度",
      "timestamp": "2025-09-20T14:13:21.083Z",
      "status": 400,
      "expectedStatus": 400,
      "success": true,
      "expectedError": "Invalid priority",
      "actualError": "Validation failed",
      "response": {
        "success": false,
        "error": "Validation failed",
        "message": "Request data validation failed",
        "details": [
          "Invalid priority: 'super_urgent'. Valid priorities: high, medium, low"
        ],
        "timestamp": "2025-09-20T14:13:21.083Z"
      },
      "responseTime": 1
    },
    {
      "testName": "TEST-3C-1: レート制限（100リクエスト/分）",
      "timestamp": "2025-09-20T14:13:23.624Z",
      "totalRequests": 101,
      "successfulRequests": 4,
      "rateLimitedRequests": 97,
      "rateLimitHit": true,
      "success": true,
      "expectedStatus": 429,
      "message": "レート制限正常動作（97リクエストが制限）"
    }
  ],
  "summary": {
    "total": 9,
    "success": 9,
    "failed": 0,
    "successRate": "100.0",
    "authErrorTests": {
      "total": 3,
      "success": 3
    },
    "validationTests": {
      "total": 5,
      "success": 5
    },
    "rateLimitTests": {
      "total": 1,
      "success": 1
    }
  }
}