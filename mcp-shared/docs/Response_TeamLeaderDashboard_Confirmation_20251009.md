# TeamLeaderDashboardçµ±åˆå®Ÿè£… ç¢ºèªäº‹é …å›ç­”æ›¸

**ä½œæˆæ—¥**: 2025å¹´10æœˆ9æ—¥
**ä½œæˆè€…**: åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ 
**å®›å…ˆ**: VoiceDriveãƒãƒ¼ãƒ 
**ä»¶å**: Phase 8.5 TeamLeaderDashboardçµ±åˆå®Ÿè£… ç¢ºèªäº‹é …ã¸ã®å›ç­”

---

## ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒª

VoiceDriveãƒãƒ¼ãƒ ã‹ã‚‰æç¤ºã•ã‚ŒãŸTeamLeaderDashboardçµ±åˆå®Ÿè£…ã«é–¢ã™ã‚‹3ã¤ã®ç¢ºèªäº‹é …ã«ã¤ã„ã¦ã€åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ å´ã®å›ç­”ã‚’ä»¥ä¸‹ã«è¨˜è¼‰ã—ã¾ã™ã€‚

**çµè«–**:
- âœ… **Teamæ¦‚å¿µãªã—ï¼ˆOption Bï¼‰ã‚’æ¡ç”¨** â†’ DepartmentStation API-3æµç”¨
- âœ… **æ‰¿èªæ¨©é™ã¯VoiceDriveå´ã§permissionLevelåˆ¤å®š** â†’ è¿½åŠ APIä¸è¦
- âœ… **ãƒãƒ¼ãƒ çµ±è¨ˆã¯VoiceDriveå´ã§é›†è¨ˆ** â†’ è¿½åŠ APIä¸è¦

**åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã®è¿½åŠ å®Ÿè£…**: **ã‚¼ãƒ­**
**é–‹ç™ºã‚³ã‚¹ãƒˆå‰Šæ¸›**: **Â¥225,000**ï¼ˆOption Aã¨ã®å·®é¡ï¼‰
**å®Ÿè£…æ–¹å¼**: DepartmentStationæˆæœç‰©ã®å®Œå…¨æµç”¨

---

## ç¢ºèª-1: ã€ŒTeamï¼ˆãƒãƒ¼ãƒ ï¼‰ã€æ¦‚å¿µã®å­˜åœ¨

### è³ªå•1: åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã€ŒTeamã€ã¾ãŸã¯ã€Œãƒãƒ¼ãƒ ã€æ¦‚å¿µã¯å­˜åœ¨ã—ã¾ã™ã‹ï¼Ÿ

**å›ç­”**: âŒ **NOï¼ˆOption B: Teamæ¦‚å¿µãªã—ï¼‰** ã€æ¨å¥¨ã‚·ãƒŠãƒªã‚ªæ¡ç”¨ã€‘

#### ç¾åœ¨ã®çµ„ç¹”æ§‹é€ 

åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¯ã€ä»¥ä¸‹ã®éšå±¤æ§‹é€ ã®ã¿ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ï¼š

```
æ–½è¨­ï¼ˆFacilityï¼‰
  â””â”€ éƒ¨é–€ï¼ˆDepartmentï¼‰
      â””â”€ å€‹äººï¼ˆEmployeeï¼‰
```

**Employeeãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ¼ãƒ**:
```prisma
model Employee {
  id              String   @id @default(cuid())
  employeeId      String   @unique
  name            String
  position        String
  department      String   // éƒ¨é–€ã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹: "medical_care_ward"ï¼‰
  facilityId      String   // æ–½è¨­IDï¼ˆä¾‹: "tategami_hospital"ï¼‰
  permissionLevel Decimal  // 1.0ã€œ18.0ï¼ˆ25ãƒ¬ãƒ™ãƒ«ä½“ç³»ï¼‰
  accountType     String   // NEW_STAFF, EXPERIENCED_STAFF, MANAGER, etc.
  isRetired       Boolean  @default(false)

  // Teamé–¢é€£ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å­˜åœ¨ã—ãªã„
  // teamId         String?  â† å­˜åœ¨ã—ã¾ã›ã‚“
  // isTeamLeader   Boolean? â† å­˜åœ¨ã—ã¾ã›ã‚“
}
```

#### Teamæ¦‚å¿µã®ä¸åœ¨ç†ç”±

1. **çµ„ç¹”æ§‹é€ ã®ã‚·ãƒ³ãƒ—ãƒ«æ€§**: åŒ»ç™‚æ–½è¨­ã§ã¯ã€Œéƒ¨é–€ï¼ˆDepartmentï¼‰ã€ãŒæœ€å°ã®çµ„ç¹”å˜ä½
2. **æ¨©é™ãƒ¬ãƒ™ãƒ«ä½“ç³»**: permissionLevelï¼ˆ1.0ã€œ18.0ï¼‰ã§å½¹è·ãƒ»æ¨©é™ã‚’ç®¡ç†
3. **ãƒªãƒ¼ãƒ€ãƒ¼è­˜åˆ¥**: `permissionLevel >= 2.0`ï¼ˆä¸­å …è·å“¡ä»¥ä¸Šï¼‰ãŒãƒªãƒ¼ãƒ€ãƒ¼ç›¸å½“
4. **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®æ•´åˆæ€§**: éå»10å¹´é–“ã€éƒ¨é–€ãƒ™ãƒ¼ã‚¹ã§é‹ç”¨ä¸­

#### TeamLeaderDashboardã®å®Ÿè£…æ–¹é‡

**æ¡ç”¨ã‚·ãƒŠãƒªã‚ª**: **Team = Department ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹**

| æ¦‚å¿µ | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  | VoiceDriveè¡¨ç¤º |
|------|------------|---------------|
| Team | Departmentï¼ˆéƒ¨é–€ï¼‰ | "ãƒãƒ¼ãƒ "ã¨ã—ã¦è¡¨ç¤º |
| TeamLeader | permissionLevel >= 2.0 | "ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼"ã¨ã—ã¦è¡¨ç¤º |
| ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ | åŒã˜Departmentã®Employee | API-3ã§å–å¾— |

**å…·ä½“ä¾‹**:
```typescript
// VoiceDriveå´ã®å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸
const userDepartment = "medical_care_ward"; // User.department
const teamMembers = await fetch(`/api/employees/department/${userDepartment}`);
// â†’ DepartmentStation API-3ã‚’æµç”¨

// TeamLeaderDashboardè¡¨ç¤º
<h1>ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
<p>ã‚ãªãŸã®ãƒãƒ¼ãƒ : åŒ»ç™‚ç™‚é¤Šç—…æ£Ÿ</p> {/* departmentNameã‚’è¡¨ç¤º */}
```

### å½±éŸ¿

- âœ… **åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´**: è¿½åŠ å®Ÿè£…ã‚¼ãƒ­ï¼ˆAPI-3ã‚’ãã®ã¾ã¾æµç”¨ï¼‰
- âœ… **VoiceDriveå´**: DepartmentStationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæµç”¨ã€è¡¨ç¤ºåã®ã¿å¤‰æ›´
- âœ… **é–‹ç™ºå·¥æ•°å‰Šæ¸›**: 5äººæ—¥å‰Šæ¸›ï¼ˆAPI-5å®Ÿè£…ä¸è¦ï¼‰
- âœ… **é–‹ç™ºã‚³ã‚¹ãƒˆå‰Šæ¸›**: Â¥225,000å‰Šæ¸›

---

## ç¢ºèª-2: æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ¨©é™ç®¡ç†

### è³ªå•1: åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã§æ‰¿èªæ¨©é™ã‚’ç®¡ç†ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ

**å›ç­”**: âŒ **NOï¼ˆOption Bï¼‰** ã€æ¨å¥¨ã‚·ãƒŠãƒªã‚ªæ¡ç”¨ã€‘

#### æ‰¿èªæ¨©é™ã®ç®¡ç†æ–¹é‡

åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€æ‰¿èªæ¨©é™ã‚’å€‹åˆ¥ã«ç®¡ç†ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚
ä»£ã‚ã‚Šã«ã€**permissionLevel**ï¼ˆæ¨©é™ãƒ¬ãƒ™ãƒ«ï¼‰ã‚’åŸºæº–ã«æ‰¿èªå¯å¦ã‚’åˆ¤å®šã™ã‚‹é‹ç”¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

**æ‰¿èªæ¨©é™ã®åˆ¤å®šåŸºæº–**:

| permissionLevel | å½¹è·ä¾‹ | æ‰¿èªå¯èƒ½ç¯„å›² |
|----------------|-------|------------|
| 1.0 | æ–°äººè·å“¡ | âŒ æ‰¿èªæ¨©é™ãªã— |
| 2.0ã€œ4.0 | ä¸­å …è·å“¡ã€ä¸»ä»» | âœ… éƒ¨é–€å†…ã®ä¸€éƒ¨æ‰¿èªï¼ˆä¼‘æš‡ç”³è«‹ç­‰ï¼‰ |
| 5.0ã€œ9.0 | çµ±æ‹¬ä¸»ä»»ã€å‰¯èª²é•· | âœ… éƒ¨é–€å†…ã®å…¨æ‰¿èª + çµŒè²»ç²¾ç®— |
| 10.0ã€œ18.0 | èª²é•·ä»¥ä¸Šã€æ–½è¨­ç®¡ç†è€… | âœ… æ–½è¨­å…¨ä½“ã®æ‰¿èª |

**VoiceDriveå´ã®å®Ÿè£…ä¾‹**:
```typescript
// ApprovalService.ts
function canApprove(user: User, task: ApprovalTask): boolean {
  const level = user.permissionLevel;

  switch (task.taskType) {
    case 'leave_request':
      return level >= 2.0; // ä¸»ä»»ä»¥ä¸Š
    case 'expense_report':
      return level >= 5.0; // çµ±æ‹¬ä¸»ä»»ä»¥ä¸Š
    case 'interview_sheet':
      return level >= 2.0; // ä¸»ä»»ä»¥ä¸Š
    default:
      return level >= 5.0; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: çµ±æ‹¬ä¸»ä»»ä»¥ä¸Š
  }
}
```

### è³ªå•3: æ‰¿èªå±¥æ­´ã‚’åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã§ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ

**å›ç­”**: âŒ **NOï¼ˆOption Bï¼‰** ã€æ¨å¥¨ã‚·ãƒŠãƒªã‚ªæ¡ç”¨ã€‘

#### æ‰¿èªå±¥æ­´ã®ç®¡ç†æ–¹é‡

æ‰¿èªå±¥æ­´ã¯**VoiceDriveå†…éƒ¨ã®ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«ã®ã¿ã§ç®¡ç†**ã—ã¾ã™ã€‚

**ç†ç”±**:
1. **ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»»åˆ†ç•Œç‚¹**: æ‰¿èªãƒ•ãƒ­ãƒ¼ã¯VoiceDriveå›ºæœ‰æ©Ÿèƒ½ï¼ˆåŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã«ã¯å­˜åœ¨ã—ãªã„ï¼‰
2. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§**: åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã¸ã®Webhooké€ä¿¡ã¯ä¸è¦ï¼ˆVoiceDriveå†…ã§å®Œçµï¼‰
3. **å€‹äººæƒ…å ±ä¿è­·**: æ‰¿èªå†…å®¹ã«å€‹äººã®æ©Ÿå¾®æƒ…å ±ãŒå«ã¾ã‚Œã‚‹å¯èƒ½æ€§ã‚ã‚Šï¼ˆåŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã«é€ä¿¡ã—ãªã„ï¼‰

**ä¾‹å¤–ã‚±ãƒ¼ã‚¹ï¼ˆå°†æ¥æ‹¡å¼µï¼‰**:
- åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã®ã€Œé¢è«‡ã‚·ãƒ¼ãƒˆæ‰¿èªã€ã¨é€£æºã™ã‚‹å ´åˆã®ã¿ã€Webhooké€ä¿¡ã‚’æ¤œè¨
- ç¾æ™‚ç‚¹ã§ã¯å®Ÿè£…ä¸è¦

### å½±éŸ¿

- âœ… **åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´**: è¿½åŠ å®Ÿè£…ã‚¼ãƒ­ï¼ˆæ‰¿èªæ¨©é™APIä¸è¦ã€Webhookå—ä¿¡ä¸è¦ï¼‰
- âœ… **VoiceDriveå´**: permissionLevelãƒ™ãƒ¼ã‚¹ã®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…ï¼ˆç´„50è¡Œï¼‰
- âœ… **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: å€‹äººæƒ…å ±ã‚’åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã«é€ä¿¡ã—ãªã„è¨­è¨ˆ

---

## ç¢ºèª-3: ãƒãƒ¼ãƒ çµ±è¨ˆã®è¨ˆç®—æ–¹æ³•

### è³ªå•1: ã€Œãƒãƒ¼ãƒ ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒãƒ¼æ•°ã€ã®å®šç¾©ã¯ï¼Ÿ

**å›ç­”**: **Option A: é€€è·ã—ã¦ã„ãªã„è·å“¡ï¼ˆisRetired=falseï¼‰** ã€æ¨å¥¨ã€‘

#### ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒãƒ¼ã®å®šç¾©

```typescript
// åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã®å®šç¾©
activeMembers = employees.filter(e => e.isRetired === false).length;
```

**ç†ç”±**:
- åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã®`Employee.isRetired`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒä¿¡é ¼ã§ãã‚‹å”¯ä¸€ã®æƒ…å ±æº
- ãƒ­ã‚°ã‚¤ãƒ³å±¥æ­´ã¯åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã§ç®¡ç†ã—ã¦ã„ãªã„ï¼ˆVoiceDriveå´ã®ãƒ‡ãƒ¼ã‚¿ï¼‰
- çµ„ç¹”å›³ãƒ»é…ç½®è¨ˆç”»ã®åŸºæº–ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å®Ÿç¸¾ã‚ã‚Š

**VoiceDriveå´ã®å®Ÿè£…**:
```typescript
// TeamStatsService.ts
async function getTeamActiveMembers(department: string): Promise<number> {
  // DepartmentStation API-3ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã¾ã‚Œã‚‹
  const response = await fetch(`/api/employees/department/${department}`);
  return response.activeMembers; // API-3ãŒè¿”ã™å€¤ã‚’ä½¿ç”¨
}
```

### è³ªå•2: ãƒãƒ¼ãƒ çµ±è¨ˆã¯åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã§è¨ˆç®—ã—ã¾ã™ã‹ã€VoiceDriveå´ã§è¨ˆç®—ã—ã¾ã™ã‹ï¼Ÿ

**å›ç­”**: **Option Bï¼ˆæ¨å¥¨ï¼‰: VoiceDriveå´ã§è¨ˆç®—** â†’ è¿½åŠ APIä¸è¦

#### ãƒãƒ¼ãƒ çµ±è¨ˆã®è¨ˆç®—æ–¹é‡

**åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰å–å¾—ã™ã‚‹ãƒ‡ãƒ¼ã‚¿**ï¼ˆæ—¢å­˜API-3ã€API-4ã§å–å¾—æ¸ˆã¿ï¼‰:
- éƒ¨é–€ãƒ¡ãƒ³ãƒãƒ¼ä¸€è¦§ï¼ˆAPI-3ï¼‰
- éƒ¨é–€çµ±è¨ˆï¼ˆç·ãƒ¡ãƒ³ãƒãƒ¼æ•°ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒãƒ¼æ•°ã€æ¨©é™ãƒ¬ãƒ™ãƒ«åˆ†å¸ƒï¼‰ï¼ˆAPI-4ï¼‰

**VoiceDriveå´ã§è¨ˆç®—ã™ã‚‹çµ±è¨ˆ**:
- ãƒãƒ¼ãƒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°ï¼ˆVoiceDrive Projectãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é›†è¨ˆï¼‰
- ä»Šæœˆã®æŠ•ç¨¿æ•°ï¼ˆVoiceDrive Postãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é›†è¨ˆï¼‰
- æ‰¿èªå¾…ã¡ã‚¿ã‚¹ã‚¯æ•°ï¼ˆVoiceDrive ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é›†è¨ˆï¼‰
- ä»Šæœˆã®æ‰¿èªæ•°ï¼ˆVoiceDrive ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é›†è¨ˆï¼‰

**TeamStatsServiceå®Ÿè£…ä¾‹**:
```typescript
// src/services/TeamStatsService.ts
export async function getTeamStats(department: string): Promise<TeamStats> {
  // åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰å–å¾—ï¼ˆAPI-4ï¼‰
  const deptStats = await fetch(`/api/departments/${department}/statistics`);

  // VoiceDriveå†…éƒ¨ã‹ã‚‰é›†è¨ˆ
  const projectCount = await prisma.project.count({
    where: { department, status: 'active' }
  });

  const postCount = await prisma.post.count({
    where: {
      department,
      createdAt: { gte: startOfMonth(new Date()) }
    }
  });

  return {
    totalMembers: deptStats.totalMembers,        // API-4ã‹ã‚‰
    activeMembers: deptStats.activeMembers,      // API-4ã‹ã‚‰
    activeProjects: projectCount,                // VoiceDriveé›†è¨ˆ
    monthlyPosts: postCount,                     // VoiceDriveé›†è¨ˆ
    permissionLevelDistribution: deptStats.permissionLevelDistribution, // API-4ã‹ã‚‰
  };
}
```

### è³ªå•3: ãƒãƒ¼ãƒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç´ä»˜ã‘ã¯ï¼Ÿ

**å›ç­”**: **Option Bï¼ˆæ¨å¥¨ï¼‰: VoiceDriveã§ç®¡ç†** â†’ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«æ‹¡å¼µä¸è¦

#### ãƒãƒ¼ãƒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç®¡ç†æ–¹é‡

**VoiceDrive Projectãƒ†ãƒ¼ãƒ–ãƒ«**ã«`department`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½¿ç”¨:

```prisma
model Project {
  id              String    @id @default(cuid())
  title           String
  description     String?   @db.Text
  department      String    // éƒ¨é–€ã‚³ãƒ¼ãƒ‰ï¼ˆTeam = Departmentï¼‰
  leaderId        String    // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼ã®userId
  status          String    // active, completed, on_hold
  createdAt       DateTime  @default(now())

  // teamId ã¯ä¸è¦ï¼ˆdepartment ãŒãƒãƒ¼ãƒ IDï¼‰

  @@index([department])
}
```

**ãƒãƒ¼ãƒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå–å¾—**:
```typescript
// TeamLeaderDashboard
const userDepartment = currentUser.department; // "medical_care_ward"
const teamProjects = await prisma.project.findMany({
  where: { department: userDepartment }
});
```

### å½±éŸ¿

- âœ… **åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´**: è¿½åŠ å®Ÿè£…ã‚¼ãƒ­ï¼ˆAPI-3ã€API-4ã§å¿…è¦ãªãƒ‡ãƒ¼ã‚¿æä¾›æ¸ˆã¿ï¼‰
- âœ… **VoiceDriveå´**: TeamStatsServiceå®Ÿè£…ï¼ˆç´„200è¡Œã€VoiceDriveå†…éƒ¨é›†è¨ˆã®ã¿ï¼‰
- âœ… **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: VoiceDriveå†…éƒ¨é›†è¨ˆã®ãŸã‚é«˜é€Ÿï¼ˆ< 100msï¼‰

---

## å®Ÿè£…è¨ˆç”»ã‚µãƒãƒª

### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã®å®Ÿè£…

**æ–°è¦å®Ÿè£…**: **ãªã—ï¼ˆã‚¼ãƒ­ï¼‰**

**æ—¢å­˜APIæµç”¨**:
- âœ… API-3ï¼ˆéƒ¨é–€ãƒ¡ãƒ³ãƒãƒ¼ä¸€è¦§å–å¾—ï¼‰â†’ TeamLeaderDashboardã§æµç”¨
- âœ… API-4ï¼ˆéƒ¨é–€çµ±è¨ˆæƒ…å ±å–å¾—ï¼‰â†’ TeamStatsServiceã§æµç”¨

**ä½œæ¥­å†…å®¹**:
- â¬œ æœ¬å›ç­”æ›¸ã®ç¢ºèªãƒ»æ‰¿èªï¼ˆ10æœˆ10æ—¥ï¼‰
- â¬œ VoiceDriveãƒãƒ¼ãƒ ã¸ã®å›ç­”æ›¸é€ä»˜ï¼ˆ10æœˆ10æ—¥ï¼‰

**é–‹ç™ºå·¥æ•°**: **0äººæ—¥**
**é–‹ç™ºè²»**: **Â¥0**

---

### VoiceDriveå´ã®å®Ÿè£…

#### Phase 1å®Ÿè£…ï¼ˆ11æœˆ18æ—¥ã€œ22æ—¥ï¼‰

**æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ**:
- ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ‰¿èªã‚¿ã‚¹ã‚¯ç®¡ç†ï¼‰

**æ–°è¦ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…**:
- ApprovalService.tsï¼ˆç´„200è¡Œï¼‰
  - æ‰¿èªå¾…ã¡ã‚¿ã‚¹ã‚¯å–å¾—
  - æ‰¿èªãƒ»å´ä¸‹å‡¦ç†
  - æ‰¿èªã‚¿ã‚¹ã‚¯çµ±è¨ˆ
- TeamStatsService.tsï¼ˆç´„200è¡Œï¼‰
  - ãƒãƒ¼ãƒ çµ±è¨ˆé›†è¨ˆï¼ˆVoiceDriveå†…éƒ¨ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è¨ˆç®—ï¼‰
  - API-3ã€API-4ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æµç”¨

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¿®æ­£**:
- TeamLeaderDashboardPage.tsx
  - DepartmentStationPageã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æµç”¨
  - è¡¨ç¤ºåã‚’ã€Œéƒ¨é–€ã€â†’ã€Œãƒãƒ¼ãƒ ã€ã«å¤‰æ›´
  - ApprovalTaskã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 

**å®Ÿè£…ã‚¿ã‚¹ã‚¯**:

| æ—¥ä»˜ | ã‚¿ã‚¹ã‚¯ | æˆæœç‰© | å·¥æ•° |
|------|--------|-------|------|
| 11æœˆ18æ—¥ï¼ˆæœˆï¼‰ | ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ | prisma/schema.prisma | 0.5äººæ—¥ |
| 11æœˆ19æ—¥ï¼ˆç«ï¼‰ | ApprovalServiceå®Ÿè£… | src/services/ApprovalService.ts | 2äººæ—¥ |
| 11æœˆ20æ—¥ï¼ˆæ°´ï¼‰ | TeamStatsServiceå®Ÿè£… | src/services/TeamStatsService.ts | 1äººæ—¥ |
| 11æœˆ21æ—¥ï¼ˆæœ¨ï¼‰ | TeamLeaderDashboardPageä¿®æ­£ | src/pages/TeamLeaderDashboardPage.tsx | 1äººæ—¥ |
| 11æœˆ22æ—¥ï¼ˆé‡‘ï¼‰ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ | ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ | 0.5äººæ—¥ |

**é–‹ç™ºå·¥æ•°**: **5äººæ—¥**
**é–‹ç™ºè²»**: **Â¥250,000**

#### çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ11æœˆ23æ—¥ï¼‰

| ãƒ†ã‚¹ãƒˆå†…å®¹ | æœŸå¾…çµæœ | å·¥æ•° |
|----------|---------|------|
| æ‰¿èªã‚¿ã‚¹ã‚¯ä½œæˆãƒ»æ‰¿èªãƒ»å´ä¸‹ | ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«ã§æ­£ã—ãå‹•ä½œ | 0.5äººæ—¥ |
| ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼è¡¨ç¤ºï¼ˆAPI-3æµç”¨ï¼‰ | éƒ¨é–€ãƒ¡ãƒ³ãƒãƒ¼ãŒ"ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼"ã¨ã—ã¦è¡¨ç¤º | 0.3äººæ—¥ |
| ãƒãƒ¼ãƒ çµ±è¨ˆè¡¨ç¤º | API-4 + VoiceDriveé›†è¨ˆã®çµ±è¨ˆãŒè¡¨ç¤º | 0.2äººæ—¥ |

**ãƒ†ã‚¹ãƒˆå·¥æ•°**: **1äººæ—¥**
**ãƒ†ã‚¹ãƒˆè²»**: **Â¥50,000**

#### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆï¼ˆ11æœˆ24æ—¥ã€œ25æ—¥ï¼‰

- ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆæ›¸
- ApprovalServiceä»•æ§˜æ›¸
- TeamLeaderDashboardçµ±åˆãƒ†ã‚¹ãƒˆå ±å‘Šæ›¸

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå·¥æ•°**: **0.5äººæ—¥**
**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè²»**: **Â¥25,000**

---

## ã‚³ã‚¹ãƒˆæ¯”è¼ƒ

### Option Aï¼ˆTeamæ¦‚å¿µã‚ã‚Šï¼‰vs Option Bï¼ˆTeamæ¦‚å¿µãªã—ï¼‰

| é …ç›® | Option Aï¼ˆTeamæ¦‚å¿µã‚ã‚Šï¼‰ | Option Bï¼ˆTeamæ¦‚å¿µãªã—ã€æ¡ç”¨ï¼‰ | å·®é¡ |
|-----|----------------------|--------------------------|------|
| **åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´** |
| API-5å®Ÿè£… | 3äººæ—¥ã€Â¥150,000 | 0äººæ—¥ã€Â¥0 | **-Â¥150,000** |
| çµ±åˆãƒ†ã‚¹ãƒˆ | 1äººæ—¥ã€Â¥50,000 | 0äººæ—¥ã€Â¥0 | **-Â¥50,000** |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | 0.5äººæ—¥ã€Â¥25,000 | 0äººæ—¥ã€Â¥0 | **-Â¥25,000** |
| **VoiceDriveå´** |
| ApprovalTaskå®Ÿè£… | 5äººæ—¥ã€Â¥250,000 | 5äººæ—¥ã€Â¥250,000 | Â¥0 |
| çµ±åˆãƒ†ã‚¹ãƒˆ | 1äººæ—¥ã€Â¥50,000 | 1äººæ—¥ã€Â¥50,000 | Â¥0 |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | 0.5äººæ—¥ã€Â¥25,000 | 0.5äººæ—¥ã€Â¥25,000 | Â¥0 |
| **åˆè¨ˆ** | **11äººæ—¥ã€Â¥550,000** | **6.5äººæ—¥ã€Â¥325,000** | **-Â¥225,000** |

**ã‚³ã‚¹ãƒˆå‰Šæ¸›**: **Â¥225,000**ï¼ˆOption Bæ¡ç”¨ã«ã‚ˆã‚Šï¼‰

---

## å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### äº‹å‰ç¢ºèªãƒ•ã‚§ãƒ¼ã‚ºï¼ˆ10æœˆ10æ—¥ã€œ11æœˆ17æ—¥ï¼‰

| æ—¥ä»˜ | ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | æˆæœç‰© |
|------|--------|------|-------|
| 10æœˆ10æ—¥ï¼ˆæœ¨ï¼‰ | æœ¬å›ç­”æ›¸ã®ç¢ºèªãƒ»æ‰¿èª | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ  | æ‰¿èªæ¸ˆã¿å›ç­”æ›¸ |
| 10æœˆ10æ—¥ï¼ˆæœ¨ï¼‰ | VoiceDriveãƒãƒ¼ãƒ ã¸å›ç­”æ›¸é€ä»˜ | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ  | é€ä»˜å®Œäº†é€šçŸ¥ |
| 10æœˆ11æ—¥ã€œ11æœˆ17æ—¥ | VoiceDriveå´ã§è¨­è¨ˆæº–å‚™ | VoiceDriveãƒãƒ¼ãƒ  | è¨­è¨ˆæ›¸ |

### Phase 1å®Ÿè£…ï¼ˆ11æœˆ18æ—¥ã€œ22æ—¥ï¼‰

**VoiceDriveå´ã®ã¿å®Ÿè£…**:

| æ—¥ä»˜ | ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | æˆæœç‰© |
|------|--------|------|-------|
| 11æœˆ18æ—¥ï¼ˆæœˆï¼‰ | ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ | VoiceDriveãƒãƒ¼ãƒ  | prisma/schema.prisma |
| 11æœˆ19æ—¥ï¼ˆç«ï¼‰ | ApprovalServiceå®Ÿè£… | VoiceDriveãƒãƒ¼ãƒ  | ApprovalService.ts |
| 11æœˆ20æ—¥ï¼ˆæ°´ï¼‰ | TeamStatsServiceå®Ÿè£… | VoiceDriveãƒãƒ¼ãƒ  | TeamStatsService.ts |
| 11æœˆ21æ—¥ï¼ˆæœ¨ï¼‰ | TeamLeaderDashboardPageä¿®æ­£ | VoiceDriveãƒãƒ¼ãƒ  | TeamLeaderDashboardPage.tsx |
| 11æœˆ22æ—¥ï¼ˆé‡‘ï¼‰ | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ | VoiceDriveãƒãƒ¼ãƒ  | ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ |

**åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´**: ä½œæ¥­ãªã—ï¼ˆå¾…æ©Ÿã®ã¿ï¼‰

### çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ11æœˆ23æ—¥ï¼‰

| æ™‚é–“ | ãƒ†ã‚¹ãƒˆå†…å®¹ | æ‹…å½“ |
|------|----------|------|
| 10:00ã€œ11:00 | æ‰¿èªã‚¿ã‚¹ã‚¯ä½œæˆãƒ»æ‰¿èªãƒ»å´ä¸‹ãƒ†ã‚¹ãƒˆ | VoiceDriveãƒãƒ¼ãƒ  |
| 11:00ã€œ12:00 | ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼è¡¨ç¤ºãƒ†ã‚¹ãƒˆï¼ˆAPI-3æµç”¨ç¢ºèªï¼‰ | ä¸¡ãƒãƒ¼ãƒ  |
| 13:00ã€œ14:00 | ãƒãƒ¼ãƒ çµ±è¨ˆè¡¨ç¤ºãƒ†ã‚¹ãƒˆï¼ˆAPI-4æµç”¨ç¢ºèªï¼‰ | ä¸¡ãƒãƒ¼ãƒ  |
| 14:00ã€œ15:00 | ç·åˆå‹•ä½œç¢ºèª | ä¸¡ãƒãƒ¼ãƒ  |

### æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ï¼ˆ11æœˆ26æ—¥ï¼‰

| æ™‚é–“ | ã‚¿ã‚¹ã‚¯ | æ‹…å½“ |
|------|--------|------|
| 02:00ã€œ03:00 | VoiceDriveæœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤ | VoiceDriveãƒãƒ¼ãƒ  |
| 03:00ã€œ04:00 | æœ¬ç•ªç’°å¢ƒå‹•ä½œç¢ºèª | VoiceDriveãƒãƒ¼ãƒ  |
| 09:00ã€œ10:00 | ãƒªãƒªãƒ¼ã‚¹å®Œäº†å ±å‘Šæ›¸ä½œæˆ | VoiceDriveãƒãƒ¼ãƒ  |

---

## ãƒªã‚¹ã‚¯ç®¡ç†

### æƒ³å®šãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆå¤±æ•— | ğŸ”´ HIGH | 11æœˆ18æ—¥ã«å„ªå…ˆå®Ÿè£…ã€Userå¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã‚’äº‹å‰ç¢ºèª |
| permissionLevelåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã®è¤‡é›‘åŒ– | ğŸŸ¡ MEDIUM | åˆ¤å®šãƒ«ãƒ¼ãƒ«ã‚’å›ç­”æ›¸ã«æ˜è¨˜æ¸ˆã¿ã€å®Ÿè£…å‰ã«VoiceDriveãƒãƒ¼ãƒ ã¨ç¢ºèª |
| API-3ã€API-4ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ | ğŸŸ¡ MEDIUM | æ—¢å­˜DepartmentStationå®Ÿè£…ã§å•é¡Œãªã—ã€åŒæ§˜ã®å®Ÿè£…ã§OK |
| ãƒãƒ¼ãƒ =éƒ¨é–€ã®æ¦‚å¿µãŒåˆ©ç”¨è€…ã«ä¼ã‚ã‚‰ãªã„ | ğŸŸ¢ LOW | UIè¡¨ç¤ºåã§ã€Œãƒãƒ¼ãƒ ï¼ˆéƒ¨é–€ï¼‰ã€ã®ã‚ˆã†ã«ä½µè¨˜ |

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ï¼ˆå³æ™‚å®Ÿè¡Œï¼‰

- â¬œ æœ¬å›ç­”æ›¸ã®å†…éƒ¨ç¢ºèªãƒ»æ‰¿èªï¼ˆ10æœˆ10æ—¥ï¼‰
- â¬œ VoiceDriveãƒãƒ¼ãƒ ã¸ã®å›ç­”æ›¸é€ä»˜ï¼ˆ10æœˆ10æ—¥ï¼‰
- â¬œ 11æœˆ23æ—¥ã®çµ±åˆãƒ†ã‚¹ãƒˆå‚åŠ æº–å‚™

### VoiceDriveå´ï¼ˆå³æ™‚å®Ÿè¡Œï¼‰

- â¬œ å›ç­”æ›¸ã®å—é ˜ãƒ»ç¢ºèªï¼ˆ10æœˆ10æ—¥ï¼‰
- â¬œ ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ¼ãƒæœ€çµ‚è¨­è¨ˆï¼ˆ10æœˆ11æ—¥ã€œ15æ—¥ï¼‰
- â¬œ ApprovalServiceã€TeamStatsServiceè¨­è¨ˆï¼ˆ10æœˆ16æ—¥ã€œ31æ—¥ï¼‰
- â¬œ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆï¼ˆ11æœˆ1æ—¥ã€œ17æ—¥ï¼‰
- â¬œ Phase 1å®Ÿè£…é–‹å§‹ï¼ˆ11æœˆ18æ—¥ï¼‰

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### æ—¢å­˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [TeamLeaderDashboard DBè¦ä»¶åˆ†æ_20251009.md](./TeamLeaderDashboard_DBè¦ä»¶åˆ†æ_20251009.md)
- [TeamLeaderDashboardæš«å®šãƒã‚¹ã‚¿ãƒ¼ãƒªã‚¹ãƒˆ_20251009.md](./TeamLeaderDashboardæš«å®šãƒã‚¹ã‚¿ãƒ¼ãƒªã‚¹ãƒˆ_20251009.md)
- [DepartmentStationæš«å®šãƒã‚¹ã‚¿ãƒ¼ãƒªã‚¹ãƒˆ_20251009.md](./DepartmentStationæš«å®šãƒã‚¹ã‚¿ãƒ¼ãƒªã‚¹ãƒˆ_20251009.md)ï¼ˆAPI-3ã€API-4ä»•æ§˜ï¼‰
- [ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»»åˆ†ç•Œç‚¹å®šç¾©æ›¸_20251008.md](./ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»»åˆ†ç•Œç‚¹å®šç¾©æ›¸_20251008.md)
- [lightsail-integration-master-plan-20251005-updated.md](./lightsail-integration-master-plan-20251005-updated.md)ï¼ˆPhase 8.5ï¼‰

### ä½œæˆäºˆå®šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ ] ApprovalTaskãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆæ›¸ï¼ˆVoiceDriveãƒãƒ¼ãƒ ã€11æœˆ18æ—¥ï¼‰
- [ ] ApprovalServiceä»•æ§˜æ›¸ï¼ˆVoiceDriveãƒãƒ¼ãƒ ã€11æœˆ19æ—¥ï¼‰
- [ ] TeamStatsServiceä»•æ§˜æ›¸ï¼ˆVoiceDriveãƒãƒ¼ãƒ ã€11æœˆ20æ—¥ï¼‰
- [ ] Phase 1çµ±åˆãƒ†ã‚¹ãƒˆå ±å‘Šæ›¸ï¼ˆTeamLeaderDashboardï¼‰ï¼ˆä¸¡ãƒãƒ¼ãƒ ã€11æœˆ23æ—¥ï¼‰

---

## æ‰¿èª

### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ 

- **æ‰¿èªè€…**: åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼
- **æ‰¿èªæ—¥**: 2025å¹´10æœˆ10æ—¥ï¼ˆäºˆå®šï¼‰
- **ç½²å**: _____________________

### VoiceDriveãƒãƒ¼ãƒ 

- **ç¢ºèªè€…**: VoiceDriveãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼
- **ç¢ºèªæ—¥**: 2025å¹´10æœˆ10æ—¥ï¼ˆäºˆå®šï¼‰
- **ç½²å**: _____________________

---

**æ–‡æ›¸çµ‚äº†**

*æœ¬å›ç­”æ›¸ã¯ä¸¡ãƒãƒ¼ãƒ ã®åˆæ„ã®ã‚‚ã¨ã€Phase 8.5å®Ÿè£…ã®æ­£å¼ãªä»•æ§˜ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚*
