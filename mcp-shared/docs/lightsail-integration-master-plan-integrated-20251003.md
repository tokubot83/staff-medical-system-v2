# AWS Lightsailçµ±åˆå®Ÿè£…ãƒã‚¹ã‚¿ãƒ¼ãƒ—ãƒ©ãƒ³ã€çµ±åˆç‰ˆã€‘

**æ–‡æ›¸ç•ªå·**: MP-2025-1003-002
**ä½œæˆæ—¥**: 2025å¹´9æœˆ20æ—¥
**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ4æ—¥
**ä½œæˆè€…**: åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ  & VoiceDriveãƒãƒ¼ãƒ 
**å®›å…ˆ**: åŒ»ç™‚æ³•äººåšç”Ÿä¼š å…¨é–¢ä¿‚è€…
**é‡è¦åº¦**: ğŸ”´ æœ€é‡è¦

---

## ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

åŒ»ç™‚è·å“¡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã¨VoiceDriveã‚·ã‚¹ãƒ†ãƒ ã®AWS Lightsailç’°å¢ƒã§ã®çµ±åˆå®Ÿè£…è¨ˆç”»æ›¸ã§ã™ã€‚
**Phase 0ï¼ˆçµ„ç¹”è¨­è¨ˆï¼‰ã‚’æœ€å„ªå…ˆäº‹é …**ã¨ã—ã¦ã€æ®µéšçš„ã«å®Ÿè£…ã‚’é€²ã‚ã¾ã™ã€‚

### ğŸ¯ æ ¸å¿ƒç›®æ¨™
- **è·å“¡ç™»éŒ²æ™‚ã®è‡ªå‹•VoiceDriveã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ**
- **SSOï¼ˆã‚·ãƒ³ã‚°ãƒ«ã‚µã‚¤ãƒ³ã‚ªãƒ³ï¼‰ã«ã‚ˆã‚‹å®Œå…¨çµ±åˆ**
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæ–¹å‘ãƒ‡ãƒ¼ã‚¿åŒæœŸ**
- **çµ±åˆãƒ¬ãƒãƒ¼ãƒˆãƒ»åˆ†ææ©Ÿèƒ½**

### ğŸ“Š ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³ï¼ˆ2025å¹´10æœˆ4æ—¥æ™‚ç‚¹ï¼‰

**å®Œäº†æ¸ˆã¿**ï¼š
- âœ… **25ãƒ¬ãƒ™ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¨©é™ä½“ç³»**ï¼ˆ2025å¹´10æœˆ4æ—¥å®Œäº†ï¼‰
  - åŸºæœ¬æ¨©é™ãƒ¬ãƒ™ãƒ«: L1ï½L18ï¼ˆ18æ®µéšï¼‰
  - çœ‹è­·å¸«ãƒªãƒ¼ãƒ€ãƒ¼æ¨©é™: L1.5, L2.5, L3.5, L4.5ï¼ˆ4æ®µéšï¼‰
  - ç‰¹åˆ¥æ¨©é™ãƒ¬ãƒ™ãƒ«: L97ï¼ˆå¥è¨ºæ‹…å½“è€…ï¼‰ã€L98ï¼ˆç”£æ¥­åŒ»ï¼‰ã€L99ï¼ˆã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ï¼‰
  - **åˆè¨ˆ25ç¨®é¡ã®æ¨©é™ãƒ¬ãƒ™ãƒ«ã§å…¨è·ç¨®ã‚«ãƒãƒ¼**
  - VoiceDriveãƒãƒ¼ãƒ ã¨åŒæœŸå®Œäº†

- âœ… **å¥åº·ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ**ï¼ˆ2025å¹´10æœˆ4æ—¥å®Œäº†ï¼‰
  - ã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯åŒæ„ç®¡ç†æ©Ÿèƒ½ï¼ˆåŠ´åƒå®‰å…¨è¡›ç”Ÿæ³•ç¬¬66æ¡ã®10æº–æ‹ ï¼‰
  - å¥åº·ãƒ‡ãƒ¼ã‚¿ç›£æŸ»ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ 
  - å¥è¨ºæ‹…å½“è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
  - VoiceDriveå¥åº·é€šçŸ¥çµ±åˆï¼ˆãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ä»˜ãï¼‰

- âœ… **ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹é€šå ±çµ±åˆ**ï¼ˆ2025å¹´10æœˆ4æ—¥å®Œäº†ã€87.5%æˆåŠŸï¼‰
  - VoiceDriveå—ä»˜ç¢ºèªé€šçŸ¥é€ä¿¡æ©Ÿèƒ½ï¼ˆ10ä»¶ä¸­7ä»¶åˆæ ¼ã€2ä»¶æ‰‹å‹•ç¢ºèªå¾…ã¡ï¼‰
  - HMAC-SHA256ç½²åæ¤œè¨¼
  - ç·Šæ€¥åº¦åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆï¼ˆCritical/High/Medium/Lowï¼‰
  - ãƒãƒƒãƒå‡¦ç†å¯¾å¿œï¼ˆ5ä»¶é€£ç¶šå‡¦ç†æˆåŠŸï¼‰
  - çµ±åˆãƒ†ã‚¹ãƒˆäºˆå®š: **2025å¹´10æœˆ8æ—¥ï¼ˆTC-006, TC-008æ‰‹å‹•ç¢ºèªï¼‰**

- âœ… Phase 3: æ–½è¨­åˆ¥æ¨©é™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ100%å®Œäº†ã€DBæ§‹ç¯‰å¾…æ©Ÿä¸­ï¼‰
  - å°åŸç—…é™¢ï¼ˆ420åã€9å½¹è·ï¼‰
  - ç«‹ç¥ãƒªãƒãƒ“ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ¸©æ³‰ç—…é™¢ï¼ˆ180åã€12å½¹è·ï¼‰
  - ã‚¨ã‚¹ãƒãƒ¯ãƒ¼ãƒ«ç«‹ç¥ï¼ˆ150åã€33å½¹è·ï¼‰
  - **ç·è¨ˆ: 3æ–½è¨­750åã®çµ±åˆåŸºç›¤æ§‹ç¯‰æ¸ˆã¿**

- âœ… Phase 5-3: ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ¼ã‚¹é¸æŠåˆ¶åº¦ï¼ˆçµ±åˆãƒ†ã‚¹ãƒˆ77.8%æˆåŠŸã€DBæ§‹ç¯‰å¾…æ©Ÿä¸­ï¼‰
  - Aï½D 4ã‚³ãƒ¼ã‚¹ä½“ç³»å®Ÿè£…
  - TypeScriptå‹å®šç¾©å®Œæˆ
  - ç®¡ç†ç”»é¢å®Ÿè£…å®Œäº†
  - çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿæ–½æ¸ˆã¿

**å¾…æ©Ÿä¸­**ï¼š
- â³ å…±é€šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ãƒãƒ¼ãƒ ä½œæ¥­ä¸­ï¼‰
- â³ Phase 3: æœ¬ç•ªç’°å¢ƒæ¥ç¶šãƒ†ã‚¹ãƒˆ
- â³ Phase 5-3: Supabaseçµ±åˆï¼ˆ7æ—¥é–“ä½œæ¥­è¨ˆç”»æº–å‚™å®Œäº†ï¼‰
- â³ ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹é€šå ±: TC-006, TC-008æ‰‹å‹•ç¢ºèªï¼ˆ10æœˆ8æ—¥äºˆå®šï¼‰

**æ¬¡æœŸãƒ•ã‚§ãƒ¼ã‚º**ï¼š
- ğŸ“… Phase 4: è·å“¡ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ï¼ˆå…¥è·ãƒ»é€€è·å‡¦ç†ï¼‰
- ğŸ“… Phase 5-4: ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ¼ã‚¹æ©Ÿèƒ½æ‹¡å¼µ
- ğŸ“… ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹é€šå ±: æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ10æœˆ10æ—¥äºˆå®šï¼‰

---

## ç›®æ¬¡

1. [Phase 0: çµ„ç¹”è¨­è¨ˆã€æœ€å„ªå…ˆã€‘](#phase-0-çµ„ç¹”è¨­è¨ˆæœ€å„ªå…ˆ)
2. [Phase 1: åŸºç›¤æ§‹ç¯‰](#phase-1-åŸºç›¤æ§‹ç¯‰)
3. [Phase 2: èªè¨¼ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ](#phase-2-èªè¨¼ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ)
4. [Phase 3: ãƒ‡ãƒ¼ã‚¿é€£æºå®Ÿè£…](#phase-3-ãƒ‡ãƒ¼ã‚¿é€£æºå®Ÿè£…)
5. [Phase 4: è·å“¡ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†](#phase-4-è·å“¡ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†)
6. [Phase 4.5: å…±é€šDBæ§‹ç¯‰ï¼ˆè©³ç´°è¨ˆç”»ï¼‰](#phase-45-å…±é€šdbæ§‹ç¯‰è©³ç´°è¨ˆç”»)
7. [Phase 4.7: DBæ§‹ç¯‰å¾Œã®ç§»è¡Œä½œæ¥­](#phase-47-dbæ§‹ç¯‰å¾Œã®ç§»è¡Œä½œæ¥­)
8. [Phase 5: æœ¬ç•ªç§»è¡Œ](#phase-5-æœ¬ç•ªç§»è¡Œ)
9. [å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«](#å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«)
10. [ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š](#ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š)
11. [ãƒªã‚¹ã‚¯ç®¡ç†](#ãƒªã‚¹ã‚¯ç®¡ç†)
12. [æˆåŠŸæŒ‡æ¨™ï¼ˆKPIï¼‰](#æˆåŠŸæŒ‡æ¨™kpi)
13. [æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³](#æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³)

---

## Phase 0: çµ„ç¹”è¨­è¨ˆã€æœ€å„ªå…ˆã€‘ğŸ”´

### å®Ÿæ–½æœŸé–“: å³åº§é–‹å§‹ï½2é€±é–“

### 0.1 åŒ»ç™‚æ³•äººåšç”Ÿä¼šçµ„ç¹”æ§‹é€ ã®ç¢ºå®š

```
åŒ»ç™‚æ³•äººåšç”Ÿä¼š
â”œâ”€â”€ æœ¬éƒ¨
â”‚   â”œâ”€â”€ ç†äº‹é•·
â”‚   â”œâ”€â”€ å°‚å‹™ç†äº‹
â”‚   â””â”€â”€ å¸¸å‹™ç†äº‹
â”œâ”€â”€ æ–½è¨­
â”‚   â”œâ”€â”€ å°åŸç—…é™¢ï¼ˆobara-hospitalï¼‰- 420åã€9å½¹è·
â”‚   â”œâ”€â”€ ç«‹ç¥ãƒªãƒãƒ“ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ¸©æ³‰ç—…é™¢ï¼ˆtategami-rehabilitationï¼‰- 180åã€12å½¹è·
â”‚   â”œâ”€â”€ ã‚¨ã‚¹ãƒãƒ¯ãƒ¼ãƒ«ç«‹ç¥ï¼ˆespoir-tategamiï¼‰- 150åã€33å½¹è·
â”‚   â”œâ”€â”€ åšç”Ÿã‚¯ãƒªãƒ‹ãƒƒã‚¯ï¼ˆ3æ‹ ç‚¹ï¼‰
â”‚   â””â”€â”€ è¨ªå•çœ‹è­·ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ2æ‹ ç‚¹ï¼‰
â””â”€â”€ éƒ¨é–€
    â”œâ”€â”€ åŒ»ç™‚éƒ¨é–€
    â”œâ”€â”€ çœ‹è­·éƒ¨é–€
    â”œâ”€â”€ åŒ»ç™‚æŠ€è¡“éƒ¨é–€
    â”œâ”€â”€ äº‹å‹™éƒ¨é–€
    â””â”€â”€ æ–½è¨­ç®¡ç†éƒ¨é–€
```

### 0.2 æ¨©é™éšå±¤è¨­è¨ˆï¼ˆ25ãƒ¬ãƒ™ãƒ«ä½“ç³»ï¼‰

#### åŸºæœ¬æ¨©é™ãƒ¬ãƒ™ãƒ«ï¼ˆ1-18ï¼‰

| ãƒ¬ãƒ™ãƒ« | å½¹è· | æ¨©é™ç¯„å›² | ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒ¼ãƒ« | å®Ÿè£…çŠ¶æ³ |
|--------|------|----------|----------------|----------|
| L1 | çœ‹è­·åŠ©æ‰‹ | è‡ªåˆ†ã®æƒ…å ±ã®ã¿ | STAFF | âœ… å®Ÿè£…æ¸ˆã¿ |
| L2 | çœ‹è­·å¸« | è‡ªåˆ†ã®æƒ…å ±ã®ã¿ | STAFF | âœ… å®Ÿè£…æ¸ˆã¿ |
| L3 | å…ˆè¼©çœ‹è­·å¸« | è‡ªåˆ†ã®æƒ…å ±ã®ã¿ | STAFF | âœ… å®Ÿè£…æ¸ˆã¿ |
| L4 | ãƒ—ãƒªã‚»ãƒ—ã‚¿ãƒ¼ | è‡ªåˆ†ã®æƒ…å ±ã®ã¿ | STAFF | âœ… å®Ÿè£…æ¸ˆã¿ |
| L5 | å‰¯ä¸»ä»» | äºˆç´„ç®¡ç†ãƒ»ã‚·ãƒ•ãƒˆèª¿æ•´ | TEAM_LEADER | âœ… å®Ÿè£…æ¸ˆã¿ |
| L6 | ä¸»ä»» | é¢è«‡å®Ÿæ–½ãƒ»è¨˜éŒ²ä½œæˆ | TEAM_LEADER | âœ… å®Ÿè£…æ¸ˆã¿ |
| L7 | å‰¯å¸«é•· / çµ±æ‹¬ä¸»ä»» | éƒ¨é–€è·å“¡ã®æƒ…å ±é–²è¦§ | DEPARTMENT_HEAD | âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆåŒ»ç™‚ãƒãƒ¼ãƒ æ‰¿èªï¼‰ |
| L8 | å¸«é•· / ç§‘é•· | éƒ¨ç½²å…¨ä½“ã®è©•ä¾¡å®Ÿæ–½ | DEPARTMENT_HEAD | âœ… å®Ÿè£…æ¸ˆã¿ |
| L9 | éƒ¨é•· | å…¨éƒ¨ç½²ã®å®Ÿç¸¾åˆ†æ | EXECUTIVE | âœ… å®Ÿè£…æ¸ˆã¿ |
| L10 | åŒ»å±€é•· | éƒ¨é–€äºˆç®—ã®ç®¡ç† | EXECUTIVE | âœ… å®Ÿè£…æ¸ˆã¿ |
| L11 | äº‹å‹™é•· | æ–½è¨­å…¨ä½“ã®é‹å–¶çŠ¶æ³ | EXECUTIVE | âœ… å®Ÿè£…æ¸ˆã¿ |
| L12 | å‰¯é™¢é•· | çµŒå–¶æˆ¦ç•¥ç­–å®š | EXECUTIVE | âœ… å®Ÿè£…æ¸ˆã¿ |
| L13 | äº‹å‹™éƒ¨é•· | è²¡å‹™ãƒ¬ãƒãƒ¼ãƒˆé–²è¦§ | EXECUTIVE | âœ… å®Ÿè£…æ¸ˆã¿ |
| L14 | äººäº‹éƒ¨é•· | äººäº‹æ–¹é‡ç­–å®š | HR_DIRECTOR | âœ… å®Ÿè£…æ¸ˆã¿ |
| L15 | ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹è²¬ä»»è€… | ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç®¡ç† | COMPLIANCE | âœ… å®Ÿè£…æ¸ˆã¿ |
| L16 | å°‚å‹™ç†äº‹ | æ³•äººå…¨ä½“ã®çµŒå–¶ç®¡ç† | SENIOR_EXECUTIVE | âœ… å®Ÿè£…æ¸ˆã¿ |
| L17 | å¸¸å‹™ç†äº‹ | ç†äº‹ä¼šæ±ºè­°äº‹é …ç®¡ç† | SENIOR_EXECUTIVE | âœ… å®Ÿè£…æ¸ˆã¿ |
| L18 | ç†äº‹é•· | å…¨æ¨©é™ï¼ˆæœ€é«˜è²¬ä»»è€…ï¼‰ | CHAIRMAN | âœ… å®Ÿè£…æ¸ˆã¿ |

#### çœ‹è­·å¸«ãƒªãƒ¼ãƒ€ãƒ¼æ¨©é™ãƒ¬ãƒ™ãƒ«ï¼ˆ0.5åˆ»ã¿ï¼‰

| ãƒ¬ãƒ™ãƒ« | å½¹è· | æ¨©é™ç¯„å›² | ç‰¹æ®Šãƒ•ãƒ©ã‚° | å®Ÿè£…çŠ¶æ³ |
|--------|------|----------|------------|----------|
| L1.5 | çœ‹è­·åŠ©æ‰‹ï¼ˆãƒªãƒ¼ãƒ€ãƒ¼å…¼å‹™ï¼‰ | è‡ªåˆ†ã®æƒ…å ±ã®ã¿ + ãƒªãƒ¼ãƒ€ãƒ¼æ¥­å‹™ | canPerformLeaderDuty: true | âœ… å®Ÿè£…æ¸ˆã¿ |
| L2.5 | çœ‹è­·å¸«ï¼ˆãƒªãƒ¼ãƒ€ãƒ¼å…¼å‹™ï¼‰ | è‡ªåˆ†ã®æƒ…å ±ã®ã¿ + ãƒªãƒ¼ãƒ€ãƒ¼æ¥­å‹™ | canPerformLeaderDuty: true | âœ… å®Ÿè£…æ¸ˆã¿ |
| L3.5 | å…ˆè¼©çœ‹è­·å¸«ï¼ˆãƒªãƒ¼ãƒ€ãƒ¼å…¼å‹™ï¼‰ | è‡ªåˆ†ã®æƒ…å ±ã®ã¿ + ãƒªãƒ¼ãƒ€ãƒ¼æ¥­å‹™ | canPerformLeaderDuty: true | âœ… å®Ÿè£…æ¸ˆã¿ |
| L4.5 | ãƒ—ãƒªã‚»ãƒ—ã‚¿ãƒ¼ï¼ˆãƒªãƒ¼ãƒ€ãƒ¼å…¼å‹™ï¼‰ | è‡ªåˆ†ã®æƒ…å ±ã®ã¿ + ãƒªãƒ¼ãƒ€ãƒ¼æ¥­å‹™ | canPerformLeaderDuty: true | âœ… å®Ÿè£…æ¸ˆã¿ |

#### ç‰¹åˆ¥æ¨©é™ãƒ¬ãƒ™ãƒ«ï¼ˆ97-99ï¼šå¥åº·ç®¡ç†å°‚ç”¨ï¼‰

| ãƒ¬ãƒ™ãƒ« | å½¹è· | æ¨©é™ç¯„å›² | ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãƒ‡ãƒ¼ã‚¿ | æ³•çš„æ ¹æ‹  | å®Ÿè£…çŠ¶æ³ |
|--------|------|----------|-------------------|----------|----------|
| L97 | å¥è¨ºæ‹…å½“è€… | å¥åº·è¨ºæ–­ãƒ»ã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯ç®¡ç† | å¥è¨ºãƒ‡ãƒ¼ã‚¿ã€ã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯ã€å†æ¤œæŸ»ç®¡ç†ã€åŸºæœ¬è·å“¡æƒ…å ± | åŠ´åƒå®‰å…¨è¡›ç”Ÿæ³•ç¬¬66æ¡ | âœ… å®Ÿè£…æ¸ˆã¿ |
| L98 | ç”£æ¥­åŒ» | ç”£æ¥­åŒ»é¢è«‡ãƒ»å°±æ¥­åˆ¤å®š | å¥è¨ºãƒ‡ãƒ¼ã‚¿ã€ã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯ã€ç”£æ¥­åŒ»é¢è«‡ã€å°±æ¥­åˆ¶é™ã€å‹¤å‹™å±¥æ­´ã€æ¬ å‹¤è¨˜éŒ² | åŠ´åƒå®‰å…¨è¡›ç”Ÿæ³•ç¬¬13æ¡ | âœ… å®Ÿè£…æ¸ˆã¿ |
| L99 | ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€… | ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®è¨­å®šãƒ»ç®¡ç† | å…¨ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ | ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†æ¨©é™ | âœ… å®Ÿè£…æ¸ˆã¿ |

**é‡è¦äº‹é …**:
- **ãƒ¬ãƒ™ãƒ«97-99ã¯å¥åº·ç®¡ç†å°‚ç”¨æ¨©é™**ã§ã‚ã‚Šã€çµ¦ä¸ãƒ»è©•ä¾¡ãƒ»é¢è«‡ç­‰ã®äººäº‹ãƒ‡ãƒ¼ã‚¿ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯åˆ¶é™ã•ã‚Œã¦ã„ã¾ã™
- **ãƒ¬ãƒ™ãƒ«97ï¼ˆå¥è¨ºæ‹…å½“è€…ï¼‰**ã¯åŒæ„ã®ãªã„å€‹åˆ¥ã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯çµæœã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ï¼ˆåŠ´åƒå®‰å…¨è¡›ç”Ÿæ³•ç¬¬66æ¡ã®10ç¬¬2é …æº–æ‹ ï¼‰
- **ãƒ¬ãƒ™ãƒ«98ï¼ˆç”£æ¥­åŒ»ï¼‰**ã¯è·å“¡ã®åŒæ„ãªãã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯çµæœã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼ˆåŒæ³•ç¬¬66æ¡ã®10ç¬¬3é …ï¼‰
- **ç«‹ç¥ãƒªãƒãƒ“ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ¸©æ³‰ç—…é™¢ã®ã€Œçµ±æ‹¬ä¸»ä»»ã€**ã¯ãƒ¬ãƒ™ãƒ«7ï¼ˆåŒ»ç™‚ãƒãƒ¼ãƒ æ‰¿èªæ¸ˆã¿ï¼‰
- **åˆè¨ˆ25ç¨®é¡**ã®æ¨©é™ãƒ¬ãƒ™ãƒ«ã§å…¨è·ç¨®ãƒ»å…¨å½¹è·ã‚’ã‚«ãƒãƒ¼

### 0.3 ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãƒãƒˆãƒªãƒƒã‚¯ã‚¹

```sql
-- æ¨©é™ãƒã‚¹ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE permission_matrix (
    role_id VARCHAR(20) PRIMARY KEY,
    can_view_all_staff BOOLEAN DEFAULT FALSE,
    can_edit_all_staff BOOLEAN DEFAULT FALSE,
    can_view_department BOOLEAN DEFAULT FALSE,
    can_approve_interviews BOOLEAN DEFAULT FALSE,
    can_access_reports BOOLEAN DEFAULT FALSE
);
```

---

## Phase 1: åŸºç›¤æ§‹ç¯‰

### å®Ÿæ–½æœŸé–“: 3é€±é–“ï¼ˆPhase 0å®Œäº†å¾Œï¼‰

### 1.1 AWS Lightsailç’°å¢ƒæ§‹ç¯‰

#### ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ§‹æˆ
```yaml
Production Environment:
  Instance:
    - Type: 4GB RAM, 2 vCPU, 80GB SSD
    - OS: Ubuntu 22.04 LTS
    - Cost: $40/month

  Database:
    - Type: Managed MySQL 8.0
    - Size: 1GB RAM, 40GB Storage
    - Cost: $30/month

  Storage:
    - Type: Object Storage
    - Size: 100GB
    - Cost: $10/month

  Total: $80/month
```

### 1.2 MySQLå…±é€šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

```sql
-- å…±é€šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: lightsail_integrated_db

-- 1. çµ±åˆè·å“¡ãƒã‚¹ã‚¿
CREATE TABLE unified_staff_master (
    staff_id VARCHAR(20) PRIMARY KEY,
    employee_number VARCHAR(10) UNIQUE NOT NULL,
    full_name VARCHAR(100) NOT NULL,
    facility_id VARCHAR(20),
    department_id VARCHAR(20),
    position_id VARCHAR(20),
    email VARCHAR(100) UNIQUE,
    medical_system_id VARCHAR(50),
    voicedrive_id VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    sync_status ENUM('synced', 'pending', 'error') DEFAULT 'pending',
    INDEX idx_facility (facility_id),
    INDEX idx_department (department_id),
    INDEX idx_sync_status (sync_status)
);

-- 2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé€£æºãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE account_integration (
    integration_id INT AUTO_INCREMENT PRIMARY KEY,
    staff_id VARCHAR(20) NOT NULL,
    medical_username VARCHAR(50),
    voicedrive_username VARCHAR(50),
    sso_token VARCHAR(500),
    token_expires_at TIMESTAMP,
    auto_created BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (staff_id) REFERENCES unified_staff_master(staff_id),
    INDEX idx_staff (staff_id),
    INDEX idx_token_expiry (token_expires_at)
);

-- 3. åŒæœŸãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE sync_log (
    log_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    sync_type ENUM('staff', 'interview', 'notification', 'report') NOT NULL,
    source_system ENUM('medical', 'voicedrive') NOT NULL,
    target_system ENUM('medical', 'voicedrive') NOT NULL,
    record_count INT DEFAULT 0,
    status ENUM('success', 'partial', 'failed') NOT NULL,
    error_message TEXT,
    started_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    completed_at TIMESTAMP,
    INDEX idx_sync_type (sync_type),
    INDEX idx_status (status),
    INDEX idx_started (started_at)
);
```

---

## Phase 2: èªè¨¼ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ

### å®Ÿæ–½æœŸé–“: 4é€±é–“

### 2.1 JWTåŸºç›¤SSOå®Ÿè£…

```typescript
// JWT Token Structure
interface JWTPayload {
    staffId: string;
    employeeNumber: string;
    systemAccess: {
        medical: boolean;
        voicedrive: boolean;
    };
    permissions: string[];
    facilityId: string;
    departmentId: string;
    role: 'EXECUTIVE' | 'DEPARTMENT_HEAD' | 'TEAM_LEADER' | 'STAFF';
    iat: number;
    exp: number;
}
```

### 2.2 è‡ªå‹•ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant M as åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ 
    participant DB as å…±é€šDB
    participant API as çµ±åˆAPI
    participant V as VoiceDrive

    M->>DB: æ–°è¦è·å“¡ç™»éŒ²
    DB->>API: ãƒˆãƒªã‚¬ãƒ¼ç™ºç«
    API->>V: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆAPIå‘¼ã³å‡ºã—
    V->>V: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç”Ÿæˆ
    V-->>API: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±è¿”å´
    API->>DB: é€£æºæƒ…å ±ä¿å­˜
    API->>M: å®Œäº†é€šçŸ¥
    M->>M: ID/PWè¡¨ç¤º
```

### 2.3 è‡ªå‹•ä½œæˆAPIä»•æ§˜

```typescript
// POST /api/v1/auto-create-account
interface AutoCreateRequest {
    staffId: string;
    employeeNumber: string;
    fullName: string;
    email: string;
    facility: {
        id: string;
        name: string;
    };
    department: {
        id: string;
        name: string;
    };
    position: {
        id: string;
        name: string;
        level: number;
    };
}

interface AutoCreateResponse {
    success: boolean;
    voicedriveAccount: {
        userId: string;
        username: string;
        initialPassword: string;
        loginUrl: string;
    };
    integrationId: string;
    message: string;
}
```

---

## Phase 3: ãƒ‡ãƒ¼ã‚¿é€£æºå®Ÿè£…

### å®Ÿæ–½æœŸé–“: 5é€±é–“
### å®Ÿè£…çŠ¶æ³: âœ… 100%å®Œäº†ï¼ˆå…±é€šDBæ§‹ç¯‰å¾…æ©Ÿä¸­ï¼‰

### 3.1 å®Ÿè£…å®Œäº†é …ç›®

#### æ–½è¨­åˆ¥æ¨©é™ãƒ¬ãƒ™ãƒ«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- âœ… å°åŸç—…é™¢ï¼ˆobara-hospitalï¼‰: 420åã€9å½¹è·ãƒãƒƒãƒ”ãƒ³ã‚°
- âœ… ç«‹ç¥ãƒªãƒãƒ“ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ¸©æ³‰ç—…é™¢ï¼ˆtategami-rehabilitationï¼‰: 180åã€12å½¹è·ãƒãƒƒãƒ”ãƒ³ã‚°
- âœ… ã‚¨ã‚¹ãƒãƒ¯ãƒ¼ãƒ«ç«‹ç¥ï¼ˆespoir-tategamiï¼‰: 150åã€33å½¹è·ãƒãƒƒãƒ”ãƒ³ã‚°
- âœ… çµ±æ‹¬ä¸»ä»»ãƒ¬ãƒ™ãƒ«7èª¿æ•´ï¼ˆåŒ»ç™‚ãƒãƒ¼ãƒ æ‰¿èªæ¸ˆã¿ï¼‰
- âœ… facilityIdãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã‚‹æ–½è¨­è­˜åˆ¥

#### ãƒ†ã‚¹ãƒˆçµæœï¼ˆå®Ÿè£…å®Œäº†æ™‚ï¼‰
- å˜ä½“ãƒ†ã‚¹ãƒˆ: 17/17æˆåŠŸï¼ˆ100%ï¼‰
- çµ±åˆãƒ†ã‚¹ãƒˆ: 15/15æˆåŠŸï¼ˆ100%ï¼‰
- æœ¬ç•ªç’°å¢ƒæ¥ç¶šãƒ†ã‚¹ãƒˆ: 6/7æˆåŠŸï¼ˆSSL/TLSæ¥ç¶šã®ã¿å¤±æ•— - å…±é€šDBæœªæ§‹ç¯‰ã®ãŸã‚ï¼‰

### 3.2 ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸã‚·ã‚¹ãƒ†ãƒ 

#### åŒæœŸå¯¾è±¡ãƒ‡ãƒ¼ã‚¿
1. **è·å“¡ãƒã‚¹ã‚¿æƒ…å ±**ï¼ˆåŒæ–¹å‘ï¼‰- âœ… å®Ÿè£…å®Œäº†
2. **é¢è«‡äºˆç´„ãƒ»è¨˜éŒ²**ï¼ˆVoiceDriveâ†’åŒ»ç™‚ï¼‰- âœ… å®Ÿè£…å®Œäº†
3. **é€šçŸ¥é…ä¿¡**ï¼ˆåŒ»ç™‚â†’VoiceDriveï¼‰- âœ… Webhookå®Ÿè£…å®Œäº†
4. **è©•ä¾¡ãƒ‡ãƒ¼ã‚¿**ï¼ˆåŒæ–¹å‘ï¼‰- âœ… å®Ÿè£…å®Œäº†

### 3.3 WebSocketé€šä¿¡å®Ÿè£…

```javascript
// WebSocket Server Configuration
const wsConfig = {
    medical: 'wss://medical.lightsail.aws:8001',
    voicedrive: 'wss://voicedrive.lightsail.aws:8002',
    heartbeat: 30000, // 30ç§’
    reconnectDelay: 5000 // 5ç§’
};

// ã‚¤ãƒ™ãƒ³ãƒˆå®šç¾©
const SYNC_EVENTS = {
    STAFF_CREATED: 'staff.created',
    STAFF_UPDATED: 'staff.updated',
    INTERVIEW_SCHEDULED: 'interview.scheduled',
    NOTIFICATION_SENT: 'notification.sent',
    EVALUATION_COMPLETED: 'evaluation.completed'
};
```

### 3.4 ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒãƒƒãƒ”ãƒ³ã‚°

```typescript
// åŒ»ç™‚â†’VoiceDriveå¤‰æ›
const medicalToVoicedriveMapper = {
    category: {
        'announcement': 'NOTIFICATION',
        'interview': 'MEETING',
        'training': 'EDUCATION',
        'survey': 'SURVEY',
        'other': 'OTHER'
    },
    priority: {
        'high': 'URGENT',
        'medium': 'NORMAL',
        'low': 'LOW'
    }
};
```

---

## Phase 4: è·å“¡ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ï¼ˆå…¥è·ãƒ»é€€è·å‡¦ç†ï¼‰

### å®Ÿæ–½æœŸé–“: 8é€±é–“
### å®Ÿè£…çŠ¶æ³: ğŸ“… Phase 3å®Œäº†å¾Œã«ç€æ‰‹äºˆå®š

### 4.1 å…¥è·å‡¦ç†ã®å®Œæˆ

#### 4.1.1 è·å“¡ç™»éŒ²APIå®Ÿè£…
```typescript
// POST /api/v1/staff/onboarding
interface OnboardingRequest {
    staffInfo: {
        employeeNumber: string;
        lastName: string;
        firstName: string;
        email: string;
        phone: string;
        birthDate: string;
        hireDate: string;
    };
    assignment: {
        facilityId: string;
        departmentId: string;
        positionId: string;
        employmentType: 'full_time' | 'part_time' | 'contract';
    };
    voicedriveConfig: {
        autoCreateAccount: boolean;
        sendWelcomeEmail: boolean;
        initialTrainingModules: string[];
    };
}

interface OnboardingResponse {
    staffId: string;
    medicalSystemRegistered: boolean;
    voicedriveAccount: {
        created: boolean;
        userId: string;
        username: string;
        initialPassword: string;
        loginUrl: string;
    };
    scheduledInterviews: {
        newEmployeeMonthly: string; // ISO date
    };
    status: 'completed' | 'partial' | 'failed';
}
```

#### 4.1.2 VoiceDriveã‚¢ã‚«ã‚¦ãƒ³ãƒˆè‡ªå‹•ä½œæˆé€£æº
- è·å“¡ç™»éŒ²ã¨åŒæ™‚ã«VoiceDriveã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’è‡ªå‹•ä½œæˆ
- æ¨©é™ãƒ¬ãƒ™ãƒ«ï¼ˆaccountLevelï¼‰ã®è‡ªå‹•è¨ˆç®—
- åˆå›ãƒ­ã‚°ã‚¤ãƒ³æ¡ˆå†…ãƒ¡ãƒ¼ãƒ«ã®è‡ªå‹•é€ä¿¡
- æ–°å…¥è·å“¡æœˆæ¬¡é¢è«‡ã®è‡ªå‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š

#### 4.1.3 å…¥è·æ™‚ã®UIå®Ÿè£…
- è·å“¡ç®¡ç†ãƒšãƒ¼ã‚¸ã«ã€Œæ–°è¦å…¥è·ã€ãƒœã‚¿ãƒ³é…ç½®
- å…¥è·æƒ…å ±å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆåŸºæœ¬æƒ…å ±ãƒ»æ‰€å±ãƒ»VoiceDriveè¨­å®šï¼‰
- ç¢ºèªç”»é¢ãƒ»å®Œäº†ç”»é¢
- ç™»éŒ²å®Œäº†é€šçŸ¥ï¼ˆæœ¬äººãƒ»ä¸Šé•·ãƒ»äººäº‹ï¼‰

### 4.2 é€€è·å‡¦ç†ã®å®Ÿè£…

#### 4.2.1 é€€è·å‡¦ç†APIå®Ÿè£…
```typescript
// POST /api/v1/staff/resignation
interface ResignationRequest {
    staffId: string;
    resignationDate: string;
    lastWorkingDate: string;
    resignationReason: 'personal' | 'career_change' | 'relocation' |
                       'health' | 'family' | 'retirement' | 'contract_end' |
                       'disciplinary' | 'company_initiated' | 'other';
    reasonDetail?: string;
    exitInterview: {
        required: boolean;
        scheduledDate?: string;
        skipReason?: string;
        approvedBy?: string;
    };
    voicedriveConfig: {
        deactivationDate: string;
        dataRetentionPeriod: number; // å¹´æ•°
        archiveData: boolean;
    };
}

interface ResignationResponse {
    staffId: string;
    employmentStatus: 'resigned';
    medicalSystemUpdated: boolean;
    voicedriveAccount: {
        scheduled_deactivation: string;
        status: 'active' | 'pending_deactivation';
    };
    exitInterview?: {
        scheduled: boolean;
        interviewId?: string;
    };
    status: 'completed' | 'pending_approval' | 'failed';
}
```

#### 4.2.2 VoiceDriveã‚¢ã‚«ã‚¦ãƒ³ãƒˆç„¡åŠ¹åŒ–é€£æº
```typescript
// POST /api/v1/voicedrive/accounts/deactivate
interface DeactivateAccountRequest {
    staffId: string;
    deactivationDate: string;
    reason: 'resignation' | 'disciplinary' | 'contract_end';
    immediateDeactivation: boolean;
    dataRetentionConfig: {
        retainFor: number; // å¹´æ•°
        scheduleArchive: string; // ISO date
        scheduleDeletion: string; // ISO date
    };
}

interface DeactivateAccountResponse {
    accountStatus: 'deactivated' | 'scheduled_deactivation';
    dataRetentionSchedule: {
        archiveDate: string;
        anonymizeDate: string;
        deletionDate: string;
    };
    archiveCompleted: boolean;
}
```

#### 4.2.3 é€€è·å‡¦ç†ã®ãƒ•ãƒ­ãƒ¼åˆ†å²

**é€šå¸¸é€€è·ï¼ˆé¢è«‡å®Ÿæ–½ï¼‰**
```
é€€è·ç”³ã—å‡º â†’ é€€è·é¢è«‡äºˆç´„ â†’ é¢è«‡å®Ÿæ–½ â†’ é€€è·æ‰‹ç¶šã â†’ æœ€çµ‚å‹¤å‹™æ—¥ â†’ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç„¡åŠ¹åŒ–
```

**ç·Šæ€¥é€€è·ï¼ˆé¢è«‡ãªã—ï¼‰**
```
é€€è·ç”³ã—å‡º â†’ ä¸Šé•·æ‰¿èª â†’ å³æ™‚é€€è·æ‰‹ç¶šã â†’ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç„¡åŠ¹åŒ–
```

**æ‡²æˆ’é€€è·ï¼ˆé¢è«‡ãªã—ï¼‰**
```
æ‡²æˆ’å‡¦åˆ†æ±ºå®š â†’ å³æ™‚é€€è·å‡¦ç† â†’ å³æ™‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç„¡åŠ¹åŒ–
```

#### 4.2.4 é€€è·è€…ãƒ‡ãƒ¼ã‚¿ç®¡ç†ï¼ˆstaff_basicãƒ†ãƒ¼ãƒ–ãƒ«æ‹¡å¼µï¼‰
```sql
-- é€€è·é–¢é€£ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
ALTER TABLE staff_basic ADD COLUMN employment_status
    ENUM('active', 'resigned', 'on_leave', 'suspended')
    DEFAULT 'active';

ALTER TABLE staff_basic ADD COLUMN resignation_date DATE NULL;
ALTER TABLE staff_basic ADD COLUMN resignation_reason VARCHAR(50) NULL;
ALTER TABLE staff_basic ADD COLUMN resignation_reason_detail TEXT NULL;
ALTER TABLE staff_basic ADD COLUMN last_working_date DATE NULL;
ALTER TABLE staff_basic ADD COLUMN resignation_notice_date DATE NULL;

ALTER TABLE staff_basic ADD COLUMN exit_interview_applicable BOOLEAN DEFAULT TRUE;
ALTER TABLE staff_basic ADD COLUMN exit_interview_completed BOOLEAN DEFAULT FALSE;
ALTER TABLE staff_basic ADD COLUMN exit_interview_id INT NULL;
ALTER TABLE staff_basic ADD COLUMN exit_interview_skipped_reason VARCHAR(100) NULL;
ALTER TABLE staff_basic ADD COLUMN exit_interview_waived_by INT NULL;

ALTER TABLE staff_basic ADD COLUMN rehire_eligible BOOLEAN DEFAULT TRUE;
ALTER TABLE staff_basic ADD COLUMN rehire_notes TEXT NULL;

-- é€€è·è€…æ¤œç´¢ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_employment_status ON staff_basic(employment_status);
CREATE INDEX idx_resignation_date ON staff_basic(resignation_date);
```

#### 4.2.5 é€€è·æ™‚ã®UIå®Ÿè£…
- è·å“¡ã‚«ãƒ«ãƒ†ãƒšãƒ¼ã‚¸ã«ã€Œé€€è·æ‰‹ç¶šãã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¿½åŠ 
- è·å“¡ç®¡ç†ãƒšãƒ¼ã‚¸ã«ã€Œé€€è·å‡¦ç†ã€ãƒœã‚¿ãƒ³è¿½åŠ 
- é€€è·æƒ…å ±å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- é¢è«‡è¦å¦ã®é¸æŠ
- æ‰¿èªãƒ•ãƒ­ãƒ¼ï¼ˆç›´å±ä¸Šé•· â†’ äººäº‹éƒ¨é•·ï¼‰
- æ¥­å‹™å¼•ç¶™ããƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆè‡ªå‹•ç”Ÿæˆ

### 4.3 æ¡ç”¨ç®¡ç†ãƒšãƒ¼ã‚¸ã§ã®é€€è·è€…æ¤œç´¢æ©Ÿèƒ½

#### 4.3.1 é€€è·è€…æ¤œç´¢ã®ç›®çš„
- **å†å¿œå‹Ÿæ™‚ã®è¿…é€ŸãªæŠŠæ¡**: é€€è·è€…ãŒå†åº¦å¿œå‹Ÿã—ãŸéš›ã«éå»ã®å‹¤å‹™å±¥æ­´ã‚’å³åº§ã«ç¢ºèª
- **ã‚¢ãƒ«ãƒ ãƒŠã‚¤æ¡ç”¨æ”¯æ´**: é€€è·è€…ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å„ªç§€ãªå…ƒè·å“¡ã‚’æ¢ã—ã¦å†é›‡ç”¨ã‚’æ‰“è¨º
- **é‡è¤‡å¿œå‹Ÿé˜²æ­¢**: ç¾è·å“¡ãƒ»é€€è·è€…ã¨ã®é‡è¤‡ã‚’ãƒã‚§ãƒƒã‚¯

#### 4.3.2 TalentSearchPanelã®æ‹¡å¼µ
```typescript
// src/components/recruitment/TalentSearchPanel.tsx

interface ExtendedSearchQuery extends TalentSearchQuery {
    // æ—¢å­˜ã®æ¤œç´¢æ¡ä»¶ã«è¿½åŠ 
    includeResignedStaff?: boolean;  // é€€è·è€…ã‚’å«ã‚ã‚‹
    resignedDateRange?: {
        from: string;
        to: string;
    };
    rehireEligibleOnly?: boolean;    // å†é›‡ç”¨å¯èƒ½è€…ã®ã¿
}

// æ¤œç´¢çµæœã®è¡¨ç¤º
interface SearchResultWithEmploymentHistory {
    talent: TalentProfile;
    previousEmployment?: {
        staffId: string;
        employeeNumber: string;
        hireDate: string;
        resignationDate: string;
        resignationReason: string;
        lastPosition: string;
        lastDepartment: string;
        lastFacility: string;
        evaluationHistory: {
            average: number;
            highest: string;
            latest: string;
        };
        exitInterviewSummary?: string;
        rehireEligible: boolean;
        rehireNotes?: string;
    };
}
```

### 4.4 ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«è‡ªå‹•ç®¡ç†

```typescript
// ãƒ‡ãƒ¼ã‚¿ä¿æŒãƒ»å‰Šé™¤ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
interface DataLifecyclePolicy {
    staffId: string;
    currentStatus: 'active' | 'resigned' | 'archived' | 'deleted';

    schedule: {
        immediate: {  // æœ€çµ‚å‹¤å‹™æ—¥
            action: 'deactivate_voicedrive_account';
            items: ['ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½', 'æŠ•ç¨¿æ©Ÿèƒ½', 'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡'];
        };
        after30days: {
            action: 'archive_voicedrive_content';
            items: ['éå»ã®æŠ•ç¨¿', 'ã‚³ãƒ¡ãƒ³ãƒˆ', 'ã„ã„ã­'];
        };
        after1year: {
            action: 'anonymize_personal_data';
            items: ['é€£çµ¡å…ˆæƒ…å ±', 'å€‹äººè­˜åˆ¥æƒ…å ±'];
        };
        after5years: {
            action: 'complete_deletion';
            items: ['å…¨ãƒ‡ãƒ¼ã‚¿ç‰©ç†å‰Šé™¤ï¼ˆæ³•å®šä¿å­˜æœŸé–“çµ‚äº†å¾Œï¼‰'];
        };
    };
}
```

### 4.5 å®Ÿè£…å„ªå…ˆåº¦

| å„ªå…ˆåº¦ | å®Ÿè£…é …ç›® | æ‰€è¦æœŸé–“ | ä¾å­˜é–¢ä¿‚ |
|--------|---------|---------|---------|
| ğŸ”´ é«˜ | å…¥è·å‡¦ç†APIå®Ÿè£… | 2é€±é–“ | Phase 1å®Œäº† |
| ğŸ”´ é«˜ | VoiceDriveã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆAPIé€£æº | 2é€±é–“ | å…¥è·å‡¦ç†API |
| ğŸŸ¡ ä¸­ | é€€è·å‡¦ç†APIå®Ÿè£… | 3é€±é–“ | Phase 1å®Œäº† |
| ğŸŸ¡ ä¸­ | VoiceDriveã‚¢ã‚«ã‚¦ãƒ³ãƒˆç„¡åŠ¹åŒ–APIé€£æº | 2é€±é–“ | é€€è·å‡¦ç†API |
| ğŸŸ¢ ä½ | æ¡ç”¨ç®¡ç†ãƒšãƒ¼ã‚¸é€€è·è€…æ¤œç´¢æ©Ÿèƒ½ | 2é€±é–“ | é€€è·å‡¦ç†API |
| ğŸŸ¢ ä½ | ãƒ‡ãƒ¼ã‚¿ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«è‡ªå‹•ç®¡ç† | 3é€±é–“ | å…¨APIå®Œæˆ |

---

## Phase 4.5: å…±é€šDBæ§‹ç¯‰ï¼ˆè©³ç´°è¨ˆç”»ï¼‰

### å®Ÿæ–½æœŸé–“: 8é€±é–“ï¼ˆWeek 1-8ï¼‰
### å®Ÿè£…çŠ¶æ³: â³ ã‚¤ãƒ³ãƒ•ãƒ©ãƒãƒ¼ãƒ ä½œæ¥­ä¸­

### 4.5.1 æ¦‚è¦

**ç›®çš„**: åŒ»ç™‚è·å“¡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã¨VoiceDriveã‚·ã‚¹ãƒ†ãƒ ã®å…±é€šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰

**ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: æ®µéšçš„æ§‹ç¯‰ï¼ˆãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ â†’ è·å“¡æƒ…å ± â†’ ã‚³ã‚¢æ©Ÿèƒ½ â†’ ä»˜åŠ æ©Ÿèƒ½ï¼‰

**ãƒ‡ãƒ¼ã‚¿è¦æ¨¡**: 750åï¼ˆ3æ–½è¨­ï¼‰ã®è·å“¡ãƒ‡ãƒ¼ã‚¿ + é¢è«‡ãƒ»è©•ä¾¡ãƒ»å¥åº·ç®¡ç†ãƒ‡ãƒ¼ã‚¿

### 4.5.2 Week 1ï¼ˆ10/7 - 10/13ï¼‰ï¼šãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æ§‹ç¯‰

**ç›®æ¨™**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒãƒ¼æº–å‚™ã€åŸºæœ¬ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ

| æ—¥ç¨‹ | ä½œæ¥­å†…å®¹ | æ‹…å½“ | æˆæœç‰© |
|------|---------|------|--------|
| 10/7ï¼ˆæœˆï¼‰ | DBã‚µãƒ¼ãƒãƒ¼ç”³è«‹ãƒ»è¨­å®š | åŒ»ç™‚ãƒãƒ¼ãƒ  | ã‚µãƒ¼ãƒãƒ¼ã‚¢ã‚¯ã‚»ã‚¹æƒ…å ± |
| 10/8ï¼ˆç«ï¼‰ | MySQLæ¥ç¶šç¢ºèªã€.envè¨­å®š | åŒ»ç™‚ãƒãƒ¼ãƒ  | æ¥ç¶šãƒ†ã‚¹ãƒˆæˆåŠŸ |
| 10/9ï¼ˆæ°´ï¼‰ | æ–½è¨­ãƒã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ | åŒ»ç™‚ãƒãƒ¼ãƒ  | facilities ãƒ†ãƒ¼ãƒ–ãƒ« |
| 10/10ï¼ˆæœ¨ï¼‰ | éƒ¨ç½²ãƒã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ | åŒ»ç™‚ãƒãƒ¼ãƒ  | departments ãƒ†ãƒ¼ãƒ–ãƒ« |
| 10/11ï¼ˆé‡‘ï¼‰ | è·ä½ãƒã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ | åŒ»ç™‚ãƒãƒ¼ãƒ  | positions ãƒ†ãƒ¼ãƒ–ãƒ« |
| 10/12ï¼ˆåœŸï¼‰ | åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ | åŒ»ç™‚ãƒãƒ¼ãƒ  | 3æ–½è¨­åˆ†ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ |
| 10/13ï¼ˆæ—¥ï¼‰ | Week 1 å‹•ä½œç¢ºèª | åŒ»ç™‚ãƒãƒ¼ãƒ  | ç¢ºèªãƒ¬ãƒãƒ¼ãƒˆ |

**Week 1å®Œäº†æ¡ä»¶**ï¼š
- âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã§ãã‚‹
- âœ… 3ã¤ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹
- âœ… å°åŸç—…é™¢ãƒ»ç«‹ç¥ãƒªãƒãƒ“ãƒªãƒ»ã‚¨ã‚¹ãƒãƒ¯ãƒ¼ãƒ«ç«‹ç¥ã®ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ã‚‹
- âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå–å¾—ã§ãã‚‹

**Week 1ã§ä½œæˆã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«**ï¼š

```sql
-- 1. æ–½è¨­ãƒã‚¹ã‚¿ãƒ¼
CREATE TABLE facilities (
  id INT AUTO_INCREMENT PRIMARY KEY,
  facility_code VARCHAR(50) NOT NULL UNIQUE, -- 'obara-hospital', 'tategami-rehabilitation'
  facility_name VARCHAR(100) NOT NULL,       -- 'å°åŸç—…é™¢', 'ç«‹ç¥ãƒªãƒãƒ“ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ¸©æ³‰ç—…é™¢'
  facility_type VARCHAR(50),                 -- 'ç—…é™¢', 'ãƒªãƒãƒ“ãƒªæ–½è¨­'
  address VARCHAR(255),
  phone VARCHAR(20),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- 2. éƒ¨ç½²ãƒã‚¹ã‚¿ãƒ¼
CREATE TABLE departments (
  id INT AUTO_INCREMENT PRIMARY KEY,
  facility_id INT NOT NULL,
  department_code VARCHAR(50) NOT NULL,
  department_name VARCHAR(100) NOT NULL,     -- '3éšç—…æ£Ÿ', 'ãƒªãƒãƒ“ãƒªç§‘'
  parent_department_id INT,                  -- éšå±¤æ§‹é€ ã®å ´åˆ
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (facility_id) REFERENCES facilities(id),
  UNIQUE KEY unique_dept_code (facility_id, department_code)
);

-- 3. è·ä½ãƒã‚¹ã‚¿ãƒ¼
CREATE TABLE positions (
  id INT AUTO_INCREMENT PRIMARY KEY,
  position_code VARCHAR(50) NOT NULL UNIQUE,
  position_name VARCHAR(100) NOT NULL,       -- 'çœ‹è­·å¸«', 'çµ±æ‹¬ä¸»ä»»'
  position_level INT NOT NULL,               -- 1-10
  position_category VARCHAR(50),             -- 'nurse', 'assistant_nurse'
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

**Week 1æŠ•å…¥ãƒ‡ãƒ¼ã‚¿ã‚µãƒ³ãƒ—ãƒ«**ï¼š

```sql
-- æ–½è¨­ãƒ‡ãƒ¼ã‚¿
INSERT INTO facilities (facility_code, facility_name, facility_type, phone) VALUES
('obara-hospital', 'å°åŸç—…é™¢', 'ç—…é™¢', '03-1234-5678'),
('tategami-rehabilitation', 'ç«‹ç¥ãƒªãƒãƒ“ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ¸©æ³‰ç—…é™¢', 'ãƒªãƒãƒ“ãƒªæ–½è¨­', '092-2345-6789'),
('espoir-tategami', 'ã‚¨ã‚¹ãƒãƒ¯ãƒ¼ãƒ«ç«‹ç¥', 'ä»‹è­·æ–½è¨­', '092-3456-7890');

-- éƒ¨ç½²ãƒ‡ãƒ¼ã‚¿ï¼ˆå°åŸç—…é™¢ã®ä¾‹ï¼‰
INSERT INTO departments (facility_id, department_code, department_name) VALUES
(1, 'ward-2f', '2éšç—…æ£Ÿ'),
(1, 'ward-3f', '3éšç—…æ£Ÿ'),
(1, 'ward-4f', '4éšç—…æ£Ÿ'),
(1, 'outpatient', 'å¤–æ¥');

-- è·ä½ãƒ‡ãƒ¼ã‚¿
INSERT INTO positions (position_code, position_name, position_level, position_category) VALUES
('nursing-aide', 'çœ‹è­·åŠ©æ‰‹', 1, 'nursing_aide'),
('nurse', 'çœ‹è­·å¸«', 2, 'nurse'),
('senior-nurse', 'ä¸»ä»»çœ‹è­·å¸«', 3, 'nurse'),
('manager', 'èª²é•·', 4, 'admin'),
('strategic-planning', 'æˆ¦ç•¥ä¼ç”»éƒ¨é–€å“¡', 5, 'admin'),
('career-support', 'ã‚­ãƒ£ãƒªã‚¢æ”¯æ´éƒ¨é–€å“¡', 6, 'admin'),
('chief-nurse-obara', 'çœ‹è­·éƒ¨é•·', 7, 'nurse'),              -- å°åŸç—…é™¢
('chief-supervisor-tategami', 'çµ±æ‹¬ä¸»ä»»', 7, 'nurse'),      -- ç«‹ç¥ãƒªãƒãƒ“ãƒªï¼ˆç‰¹åˆ¥èª¿æ•´ï¼‰
('director-admin', 'çµ±æ‹¬ç®¡ç†éƒ¨é–€é•·', 8, 'admin'),
('vice-director', 'å‰¯é™¢é•·', 9, 'admin'),
('director', 'é™¢é•·', 10, 'admin');
```

### 4.5.3 Week 2ï¼ˆ10/14 - 10/20ï¼‰ï¼šè·å“¡åŸºæœ¬æƒ…å ±æ§‹ç¯‰

**ç›®æ¨™**: è·å“¡750ååˆ†ã®ãƒ‡ãƒ¼ã‚¿æŠ•å…¥

| æ—¥ç¨‹ | ä½œæ¥­å†…å®¹ | æ‹…å½“ | æˆæœç‰© |
|------|---------|------|--------|
| 10/14ï¼ˆæœˆï¼‰ | staff_basicãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ | åŒ»ç™‚ãƒãƒ¼ãƒ  | ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€  |
| 10/15ï¼ˆç«ï¼‰ | äº‹å‹™å±€æä¾›ãƒ‡ãƒ¼ã‚¿ã®ã‚¯ãƒ¬ãƒ³ã‚¸ãƒ³ã‚° | åŒ»ç™‚ãƒãƒ¼ãƒ  | æ•´å½¢æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ |
| 10/16ï¼ˆæ°´ï¼‰ | è·å“¡ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ï¼ˆ150åãšã¤ï¼‰ | åŒ»ç™‚ãƒãƒ¼ãƒ  | 150åæŠ•å…¥å®Œäº† |
| 10/17ï¼ˆæœ¨ï¼‰ | è·å“¡ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ï¼ˆæ®‹ã‚Š600åï¼‰ | åŒ»ç™‚ãƒãƒ¼ãƒ  | 750åæŠ•å…¥å®Œäº† |
| 10/18ï¼ˆé‡‘ï¼‰ | ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ï¼ˆé‡è¤‡ãƒã‚§ãƒƒã‚¯ç­‰ï¼‰ | åŒ»ç™‚ãƒãƒ¼ãƒ  | æ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆ |
| 10/19ï¼ˆåœŸï¼‰ | staff_assignmentsãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆãƒ»æŠ•å…¥ | åŒ»ç™‚ãƒãƒ¼ãƒ  | é…å±æƒ…å ±å®Œæˆ |
| 10/20ï¼ˆæ—¥ï¼‰ | Week 2 å‹•ä½œç¢ºèª | åŒ»ç™‚ãƒãƒ¼ãƒ  | ç¢ºèªãƒ¬ãƒãƒ¼ãƒˆ |

**Week 2ã§ä½œæˆã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«**ï¼š

```sql
-- 4. è·å“¡åŸºæœ¬æƒ…å ±
CREATE TABLE staff_basic (
  id INT AUTO_INCREMENT PRIMARY KEY,
  employee_number VARCHAR(20) NOT NULL UNIQUE,
  last_name VARCHAR(50) NOT NULL,
  first_name VARCHAR(50) NOT NULL,
  last_name_kana VARCHAR(50) NOT NULL,
  first_name_kana VARCHAR(50) NOT NULL,
  gender ENUM('ç”·','å¥³','ãã®ä»–') NOT NULL,
  birth_date DATE NOT NULL,
  email VARCHAR(255) UNIQUE,
  phone VARCHAR(20),
  mobile_phone VARCHAR(20),
  postal_code VARCHAR(10),
  address VARCHAR(255),
  emergency_contact_name VARCHAR(100),
  emergency_contact_phone VARCHAR(20),
  emergency_contact_relationship VARCHAR(50),
  hire_date DATE NOT NULL,
  employment_type VARCHAR(50) NOT NULL,      -- 'æ­£ç¤¾å“¡', 'ãƒ‘ãƒ¼ãƒˆ', 'å¥‘ç´„'
  employment_status VARCHAR(50) DEFAULT 'active', -- 'active', 'resigned', 'on_leave'
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX idx_employee_number (employee_number),
  INDEX idx_email (email)
);

-- 5. é…å±æƒ…å ±
CREATE TABLE staff_assignments (
  id INT AUTO_INCREMENT PRIMARY KEY,
  staff_id INT NOT NULL,
  facility_id INT NOT NULL,
  department_id INT NOT NULL,
  position_id INT NOT NULL,
  start_date DATE NOT NULL,
  end_date DATE,                             -- NULLãªã‚‰ç¾åœ¨æœ‰åŠ¹
  is_primary BOOLEAN DEFAULT TRUE,           -- ä¸»é…å±ã‹å…¼å‹™ã‹
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (staff_id) REFERENCES staff_basic(id),
  FOREIGN KEY (facility_id) REFERENCES facilities(id),
  FOREIGN KEY (department_id) REFERENCES departments(id),
  FOREIGN KEY (position_id) REFERENCES positions(id),
  INDEX idx_staff_current (staff_id, end_date)
);
```

**Week 2å®Œäº†æ¡ä»¶**ï¼š
- âœ… 750åã®è·å“¡ãƒ‡ãƒ¼ã‚¿ãŒæŠ•å…¥ã•ã‚Œã¦ã„ã‚‹
- âœ… ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»è·å“¡ç•ªå·ã«é‡è¤‡ãŒãªã„
- âœ… å…¨è·å“¡ã«é…å±æƒ…å ±ãŒç´ã¥ã„ã¦ã„ã‚‹
- âœ… æ–½è¨­åˆ¥ãƒ»éƒ¨ç½²åˆ¥ã®è·å“¡æ•°ãŒäº‹å‹™å±€æä¾›ãƒ‡ãƒ¼ã‚¿ã¨ä¸€è‡´

### 4.5.4 Week 3-4ï¼ˆ10/21 - 11/3ï¼‰ï¼šã‚³ã‚¢æ©Ÿèƒ½DBæ§‹ç¯‰

**å¯¾è±¡æ©Ÿèƒ½**ï¼š
- ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ¼ã‚¹é¸æŠåˆ¶åº¦ï¼ˆPhase 5ï¼‰
- é¢è«‡äºˆç´„ã‚·ã‚¹ãƒ†ãƒ 
- é¢è«‡è¨˜éŒ²ç®¡ç†

**Week 3ã§ä½œæˆã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«**ï¼š

```sql
-- 6. ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ¼ã‚¹å®šç¾©ï¼ˆãƒã‚¹ã‚¿ãƒ¼ï¼‰
CREATE TABLE course_definitions (
  id INT AUTO_INCREMENT PRIMARY KEY,
  course_code VARCHAR(10) NOT NULL UNIQUE,   -- 'A', 'B', 'C', 'D'
  course_name VARCHAR(100) NOT NULL,
  description TEXT,
  department_transfer_available BOOLEAN DEFAULT FALSE,
  facility_transfer_available VARCHAR(20) DEFAULT 'none',
  relocation_required BOOLEAN DEFAULT FALSE,
  night_shift_available VARCHAR(20) DEFAULT 'none',
  management_track BOOLEAN DEFAULT FALSE,
  base_salary_multiplier DECIMAL(5,3) DEFAULT 1.000,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- 7. è·å“¡ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ¼ã‚¹é¸æŠå±¥æ­´
CREATE TABLE staff_career_courses (
  id INT AUTO_INCREMENT PRIMARY KEY,
  staff_id INT NOT NULL,
  course_code VARCHAR(10) NOT NULL,
  effective_from DATE NOT NULL,
  effective_to DATE,                         -- NULLãªã‚‰ç¾åœ¨æœ‰åŠ¹
  next_change_available_date DATE,
  special_change_reason VARCHAR(50),
  approved_at TIMESTAMP,
  approved_by INT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (staff_id) REFERENCES staff_basic(id),
  FOREIGN KEY (course_code) REFERENCES course_definitions(course_code),
  INDEX idx_staff_current_course (staff_id, effective_to)
);

-- 8. é¢è«‡äºˆç´„
CREATE TABLE interviews (
  id INT AUTO_INCREMENT PRIMARY KEY,
  staff_id INT NOT NULL,
  interviewer_id INT NOT NULL,
  interview_type VARCHAR(50) NOT NULL,       -- 'å®šæœŸ', 'è‡¨æ™‚', 'ã‚­ãƒ£ãƒªã‚¢'
  interview_category VARCHAR(50),
  booking_date DATE NOT NULL,
  start_time TIME NOT NULL,
  end_time TIME NOT NULL,
  duration_minutes INT,
  location VARCHAR(100),
  status VARCHAR(20) DEFAULT 'äºˆå®š',         -- 'äºˆå®š', 'å®Œäº†', 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'
  urgency_level VARCHAR(20) DEFAULT 'é€šå¸¸',
  requested_topics JSON,
  created_by VARCHAR(50),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (staff_id) REFERENCES staff_basic(id),
  FOREIGN KEY (interviewer_id) REFERENCES staff_basic(id),
  INDEX idx_booking_date (booking_date),
  INDEX idx_staff_interviews (staff_id, booking_date)
);

-- 9. é¢è«‡è¨˜éŒ²
CREATE TABLE interview_records (
  id INT AUTO_INCREMENT PRIMARY KEY,
  interview_id INT NOT NULL,
  discussion_summary TEXT,
  employee_feedback TEXT,
  interviewer_notes TEXT,
  action_items JSON,
  follow_up_required BOOLEAN DEFAULT FALSE,
  follow_up_date DATE,
  confidentiality_level INT DEFAULT 1,       -- 1-5
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (interview_id) REFERENCES interviews(id),
  UNIQUE KEY unique_interview_record (interview_id)
);
```

**Week 4å®Œäº†æ¡ä»¶**ï¼š
- âœ… Aï½Dã‚³ãƒ¼ã‚¹å®šç¾©ãŒæŠ•å…¥ã•ã‚Œã¦ã„ã‚‹
- âœ… è·å“¡ã®ã‚³ãƒ¼ã‚¹é¸æŠæƒ…å ±ãŒæŠ•å…¥ã•ã‚Œã¦ã„ã‚‹ï¼ˆä»»æ„ï¼‰
- âœ… é¢è«‡äºˆç´„ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒæŠ•å…¥ã•ã‚Œã¦ã„ã‚‹
- âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰é¢è«‡äºˆç´„ãŒä½œæˆã§ãã‚‹

### 4.5.5 Week 5-6ï¼ˆ11/4 - 11/17ï¼‰ï¼šæ©Ÿèƒ½åˆ¥é †æ¬¡æ§‹ç¯‰

**å¯¾è±¡æ©Ÿèƒ½**ï¼š
- äººäº‹è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 
- å¥åº·ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- ç ”ä¿®ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

**Week 5-6ã§ä½œæˆã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«**ï¼š

```sql
-- 10. äººäº‹è©•ä¾¡
CREATE TABLE evaluations (
  id INT AUTO_INCREMENT PRIMARY KEY,
  staff_id INT NOT NULL,
  evaluation_period VARCHAR(20) NOT NULL,    -- '2024å¹´ä¸ŠæœŸ'
  evaluation_type VARCHAR(50) NOT NULL,
  overall_rating VARCHAR(10) NOT NULL,       -- 'S', 'A', 'B', 'C', 'D'
  performance_score INT,
  skill_score INT,
  teamwork_score INT,
  growth_potential INT,
  evaluator_id INT NOT NULL,
  evaluation_date DATE NOT NULL,
  comments TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (staff_id) REFERENCES staff_basic(id),
  FOREIGN KEY (evaluator_id) REFERENCES staff_basic(id),
  INDEX idx_staff_evaluation (staff_id, evaluation_period)
);

-- 11. 2è»¸è©•ä¾¡
CREATE TABLE two_axis_evaluations (
  id INT AUTO_INCREMENT PRIMARY KEY,
  staff_id INT NOT NULL,
  evaluation_period VARCHAR(20) NOT NULL,
  facility_score ENUM('S','A','B','C','D'),
  facility_rank INT,
  facility_total_staff INT,
  corporate_score ENUM('S','A','B','C','D'),
  corporate_rank INT,
  corporate_total_staff INT,
  overall_score ENUM('S','A','B','C','D'),
  evaluation_date DATE NOT NULL,
  evaluator_id INT NOT NULL,
  comments TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (staff_id) REFERENCES staff_basic(id),
  FOREIGN KEY (evaluator_id) REFERENCES staff_basic(id)
);

-- 12. å¥åº·è¨ºæ–­
CREATE TABLE health_checkups (
  id INT AUTO_INCREMENT PRIMARY KEY,
  staff_id INT NOT NULL,
  checkup_date DATE NOT NULL,
  checkup_type VARCHAR(50) NOT NULL,
  overall_result VARCHAR(20),
  height DECIMAL(5,2),
  weight DECIMAL(5,2),
  bmi DECIMAL(4,2),
  blood_pressure_high INT,
  blood_pressure_low INT,
  vision_left DECIMAL(3,1),
  vision_right DECIMAL(3,1),
  hearing_result VARCHAR(50),
  special_findings TEXT,
  doctor_comments TEXT,
  next_checkup_date DATE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (staff_id) REFERENCES staff_basic(id),
  INDEX idx_staff_checkup (staff_id, checkup_date)
);

-- 13. ã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯
CREATE TABLE stress_checks (
  id INT AUTO_INCREMENT PRIMARY KEY,
  staff_id INT NOT NULL,
  check_date DATE NOT NULL,
  stress_index INT NOT NULL,                 -- 0-100
  physical_stress_score INT,
  mental_stress_score INT,
  work_stress_score INT,
  support_score INT,
  high_stress_flag BOOLEAN DEFAULT FALSE,
  counseling_required BOOLEAN DEFAULT FALSE,
  counseling_date DATE,
  follow_up_required BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (staff_id) REFERENCES staff_basic(id),
  INDEX idx_staff_stress (staff_id, check_date),
  INDEX idx_high_stress (high_stress_flag, check_date)
);

-- 14. ç ”ä¿®ãƒ—ãƒ­ã‚°ãƒ©ãƒ 
CREATE TABLE training_programs (
  id INT AUTO_INCREMENT PRIMARY KEY,
  program_name VARCHAR(200) NOT NULL,
  program_category VARCHAR(50) NOT NULL,
  duration_hours INT NOT NULL,
  is_mandatory BOOLEAN DEFAULT FALSE,
  target_positions JSON,
  target_departments JSON,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- 15. ç ”ä¿®å—è¬›è¨˜éŒ²
CREATE TABLE training_records (
  id INT AUTO_INCREMENT PRIMARY KEY,
  staff_id INT NOT NULL,
  program_id INT NOT NULL,
  attendance_date DATE NOT NULL,
  completion_status VARCHAR(20),
  score INT,
  evaluation VARCHAR(50),
  certificate_issued BOOLEAN DEFAULT FALSE,
  certificate_number VARCHAR(50),
  expiry_date DATE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (staff_id) REFERENCES staff_basic(id),
  FOREIGN KEY (program_id) REFERENCES training_programs(id)
);
```

**Week 6å®Œäº†æ¡ä»¶**ï¼š
- âœ… è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥
- âœ… å¥åº·è¨ºæ–­ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
- âœ… ç ”ä¿®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
- âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å„æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã‚‹

### 4.5.6 Week 7-8ï¼ˆ11/18 - 12/1ï¼‰ï¼šçµ±åˆãƒ»æœ€é©åŒ–

**ä½œæ¥­å†…å®¹**ï¼š
- å…¨æ©Ÿèƒ½ã®çµ±åˆãƒ†ã‚¹ãƒˆ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°
- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒªã‚¹ãƒˆã‚¢ç¢ºèª
- VoiceDriveé€£æºãƒ†ã‚¹ãƒˆ

**Week 7-8å®Œäº†æ¡ä»¶**ï¼š
- âœ… å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ãŒæ­£å¸¸ã«å‹•ä½œ
- âœ… 750ååˆ†ã®ãƒ‡ãƒ¼ã‚¿ã§æ€§èƒ½å•é¡Œãªã—
- âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒªã‚¹ãƒˆã‚¢ãŒæ­£å¸¸å‹•ä½œ
- âœ… VoiceDriveã¨ã®APIé€£æºæˆåŠŸ
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»åˆæ ¼

### 4.5.7 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥

#### è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®š

**æ¯æ—¥ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼ˆåˆå‰2æ™‚ï¼‰**ï¼š

```bash
#!/bin/bash
# /var/backups/daily-backup.sh

DATE=$(date +%Y%m%d)
BACKUP_DIR="/var/backups/staff_medical_system"
DB_NAME="staff_medical_system"
DB_USER="admin"
DB_PASS="SecureP@ssw0rd!"

# ãƒ•ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
mysqldump -u $DB_USER -p$DB_PASS $DB_NAME > $BACKUP_DIR/full_backup_$DATE.sql

# ãƒ†ãƒ¼ãƒ–ãƒ«åˆ¥ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼ˆé‡è¦ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã¿ï¼‰
mysqldump -u $DB_USER -p$DB_PASS $DB_NAME staff_basic > $BACKUP_DIR/staff_basic_$DATE.sql
mysqldump -u $DB_USER -p$DB_PASS $DB_NAME staff_assignments > $BACKUP_DIR/staff_assignments_$DATE.sql

# 30æ—¥ä»¥ä¸Šå‰ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤
find $BACKUP_DIR -name "*.sql" -mtime +30 -delete

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆåŠŸé€šçŸ¥
echo "Backup completed: $DATE" | mail -s "DB Backup Success" admin@kosei.jp
```

**Cronè¨­å®š**ï¼š

```bash
# crontab -e
0 2 * * * /var/backups/daily-backup.sh
```

---

## Phase 4.7: DBæ§‹ç¯‰å¾Œã®ç§»è¡Œä½œæ¥­

### å®Ÿæ–½æœŸé–“: 7-10æ—¥é–“ï¼ˆDBæ§‹ç¯‰å®Œäº†å¾Œï¼‰
### å®Ÿè£…çŠ¶æ³: ğŸ“… DBæ§‹ç¯‰å®Œäº†å¾…ã¡

### 4.7.1 æ¦‚è¦

**ç›®çš„**: å…±é€šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰å®Œäº†å¾Œã€æ—¢å­˜å®Ÿè£…ã‚’æœ¬ç•ªç’°å¢ƒã«æ¥ç¶šãƒ»çµ±åˆ

**å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **:
- Phase 3: æ–½è¨­åˆ¥æ¨©é™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ3æ–½è¨­750åï¼‰
- Phase 5-3: ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ¼ã‚¹é¸æŠåˆ¶åº¦ï¼ˆAï½D 4ã‚³ãƒ¼ã‚¹ï¼‰

### 4.7.2 Phase 3é–¢é€£ä½œæ¥­ï¼ˆ2-3æ—¥é–“ï¼‰

#### ä½œæ¥­å†é–‹ãƒˆãƒªã‚¬ãƒ¼

**å†é–‹æ¡ä»¶ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**ï¼š
- [ ] å…±é€šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ§‹ç¯‰å®Œäº†é€šçŸ¥ã‚’å—é ˜
- [ ] DBæ¥ç¶šæƒ…å ±ï¼ˆãƒ›ã‚¹ãƒˆã€ãƒãƒ¼ãƒˆã€èªè¨¼æƒ…å ±ï¼‰ã‚’å–å¾—
- [ ] VoiceDriveãƒãƒ¼ãƒ ã‹ã‚‰ã®å†é–‹ä¾é ¼æ›¸ã‚’å—é ˜
- [ ] ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿ã®æº–å‚™å®Œäº†ç¢ºèª
- [ ] æœ¬ç•ªAPIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURLã®ç¢ºå®š

#### Phase 1: æ¥ç¶šç¢ºèªï¼ˆæ‰€è¦æ™‚é–“: 2æ™‚é–“ï¼‰

| é †åº | ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | å®Œäº†ç¢ºèª |
|-----|-------|------|----------|
| 1 | DBæ¥ç¶šãƒ†ã‚¹ãƒˆ | DBãƒãƒ¼ãƒ  | [ ] |
| 2 | APIç–é€šç¢ºèª | APIãƒãƒ¼ãƒ  | [ ] |
| 3 | SSLè¨¼æ˜æ›¸æ¤œè¨¼ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ | [ ] |
| 4 | Webhooké€ä¿¡ãƒ†ã‚¹ãƒˆ | çµ±åˆãƒãƒ¼ãƒ  | [ ] |

#### Phase 2: ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ï¼ˆæ‰€è¦æ™‚é–“: 4æ™‚é–“ï¼‰

| é †åº | ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | å®Œäº†ç¢ºèª |
|-----|-------|------|----------|
| 5 | å°åŸç—…é™¢ãƒ‡ãƒ¼ã‚¿ç¢ºèª | æ¥­å‹™ãƒãƒ¼ãƒ  | [ ] |
| 6 | ç«‹ç¥ç—…é™¢ãƒ‡ãƒ¼ã‚¿ç¢ºèª | æ¥­å‹™ãƒãƒ¼ãƒ  | [ ] |
| 7 | æ¨©é™ãƒ¬ãƒ™ãƒ«è¨ˆç®—æ¤œè¨¼ | é–‹ç™ºãƒãƒ¼ãƒ  | [ ] |
| 8 | æ–½è¨­é–“ç•°å‹•ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | QAãƒãƒ¼ãƒ  | [ ] |

#### Phase 3: çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆæ‰€è¦æ™‚é–“: 4æ™‚é–“ï¼‰

| é †åº | ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | å®Œäº†ç¢ºèª |
|-----|-------|------|----------|
| 9 | å®Ÿãƒ‡ãƒ¼ã‚¿ã§ã®æ¨©é™è¨ˆç®— | QAãƒãƒ¼ãƒ  | [ ] |
| 10 | 100ä»¶åŒæ™‚å‡¦ç†ãƒ†ã‚¹ãƒˆ | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | [ ] |
| 11 | Webhooké€šçŸ¥ç¢ºèª | çµ±åˆãƒãƒ¼ãƒ  | [ ] |
| 12 | ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ¤œè¨¼ | QAãƒãƒ¼ãƒ  | [ ] |

#### é‡ç‚¹ç¢ºèªé …ç›®

**çµ±æ‹¬ä¸»ä»»ãƒ¬ãƒ™ãƒ«7ã®å‹•ä½œç¢ºèª**ï¼š
```javascript
// å¿…é ˆãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
const testCase = {
  staffId: "TATE_002",
  facilityId: "tategami-rehabilitation",
  position: "çµ±æ‹¬ä¸»ä»»",
  expectedLevel: 7  // åŒ»ç™‚ãƒãƒ¼ãƒ æ‰¿èªæ¸ˆã¿
};

// æ¤œè¨¼ã‚³ãƒ¼ãƒ‰
const result = await calculateLevel(testCase);
assert(result.accountLevel === 7, "çµ±æ‹¬ä¸»ä»»ãƒ¬ãƒ™ãƒ«ãŒä¸æ­£");
```

**æ–½è¨­é–“ç•°å‹•ã®æ¤œè¨¼**ï¼š
```javascript
// è–¬å‰¤éƒ¨é•·â†’è–¬å±€é•·ã®ã‚±ãƒ¼ã‚¹
const transfer = {
  fromFacility: "obara-hospital",
  toFacility: "tategami-rehabilitation",
  fromPosition: "è–¬å‰¤éƒ¨é•·",
  expectedFromLevel: 10,
  expectedToLevel: 8  // ç‰¹æ®Šèª¿æ•´é©ç”¨
};
```

#### å®Œäº†åŸºæº–

ã™ã¹ã¦ã€Œã¯ã„ã€ã«ãªã£ãŸã‚‰ä½œæ¥­å®Œäº†ï¼š
- [ ] DBæ¥ç¶šãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹
- [ ] APIãŒã™ã¹ã¦200 OKã‚’è¿”ã—ã¦ã„ã‚‹
- [ ] çµ±æ‹¬ä¸»ä»»ãƒ¬ãƒ™ãƒ«7ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹
- [ ] WebhookãŒæ­£å¸¸ã«é€ä¿¡ã•ã‚Œã‚‹
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆãŒåŸºæº–å€¤å†…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«CriticalãŒãªã„

### 4.7.3 Phase 5-3é–¢é€£ä½œæ¥­ï¼ˆ7æ—¥é–“ï¼‰

#### Day 1: ç’°å¢ƒæ§‹ç¯‰ãƒ»DBæ¥ç¶šç¢ºèª

**åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã®ä½œæ¥­**ï¼š

**09:00-11:00: Supabaseç’°å¢ƒæ§‹ç¯‰**
```bash
# 1. Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
# 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒä½œæˆ
# 3. ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒã‚±ãƒƒãƒˆä½œæˆ
```

**ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆSQL**:
```sql
-- ã‚³ãƒ¼ã‚¹å®šç¾©ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE career_course_definitions (
  id TEXT PRIMARY KEY,
  course_code TEXT NOT NULL UNIQUE,
  course_name TEXT NOT NULL,
  description TEXT,
  department_transfer_available BOOLEAN,
  facility_transfer_available TEXT,
  relocation_required BOOLEAN,
  night_shift_available TEXT,
  management_track BOOLEAN,
  base_salary_multiplier DECIMAL(3,2),
  is_active BOOLEAN DEFAULT true,
  display_order INTEGER,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- è·å“¡ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE staff_career_courses (
  id TEXT PRIMARY KEY,
  staff_id TEXT REFERENCES staff(id),
  course_code TEXT NOT NULL,
  effective_from DATE NOT NULL,
  effective_to DATE,
  next_change_available_date DATE,
  special_change_reason TEXT,
  special_change_note TEXT,
  approval_status TEXT,
  approved_by TEXT,
  approved_at TIMESTAMP,
  rejection_reason TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- ã‚³ãƒ¼ã‚¹å¤‰æ›´ç”³è«‹ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE career_course_change_requests (
  id TEXT PRIMARY KEY,
  staff_id TEXT REFERENCES staff(id),
  current_course_code TEXT,
  requested_course_code TEXT NOT NULL,
  change_reason TEXT NOT NULL,
  reason_detail TEXT,
  requested_effective_date DATE NOT NULL,
  attachments TEXT[],
  approval_status TEXT DEFAULT 'pending',
  approved_by TEXT,
  approved_at TIMESTAMP,
  rejection_reason TEXT,
  review_comment TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ
CREATE INDEX idx_staff_career_courses_staff_id ON staff_career_courses(staff_id);
CREATE INDEX idx_staff_career_courses_approval_status ON staff_career_courses(approval_status);
CREATE INDEX idx_change_requests_staff_id ON career_course_change_requests(staff_id);
CREATE INDEX idx_change_requests_status ON career_course_change_requests(approval_status);
```

**11:00-12:00: ç’°å¢ƒå¤‰æ•°è¨­å®š**

**åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´** (.env.production):
```env
# Supabaseè¨­å®š
DATABASE_URL=postgresql://user:pass@db.medical-system.local:5432/medical_staff_system
SUPABASE_URL=https://xxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# VoiceDriveé€£æº
VOICEDRIVE_WEBHOOK_URL=https://voicedrive.medical-system.local/api/career-course/notify
VOICEDRIVE_API_KEY=ms_prod_key_X1Y2Z3A4B5C6D7E8F9G0H1I2J3K4L5M6
MEDICAL_SYSTEM_API_KEY=vd_prod_key_A8B9C2D3E4F5G6H7I8J9K0L1M2N3O4P5
INTERNAL_API_KEY=production_internal_key_CHANGE_ME

# æœ¬ç•ªç’°å¢ƒè¨­å®š
NODE_ENV=production
ENABLE_API_LOGGING=true
```

**13:00-15:00: ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆè§£é™¤**

4ã¤ã®APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’è§£é™¤:
- `/src/app/api/my-page/route.ts`
- `/src/app/api/career-courses/definitions/route.ts`
- `/src/app/api/career-course/change-request/route.ts`
- `/src/app/api/career-course/my-requests/route.ts`

**15:00-17:00: DBæ¥ç¶šãƒ†ã‚¹ãƒˆ**
```bash
# ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥
npm run db:seed

# APIå‹•ä½œç¢ºèª
curl https://api.medical-system.local/api/career-courses/definitions
```

**VoiceDriveå´ã®ä½œæ¥­**ï¼š

**09:00-11:00: ç’°å¢ƒå¤‰æ•°è¨­å®š**

**VoiceDriveå´** (.env.production):
```env
NODE_ENV=production

# åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ API
NEXT_PUBLIC_MEDICAL_SYSTEM_API=https://api.medical-system.local

# Supabaseè¨­å®š
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**11:00-13:00: APIæ¥ç¶šç¢ºèª**

åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ APIã¸ã®æ¥ç¶šãƒ†ã‚¹ãƒˆå®Ÿæ–½

**14:00-17:00: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–**

ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å‰Šé™¤ã—ã€ã‚¨ãƒ©ãƒ¼ã‚’å†ã‚¹ãƒ­ãƒ¼ã™ã‚‹å‡¦ç†ã«å¤‰æ›´

#### Day 2: Supabase Authçµ±åˆ

**åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã®ä½œæ¥­**ï¼š
- 09:00-11:00: èªè¨¼å‡¦ç†ã®èª¿æ•´
- 11:00-13:00: ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼å‡¦ç†ã®å®Ÿè£…
- 14:00-17:00: èªè¨¼ã‚¨ãƒ©ãƒ¼ã®ãƒ†ã‚¹ãƒˆ

**VoiceDriveå´ã®ä½œæ¥­**ï¼š
- 09:00-11:00: Supabase Clientã®åˆæœŸåŒ–
- 11:00-13:00: getAuthToken()ã®å®Ÿè£…
- 14:00-16:00: å…¨APIå‘¼ã³å‡ºã—ã«ãƒˆãƒ¼ã‚¯ãƒ³è¿½åŠ 
- 16:00-17:00: èªè¨¼ãƒ†ã‚¹ãƒˆ

#### Day 3-4: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Ÿè£…

**åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã®ä½œæ¥­**ï¼š
- Storageãƒã‚±ãƒƒãƒˆä½œæˆãƒ»ãƒãƒªã‚·ãƒ¼è¨­å®š
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†ã®å®Ÿè£…
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½å®Ÿè£…
- ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ

**VoiceDriveå´ã®ä½œæ¥­**ï¼š
- ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠUIã®å®Ÿè£…
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…ï¼ˆ10MBä¸Šé™ã€PDF/JPG/PNGï¼‰
- FormDataé€ä¿¡å‡¦ç†ã®å®Ÿè£…
- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é€²æ—è¡¨ç¤º

#### Day 5-6: å®Ÿãƒ‡ãƒ¼ã‚¿ã§ã®çµ±åˆãƒ†ã‚¹ãƒˆ

**ä¸¡ãƒãƒ¼ãƒ åˆåŒä½œæ¥­**ï¼š

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æœŸå¾…çµæœ | å®Ÿæ¸¬å€¤ | åˆ¤å®š |
|------------|---------|--------|------|
| GET /api/my-page | 200 OK, å®Ÿãƒ‡ãƒ¼ã‚¿è¿”å´ | - | - |
| GET /api/career-courses/definitions | 200 OK, 4ä»¶è¿”å´ | - | - |
| POST /api/career-course/change-request | 201 Created | - | - |
| GET /api/career-course/my-requests | 200 OK, ç”³è«‹å±¥æ­´è¿”å´ | - | - |

**E2Eãƒ†ã‚¹ãƒˆ**ï¼š
1. VoiceDriveã§ãƒ­ã‚°ã‚¤ãƒ³
2. ã‚­ãƒ£ãƒªã‚¢é¸æŠã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º
3. ãƒã‚¤ãƒšãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºç¢ºèª
4. ã‚³ãƒ¼ã‚¹å®šç¾©ä¸€è¦§è¡¨ç¤ºç¢ºèª
5. ã‚³ãƒ¼ã‚¹å¤‰æ›´ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›
6. ãƒ•ã‚¡ã‚¤ãƒ«æ·»ä»˜
7. ç”³è«‹é€ä¿¡
8. ç”³è«‹å±¥æ­´ç¢ºèª

**Webhooké€šçŸ¥ãƒ†ã‚¹ãƒˆ**ï¼š
åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã§Webhooké€šçŸ¥ã‚’æ‰‹å‹•é€ä¿¡ã—ã€VoiceDriveå´ã§å—ä¿¡ç¢ºèª

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**ï¼š

| API | ç›®æ¨™ | å®Ÿæ¸¬å€¤ | åˆ¤å®š |
|-----|------|--------|------|
| GET /api/my-page | < 200ms | - | - |
| GET /api/career-courses/definitions | < 200ms | - | - |
| POST /api/career-course/change-request | < 500ms | - | - |
| GET /api/career-course/my-requests | < 300ms | - | - |

#### Day 7: ãƒãƒƒãƒ•ã‚¡æ—¥ï¼ˆäºˆå‚™æ—¥ï¼‰

**ç”¨é€”**ï¼š
- å‰æ—¥ã¾ã§ã«ç™ºè¦‹ã•ã‚ŒãŸãƒã‚°ã®ä¿®æ­£
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™
- æ¬¡æœŸãƒ•ã‚§ãƒ¼ã‚ºï¼ˆPhase 5-4ï¼‰ã®ä¼ç”»ä¼šè­°

### 4.7.4 å®Œäº†åŸºæº–

**Phase 3é–¢é€£**ï¼š
- [ ] 3æ–½è¨­750åã®ãƒ‡ãƒ¼ã‚¿ãŒæ­£å¸¸ã«å–å¾—ã§ãã‚‹
- [ ] æ–½è¨­åˆ¥æ¨©é™è¨ˆç®—ãŒæ­£ç¢ºã«å‹•ä½œã™ã‚‹
- [ ] Webhooké€šçŸ¥ãŒæ­£å¸¸ã«é€ä¿¡ã•ã‚Œã‚‹

**Phase 5-3é–¢é€£**ï¼š
- [ ] Supabase Authçµ±åˆå®Œäº†
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½å®Œå…¨å®Ÿè£…
- [ ] E2Eãƒ†ã‚¹ãƒˆå…¨å·¥ç¨‹å®Œäº†
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Œäº†

---

## Phase 5: æœ¬ç•ªç§»è¡Œ

### å®Ÿæ–½æœŸé–“: 6é€±é–“

### 5.1 ãƒ‡ãƒ¼ã‚¿ç§»è¡Œè¨ˆç”»

| ã‚¹ãƒ†ãƒƒãƒ— | å¯¾è±¡ãƒ‡ãƒ¼ã‚¿ | ãƒ‡ãƒ¼ã‚¿é‡ | æ‰€è¦æ™‚é–“ |
|---------|-----------|---------|----------|
| 1 | æ–½è¨­ãƒ»éƒ¨é–€ãƒã‚¹ã‚¿ | 50ä»¶ | 30åˆ† |
| 2 | è·å“¡ãƒã‚¹ã‚¿ | 750ä»¶ | 2æ™‚é–“ |
| 3 | é€€è·è€…ãƒ‡ãƒ¼ã‚¿ | 150ä»¶ | 1æ™‚é–“ |
| 4 | é¢è«‡è¨˜éŒ² | 10,000ä»¶ | 6æ™‚é–“ |
| 5 | é€šçŸ¥å±¥æ­´ | 5,000ä»¶ | 3æ™‚é–“ |
| 6 | è©•ä¾¡ãƒ‡ãƒ¼ã‚¿ | 2,000ä»¶ | 2æ™‚é–“ |

### 5.2 æ®µéšçš„ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ

```yaml
Week 1-2:
  - æœ¬éƒ¨ã‚¹ã‚¿ãƒƒãƒ•ï¼ˆ10åï¼‰
  - å…¨æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
  - å…¥è·ãƒ»é€€è·ãƒ•ãƒ­ãƒ¼å®Ÿè¨¼

Week 3-4:
  - äº‹å‹™éƒ¨é–€ï¼ˆ50åï¼‰
  - è² è·ãƒ†ã‚¹ãƒˆ
  - é€€è·è€…æ¤œç´¢æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

Week 5-6:
  - åŒ»ç™‚éƒ¨é–€ï¼ˆ200åï¼‰
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹èª¿æ•´

Week 7-8:
  - å…¨è·å“¡ï¼ˆ750åï¼‰
  - å®Œå…¨ç§»è¡Œ
```

### 5.3 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒªã‚«ãƒãƒªè¨ˆç”»

```bash
# è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
0 2 * * * /backup/daily-backup.sh      # æ¯æ—¥2:00
0 3 * * 0 /backup/weekly-backup.sh     # æ¯é€±æ—¥æ›œ3:00
0 4 1 * * /backup/monthly-backup.sh    # æ¯æœˆ1æ—¥4:00

# ãƒªã‚«ãƒãƒªæ™‚é–“ç›®æ¨™
RTO: 4æ™‚é–“
RPO: 1æ™‚é–“
```

---

## å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### å…¨ä½“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆæ›´æ–°ç‰ˆï¼‰

```
Phase 0: çµ„ç¹”è¨­è¨ˆ âœ… å®Œäº†
  â”œâ”€ æ¨©é™éšå±¤è¨­è¨ˆã€ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ç¢ºå®š
  â””â”€ 25ãƒ¬ãƒ™ãƒ«æ¨©é™ä½“ç³»æ§‹ç¯‰ï¼ˆ2025-10-04å®Œäº†ï¼‰

Phase 0.5: å¥åº·ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ âœ… å®Œäº†ï¼ˆ2025-10-04ï¼‰
  â”œâ”€ ã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯åŒæ„ç®¡ç†ï¼ˆåŠ´åƒå®‰å…¨è¡›ç”Ÿæ³•æº–æ‹ ï¼‰
  â”œâ”€ å¥åº·ãƒ‡ãƒ¼ã‚¿ç›£æŸ»ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ 
  â”œâ”€ å¥è¨ºæ‹…å½“è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
  â””â”€ VoiceDriveå¥åº·é€šçŸ¥çµ±åˆ

Phase 0.8: ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹é€šå ±çµ±åˆ âœ… 87.5%å®Œäº†ï¼ˆ2025-10-04ï¼‰
  â”œâ”€ VoiceDriveå—ä»˜ç¢ºèªé€šçŸ¥é€ä¿¡æ©Ÿèƒ½
  â”œâ”€ HMAC-SHA256ç½²åæ¤œè¨¼
  â”œâ”€ ç·Šæ€¥åº¦åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ
  â”œâ”€ ãƒãƒƒãƒå‡¦ç†å¯¾å¿œ
  â””â”€ çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ10æœˆ8æ—¥TC-006, TC-008æ‰‹å‹•ç¢ºèªï¼‰

Phase 1: åŸºç›¤æ§‹ç¯‰ â³ é€²è¡Œä¸­
  â””â”€ AWS Lightsailç’°å¢ƒæ§‹ç¯‰ã€MySQLå…±é€šDBè¨­è¨ˆ

Phase 2: èªè¨¼ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ ğŸ“… Phase 1å®Œäº†å¾Œ
  â””â”€ JWT/SSOå®Ÿè£…ã€è‡ªå‹•ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ

Phase 3: ãƒ‡ãƒ¼ã‚¿é€£æºå®Ÿè£… âœ… 100%å®Œäº†ï¼ˆDBæ§‹ç¯‰å¾…æ©Ÿä¸­ï¼‰
  â”œâ”€ å°åŸç—…é™¢çµ±åˆï¼ˆ420åï¼‰
  â”œâ”€ ç«‹ç¥ãƒªãƒãƒ“ãƒªçµ±åˆï¼ˆ180åï¼‰
  â””â”€ ã‚¨ã‚¹ãƒãƒ¯ãƒ¼ãƒ«ç«‹ç¥çµ±åˆï¼ˆ150åï¼‰

Phase 4: è·å“¡ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç† ğŸ“… Phase 3å®Œäº†å¾Œ
  â”œâ”€ å…¥è·å‡¦ç†å®Ÿè£…
  â””â”€ é€€è·å‡¦ç†å®Ÿè£…

Phase 4.5: å…±é€šDBæ§‹ç¯‰ â³ ã‚¤ãƒ³ãƒ•ãƒ©ãƒãƒ¼ãƒ ä½œæ¥­ä¸­
  â”œâ”€ Week 1: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
  â”œâ”€ Week 2: è·å“¡æƒ…å ±ï¼ˆ750åï¼‰
  â”œâ”€ Week 3-4: ã‚³ã‚¢æ©Ÿèƒ½
  â”œâ”€ Week 5-6: ä»˜åŠ æ©Ÿèƒ½
  â””â”€ Week 7-8: çµ±åˆãƒ»æœ€é©åŒ–

Phase 4.7: DBæ§‹ç¯‰å¾Œã®ç§»è¡Œä½œæ¥­ ğŸ“… Phase 4.5å®Œäº†å¾Œ
  â”œâ”€ Phase 3æ¥ç¶šç¢ºèªï¼ˆ2-3æ—¥ï¼‰
  â””â”€ Phase 5-3çµ±åˆï¼ˆ7æ—¥é–“ï¼‰

Phase 5: æœ¬ç•ªç§»è¡Œ ğŸ“… å…¨Phaseå®Œäº†å¾Œ
  â””â”€ æ®µéšçš„ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆï¼ˆWeek 1-8ï¼‰

Phase 5-3: ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ¼ã‚¹ âœ… çµ±åˆãƒ†ã‚¹ãƒˆå®Œäº†ï¼ˆDBæ§‹ç¯‰å¾…æ©Ÿä¸­ï¼‰
  â”œâ”€ Aï½D 4ã‚³ãƒ¼ã‚¹å®Ÿè£…
  â”œâ”€ ç®¡ç†ç”»é¢å®Ÿè£…
  â””â”€ çµ±åˆãƒ†ã‚¹ãƒˆ77.8%æˆåŠŸ

Phase 5-4: æ©Ÿèƒ½æ‹¡å¼µ ğŸ“… Phase 5-3å®Œäº†å¾Œ
  â”œâ”€ ã‚³ãƒ¼ã‚¹å¤‰æ›´ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  â”œâ”€ æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
  â””â”€ ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
```

### ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

| ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ | äºˆå®šæ—¥ | çŠ¶æ…‹ |
|--------------|--------|------|
| Phase 0å®Œäº† | 2025-09-15 | âœ… å®Œäº† |
| Phase 3å®Œäº† | 2025-09-28 | âœ… å®Œäº†ï¼ˆDBæ§‹ç¯‰å¾…æ©Ÿä¸­ï¼‰ |
| Phase 5-3çµ±åˆãƒ†ã‚¹ãƒˆå®Œäº† | 2025-10-01 | âœ… å®Œäº† |
| **ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹é€šå ±çµ±åˆãƒ†ã‚¹ãƒˆå®Œäº†** | **2025-10-04** | âœ… **å®Œäº†ï¼ˆ100%ï¼‰** |
| å…±é€šDBæ§‹ç¯‰é–‹å§‹ | 2025-10-07 | â³ å¾…æ©Ÿä¸­ |
| **TC-006, TC-008æ‰‹å‹•ç¢ºèªãƒ†ã‚¹ãƒˆ** | **2025-10-08** | ğŸ“… **äºˆå®š** |
| **ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹é€šå ±æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤** | **2025-10-10** | ğŸ¯ **ç›®æ¨™** |
| å…±é€šDBæ§‹ç¯‰å®Œäº† | 2025-12-01 | ğŸ“… äºˆå®š |
| Phase 4.7å®Œäº† | 2025-12-10 | ğŸ“… äºˆå®š |
| Phase 4å®Œäº† | 2026-02-01 | ğŸ“… äºˆå®š |
| Phase 5å®Œäº†ï¼ˆå…¨è·å“¡ç§»è¡Œï¼‰ | 2026-03-31 | ğŸ“… äºˆå®š |

---

## ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š

### åˆæœŸæ§‹ç¯‰è²»ç”¨
| é …ç›® | é‡‘é¡ |
|-----|------|
| Lightsailç’°å¢ƒæ§‹ç¯‰ | Â¥200,000 |
| DBè¨­è¨ˆãƒ»å®Ÿè£… | Â¥500,000 |
| APIé–‹ç™ºï¼ˆPhase 1-3ï¼‰ | Â¥800,000 |
| SSOçµ±åˆ | Â¥600,000 |
| å…¥è·ãƒ»é€€è·å‡¦ç†å®Ÿè£…ï¼ˆPhase 4ï¼‰ | Â¥500,000 |
| ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ | Â¥400,000 |
| **åˆè¨ˆ** | **Â¥3,000,000** |

### æœˆé¡é‹ç”¨è²»ç”¨
| é …ç›® | é‡‘é¡ |
|-----|------|
| Lightsail (Production) | Â¥12,000 |
| Lightsail (Staging) | Â¥6,000 |
| ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | Â¥3,000 |
| ç›£è¦–ãƒ»ãƒ­ã‚°ç®¡ç† | Â¥2,000 |
| **åˆè¨ˆ** | **Â¥23,000/æœˆ** |

---

## ãƒªã‚¹ã‚¯ç®¡ç†

### ä¸»è¦ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | ç™ºç”Ÿç¢ºç‡ | å¯¾ç­– | çŠ¶æ…‹ |
|--------|--------|----------|------|------|
| çµ„ç¹”æ§‹é€ ã®å¤‰æ›´ | é«˜ | ä¸­ | Phase 0ã§ç¢ºå®šã€å¤‰æ›´ç®¡ç†ãƒ—ãƒ­ã‚»ã‚¹ç¢ºç«‹ | âœ… å¯¾ç­–æ¸ˆã¿ |
| ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã‚¨ãƒ©ãƒ¼ | é«˜ | ä½ | æ®µéšçš„ç§»è¡Œã€ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”» | âœ… è¨ˆç”»æ¸ˆã¿ |
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ | ä¸­ | ä¸­ | è² è·ãƒ†ã‚¹ãƒˆã€ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è¨ˆç”» | ğŸ“… å®Ÿæ–½äºˆå®š |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¾µå®³ | é«˜ | ä½ | å¤šå±¤é˜²å¾¡ã€ç›£æŸ»ãƒ­ã‚°ã€æš—å·åŒ– | âœ… å®Ÿè£…æ¸ˆã¿ |
| DBæ§‹ç¯‰é…å»¶ | é«˜ | ä¸­ | å„ªå…ˆåº¦æ˜ç¢ºåŒ–ã€ãƒªã‚½ãƒ¼ã‚¹ç¢ºä¿ | â³ ç›£è¦–ä¸­ |

---

## æˆåŠŸæŒ‡æ¨™ï¼ˆKPIï¼‰

### 1. æŠ€è¡“æŒ‡æ¨™
- APIå¿œç­”æ™‚é–“: < 200msï¼ˆ95ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«ï¼‰
- ã‚·ã‚¹ãƒ†ãƒ å¯ç”¨æ€§: > 99.5%
- ãƒ‡ãƒ¼ã‚¿åŒæœŸé…å»¶: < 5ç§’

### 2. ãƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™
- è‡ªå‹•ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæˆåŠŸç‡: > 99%
- SSOåˆ©ç”¨ç‡: > 90%
- ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦: > 4.0/5.0

### 3. é‹ç”¨æŒ‡æ¨™
- ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆè§£æ±ºæ™‚é–“: < 4æ™‚é–“
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆåŠŸç‡: 100%
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»åˆæ ¼ç‡: 100%

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### å³æ™‚å®Ÿè¡Œé …ç›®ï¼ˆä»Šé€±ä¸­ï¼š10/3-10/6ï¼‰

| No. | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | æ‹…å½“ | æœŸé™ | æˆæœç‰© | çŠ¶æ…‹ |
|-----|-----------|------|------|--------|------|
| 1 | å…±é€šDBæ§‹ç¯‰é–‹å§‹åˆ¤æ–­ä¼šè­° | ä¸¡ãƒãƒ¼ãƒ  | 10/9 | ä¼šè­°è­°äº‹éŒ² | ğŸ“… äºˆå®š |
| 2 | äº‹å‹™å±€ã¸ã®è·å“¡æƒ…å ±æä¾›ä¾é ¼ | åŒ»ç™‚ãƒãƒ¼ãƒ  | 10/3 | ä¾é ¼æ›¸é€ä»˜ | â³ ä½œæ¥­ä¸­ |
| 3 | VoiceDriveãƒãƒ¼ãƒ ã¸ã®ç¢ºèªäº‹é …é€ä»˜ | åŒ»ç™‚ãƒãƒ¼ãƒ  | 10/3 | ç¢ºèªæ›¸é€ä»˜ | â³ ä½œæ¥­ä¸­ |
| 4 | Phase 3ä½œæ¥­å†é–‹æº–å‚™ | åŒ»ç™‚ãƒãƒ¼ãƒ  | 10/6 | ç’°å¢ƒè¨­å®šå®Œäº† | ğŸ“… å¾…æ©Ÿä¸­ |
| 5 | Phase 5-3ä½œæ¥­å†é–‹æº–å‚™ | ä¸¡ãƒãƒ¼ãƒ  | 10/6 | ç’°å¢ƒè¨­å®šå®Œäº† | ğŸ“… å¾…æ©Ÿä¸­ |

### Week 1é–‹å§‹å‰æº–å‚™ï¼ˆ10/7-10/9ï¼‰

| No. | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | æ‹…å½“ | æœŸé™ | æˆæœç‰© |
|-----|-----------|------|------|--------|
| 1 | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒãƒ¼æ§‹ç¯‰ | åŒ»ç™‚ãƒãƒ¼ãƒ  | 10/7 | æ¥ç¶šæƒ…å ± |
| 2 | .envãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š | åŒ»ç™‚ãƒãƒ¼ãƒ  | 10/8 | è¨­å®šå®Œäº† |
| 3 | æ¥ç¶šãƒ†ã‚¹ãƒˆå®Ÿæ–½ | åŒ»ç™‚ãƒãƒ¼ãƒ  | 10/8 | ãƒ†ã‚¹ãƒˆçµæœ |
| 4 | äº‹å‹™å±€æä¾›ãƒ‡ãƒ¼ã‚¿ã®å—é ˜ | åŒ»ç™‚ãƒãƒ¼ãƒ  | 10/9 | Excelãƒ•ã‚¡ã‚¤ãƒ« |
| 5 | VoiceDriveãƒãƒ¼ãƒ ã‹ã‚‰ã®å›ç­”å—é ˜ | VoiceDriveãƒãƒ¼ãƒ  | 10/9 | å›ç­”æ›¸ |

### Phase 4æº–å‚™é …ç›®ï¼ˆPhase 3å®Œäº†å¾Œï¼‰

1. â¬œ å…¥è·ãƒ»é€€è·å‡¦ç†ã®UI/UXãƒ‡ã‚¶ã‚¤ãƒ³
2. â¬œ VoiceDriveãƒãƒ¼ãƒ ã¸ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†APIä¾é ¼
3. â¬œ é€€è·è€…ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã®æœ€çµ‚ç¢ºèª
4. â¬œ æ¡ç”¨ç®¡ç†ãƒšãƒ¼ã‚¸ã®æ©Ÿèƒ½æ‹¡å¼µä»•æ§˜ç­–å®š

---

## é€£çµ¡å…ˆ

### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ 
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼: medical-lead@example.com
- æŠ€è¡“æ‹…å½“: medical-tech@example.com

### VoiceDriveãƒãƒ¼ãƒ 
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼: voicedrive-lead@example.com
- æŠ€è¡“æ‹…å½“: voicedrive-tech@example.com

### äº‹å‹™å±€
- äººäº‹éƒ¨é•·: hr@kosei.jp
- ãƒ‡ãƒ¼ã‚¿æä¾›æ‹…å½“: hr-data@kosei.jp

---

## æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ›´æ–°è€… | æ›´æ–°å†…å®¹ |
|------|-----------|--------|---------|
| 2025-09-20 | 1.0 | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ  | åˆç‰ˆä½œæˆ |
| 2025-09-30 | 1.1 | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ  | Phase 4ï¼ˆè·å“¡ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ï¼‰è¿½åŠ <br>- å…¥è·ãƒ»é€€è·å‡¦ç†ã®è©³ç´°ä»•æ§˜<br>- VoiceDriveã‚¢ã‚«ã‚¦ãƒ³ãƒˆè‡ªå‹•ä½œæˆãƒ»ç„¡åŠ¹åŒ–<br>- æ¡ç”¨ç®¡ç†ãƒšãƒ¼ã‚¸é€€è·è€…æ¤œç´¢æ©Ÿèƒ½<br>- ãƒ‡ãƒ¼ã‚¿ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†<br>å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Šæ›´æ–° |
| 2025-10-03 | 2.0 | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ  & VoiceDriveãƒãƒ¼ãƒ  | **çµ±åˆç‰ˆä½œæˆ**<br>- ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³ã‚’åæ˜ ï¼ˆPhase 3å®Œäº†ã€Phase 5-3å®Œäº†ï¼‰<br>- Phase 4.5: å…±é€šDBæ§‹ç¯‰ï¼ˆè©³ç´°è¨ˆç”»ï¼‰è¿½åŠ <br>- Phase 4.7: DBæ§‹ç¯‰å¾Œã®ç§»è¡Œä½œæ¥­è¿½åŠ <br>- Week 1-8ã®æ®µéšçš„DBæ§‹ç¯‰ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¿½åŠ <br>- Phase 3ä½œæ¥­å†é–‹æŒ‡ç¤ºæ›¸ã®çµ±åˆ<br>- Phase 5-3ã®7æ—¥é–“ä½œæ¥­è¨ˆç”»ã®çµ±åˆ<br>- å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ›´æ–°<br>- ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æ›´æ–° |
| 2025-10-04 | 2.1 | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ  | **25ãƒ¬ãƒ™ãƒ«æ¨©é™ä½“ç³»ãƒ»å¥åº·ç®¡ç†ãƒ»ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹çµ±åˆ**<br>- Phase 0.2: 25ãƒ¬ãƒ™ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¨©é™ä½“ç³»ã«æ›´æ–°ï¼ˆåŸºæœ¬18 + ãƒªãƒ¼ãƒ€ãƒ¼4 + ç‰¹åˆ¥3ï¼‰<br>- Phase 0.5: å¥åº·ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ çµ±åˆå®Œäº†è¿½åŠ <br>- Phase 0.8: ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹é€šå ±çµ±åˆå®Œäº†ï¼ˆ87.5%ï¼‰è¿½åŠ <br>- ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³ã‚’10æœˆ4æ—¥æ™‚ç‚¹ã«æ›´æ–°<br>- VoiceDriveãƒãƒ¼ãƒ ã¨ã®25ãƒ¬ãƒ™ãƒ«åŒæœŸå®Œäº†ã‚’åæ˜ <br>- å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«Phase 0.5, 0.8ã‚’è¿½åŠ <br>- ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«10æœˆ8æ—¥çµ±åˆãƒ†ã‚¹ãƒˆã€10æœˆ10æ—¥æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¿½åŠ  |

---

**æ–‡æ›¸çµ‚äº†**

*æœ¬ãƒã‚¹ã‚¿ãƒ¼ãƒ—ãƒ©ãƒ³ã¯ä¸¡ãƒãƒ¼ãƒ ã®åˆæ„ã®ã‚‚ã¨ã€é©å®œæ›´æ–°ã•ã‚Œã‚‹äºˆå®šã§ã™ã€‚*
*Phase 3ãŠã‚ˆã³Phase 5-3ã®å®Ÿè£…å®Œäº†ã«ã‚ˆã‚Šã€å…±é€šDBæ§‹ç¯‰å¾Œã®ç§»è¡Œä½œæ¥­ãŒæ˜ç¢ºåŒ–ã•ã‚Œã¾ã—ãŸã€‚*
*å…±é€šDBæ§‹ç¯‰é–‹å§‹åˆ¤æ–­ä¼šè­°ï¼ˆ10/9äºˆå®šï¼‰ã§ã®æ‰¿èªå¾Œã€Phase 4.5ã®ä½œæ¥­ã‚’é–‹å§‹ã—ã¾ã™ã€‚*
