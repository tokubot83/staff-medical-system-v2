# çµ„ç¹”åˆ†æãƒšãƒ¼ã‚¸ï¼ˆOrganizationAnalyticsï¼‰DBè¦ä»¶åˆ†æ

**æ–‡æ›¸ç•ªå·**: DB-REQ-2025-1010-002
**ä½œæˆæ—¥**: 2025å¹´10æœˆ10æ—¥
**å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **: VoiceDrive v100
**å¯¾è±¡æ©Ÿèƒ½**: çµ„ç¹”åˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆLevel 15+ äººäº‹å„éƒ¨é–€é•·å°‚ç”¨ï¼‰
**å„ªå…ˆåº¦**: ğŸŸ¡ MEDIUMï¼ˆãƒ¬ãƒ™ãƒ«15å°‚ç”¨ãƒ»æˆ¦ç•¥çš„åˆ†ææ©Ÿèƒ½ï¼‰

---

## ğŸ“‹ ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

### å¯¾è±¡ãƒšãƒ¼ã‚¸æ¦‚è¦

**URL**: https://voicedrive-v100.vercel.app/organization-analytics
**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹**: `C:\projects\voicedrive-v100\src\pages\OrganizationAnalyticsPage.tsx`
**æ¨©é™**: Level 15+ï¼ˆäººäº‹å„éƒ¨é–€é•·ä»¥ä¸Šï¼‰
**ç›®çš„**: è­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹ã®åˆ†æã¨çµ„ç¹”ã®å£°ã®å¯è¦–åŒ–ã«ã‚ˆã‚‹æˆ¦ç•¥çš„ã‚¤ãƒ³ã‚µã‚¤ãƒˆæä¾›

### ä¸»è¦æ©Ÿèƒ½ï¼ˆç¾çŠ¶ï¼‰

1. **çµ„ç¹”å¥åº·åº¦æŒ‡æ¨™**ï¼ˆ152-186è¡Œç›®ï¼‰
   - å£°ã®æ´»æ€§åº¦ã€å‚åŠ ç‡ã€è§£æ±ºç‡ã€ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã€éƒ¨é–€é–“é€£æº

2. **è­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹ã®é€²æ—**ï¼ˆ188-218è¡Œç›®ï¼‰
   - éƒ¨ç½²å†…è­°é¡Œã€æ–½è¨­è­°é¡Œã€æ³•äººè­°é¡Œã€å§”å“¡ä¼šæå‡ºæ¸ˆã¿ã€æ±ºè­°æ¸ˆã¿

3. **å§”å“¡ä¼šæ´»å‹•ã®åŠ¹æœæ¸¬å®š**ï¼ˆ220-258è¡Œç›®ï¼‰
   - æå‡ºã€å¯©è­°å®Œäº†ã€æ‰¿èªã€å®Ÿè£…æ¸ˆã¿ã€å¹³å‡å¯©è­°æœŸé–“ã€å¹³å‡å®Ÿè£…æœŸé–“

4. **è­°é¡Œã‚«ãƒ†ã‚´ãƒªåˆ¥åˆ†æ**ï¼ˆ260-309è¡Œç›®ï¼‰
   - äººäº‹ãƒ»æ¡ç”¨ã€æ•™è‚²ãƒ»ç ”ä¿®ã€æ¥­å‹™æ”¹å–„ã€åŠ´åƒç’°å¢ƒã€åŒ»ç™‚å®‰å…¨ã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³

5. **éƒ¨é–€åˆ¥ã®å£°ã®æ´»æ€§åº¦**ï¼ˆ311-357è¡Œç›®ï¼‰
   - éƒ¨é–€ã”ã¨ã®æŠ•ç¨¿æ•°ã€è­°é¡ŒåŒ–æ•°ã€æ´»æ€§åº¦ã‚¹ã‚³ã‚¢

6. **æˆ¦ç•¥çš„ã‚¤ãƒ³ã‚µã‚¤ãƒˆï¼ˆAIåˆ†æï¼‰**ï¼ˆ359-392è¡Œç›®ï¼‰
   - æ³¨ç›®ãƒã‚¤ãƒ³ãƒˆã€ãƒã‚¸ãƒ†ã‚£ãƒ–ãªå‹•ãã®è‡ªå‹•æ¤œå‡º

---

## ğŸ¯ ç¾çŠ¶åˆ†æ: ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹

### ğŸ”´ é‡å¤§ãªå•é¡Œ: å…¨ã¦ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿

```typescript
// OrganizationAnalyticsPage.tsx 34-80è¡Œç›®
const agendaProgress = {
  departmentLevel: 45,    // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
  facilityLevel: 23,      // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
  corporateLevel: 12,     // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
  // ...
};

const departmentActivity = [
  { name: 'åŒ»ç™‚ç™‚é¤Šç—…æ£Ÿ', posts: 42, agenda: 8, engagement: 85, trend: 'up' },
  // ...å…¨ã¦ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
];

const categoryData = [
  { id: 'hr', name: 'äººäº‹ãƒ»æ¡ç”¨', count: 28, resolved: 12, color: '...' },
  // ...å…¨ã¦ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
];

const committeeEffectiveness = {
  submitted: 32,  // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
  reviewed: 28,   // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
  // ...
};

const organizationHealth = {
  voiceActivity: 82,        // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
  participationRate: 68,    // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
  // ...
};
```

**çµè«–**: ç¾æ™‚ç‚¹ã§ã¯**å®Ÿãƒ‡ãƒ¼ã‚¿ã¨å…¨ãæ¥ç¶šã•ã‚Œã¦ã„ãªã„**ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸çŠ¶æ…‹ã€‚

---

## ğŸ“Š å¿…è¦ãªãƒ‡ãƒ¼ã‚¿é …ç›®ã¨å®Ÿè£…è¦ä»¶

### 1. çµ„ç¹”å¥åº·åº¦æŒ‡æ¨™ï¼ˆ5ã¤ã®æŒ‡æ¨™ï¼‰

#### 1.1 å£°ã®æ´»æ€§åº¦ï¼ˆVoice Activityï¼‰

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿**:
- æŠ•ç¨¿ç·æ•°ï¼ˆæœŸé–“å†…ï¼‰
- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°
- ã‚³ãƒ¡ãƒ³ãƒˆç·æ•°
- æŠ•ç¥¨ç·æ•°

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- âœ… VoiceDrive `Post`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰
- âœ… VoiceDrive `Comment`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰
- âœ… VoiceDrive `Vote`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰
- âœ… VoiceDrive `User`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰

**è¨ˆç®—å¼**:
```typescript
voiceActivity = (
  (æŠ•ç¨¿æ•° * 10) + (ã‚³ãƒ¡ãƒ³ãƒˆæ•° * 5) + (æŠ•ç¥¨æ•° * 1)
) / (å…¨è·å“¡æ•° * æœŸé–“æ—¥æ•°) * 100
```

**å®Ÿè£…çŠ¶æ…‹**: âŒ æœªå®Ÿè£…ï¼ˆå…¨ã¦ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼‰

---

#### 1.2 å‚åŠ ç‡ï¼ˆParticipation Rateï¼‰

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿**:
- æœŸé–“å†…ã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆæŠ•ç¨¿/ã‚³ãƒ¡ãƒ³ãƒˆ/æŠ•ç¥¨ï¼‰ã—ãŸè·å“¡æ•°
- å…¨è·å“¡æ•°

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- âœ… VoiceDrive `Post`, `Comment`, `Vote`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰
- ğŸ”µ åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  API: `GET /api/v2/employees/active-count`ï¼ˆæ–°è¦å¿…è¦ï¼‰

**è¨ˆç®—å¼**:
```typescript
participationRate = (ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•° / å…¨è·å“¡æ•°) * 100
```

**å®Ÿè£…çŠ¶æ…‹**: âŒ æœªå®Ÿè£…

---

#### 1.3 è§£æ±ºç‡ï¼ˆResolution Rateï¼‰

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿**:
- æœŸé–“å†…ã«ä½œæˆã•ã‚ŒãŸè­°é¡Œç·æ•°
- æœŸé–“å†…ã«è§£æ±ºæ¸ˆã¿ã«ãªã£ãŸè­°é¡Œæ•°

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- âœ… VoiceDrive `ManagementCommitteeAgenda`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰
- âœ… VoiceDrive `DecisionMeetingAgenda`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰

**è¨ˆç®—å¼**:
```typescript
resolutionRate = (è§£æ±ºæ¸ˆã¿è­°é¡Œæ•° / ç·è­°é¡Œæ•°) * 100
```

**å®Ÿè£…çŠ¶æ…‹**: âŒ æœªå®Ÿè£…

---

#### 1.4 ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ï¼ˆEngagement Scoreï¼‰

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿**:
- æŠ•ç¨¿ã‚ãŸã‚Šã®å¹³å‡ã‚³ãƒ¡ãƒ³ãƒˆæ•°
- æŠ•ç¨¿ã‚ãŸã‚Šã®å¹³å‡æŠ•ç¥¨æ•°
- è­°é¡ŒåŒ–ç‡ï¼ˆæŠ•ç¨¿ã‹ã‚‰è­°é¡Œã¸ã®æ˜‡æ ¼ç‡ï¼‰

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- âœ… VoiceDrive `Post`, `Comment`, `Vote`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰
- âœ… VoiceDrive `ManagementCommitteeAgenda.relatedPostId`ï¼ˆæ—¢å­˜ï¼‰

**è¨ˆç®—å¼**:
```typescript
engagementScore = (
  (å¹³å‡ã‚³ãƒ¡ãƒ³ãƒˆæ•° / 5 * 30) +
  (å¹³å‡æŠ•ç¥¨æ•° / 20 * 40) +
  (è­°é¡ŒåŒ–ç‡ * 30)
)
```

**å®Ÿè£…çŠ¶æ…‹**: âŒ æœªå®Ÿè£…

---

#### 1.5 éƒ¨é–€é–“é€£æºï¼ˆCross-Dept Collaborationï¼‰

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿**:
- è¤‡æ•°éƒ¨é–€ã«ã¾ãŸãŒã‚‹è­°é¡Œæ•°
- éƒ¨é–€å¤–ã‹ã‚‰ã®ã‚³ãƒ¡ãƒ³ãƒˆæ•°
- éƒ¨é–€å¤–ã‹ã‚‰ã®æŠ•ç¥¨æ•°

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- âœ… VoiceDrive `ManagementCommitteeAgenda.impactDepartments`ï¼ˆæ—¢å­˜ãƒ»JSONï¼‰
- âœ… VoiceDrive `Comment`, `Vote`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰
- ğŸ”µ åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  API: `GET /api/v2/employees/{employeeId}`ã§éƒ¨é–€æƒ…å ±å–å¾—

**è¨ˆç®—å¼**:
```typescript
crossDeptCollaboration = (
  (è¤‡æ•°éƒ¨é–€è­°é¡Œæ•° / ç·è­°é¡Œæ•° * 50) +
  (éƒ¨é–€å¤–ã‚³ãƒ¡ãƒ³ãƒˆç‡ * 30) +
  (éƒ¨é–€å¤–æŠ•ç¥¨ç‡ * 20)
)
```

**å®Ÿè£…çŠ¶æ…‹**: âŒ æœªå®Ÿè£…

---

### 2. è­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹ã®é€²æ—ï¼ˆ5æ®µéšï¼‰

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿

| ã‚¹ãƒ†ãƒ¼ã‚¸ | å¿…è¦ãƒ‡ãƒ¼ã‚¿ | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ | ç¾åœ¨ã®ãƒ†ãƒ¼ãƒ–ãƒ« | å®Ÿè£…çŠ¶æ…‹ |
|---------|----------|------------|-------------|---------|
| **éƒ¨ç½²å†…è­°é¡Œ** | `Post.agendaLevel = 'DEPT_REVIEW'` | VoiceDrive | `Post` | âœ… ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å­˜åœ¨ |
| **æ–½è¨­è­°é¡Œ** | `Post.agendaLevel = 'FACILITY_AGENDA'` | VoiceDrive | `Post` | âœ… ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å­˜åœ¨ |
| **æ³•äººè­°é¡Œ** | `Post.agendaLevel = 'CORPORATE_AGENDA'`ï¼ˆï¼Ÿï¼‰ | VoiceDrive | `Post`ï¼ˆæœªå®šç¾©ï¼‰ | âŒ æœªå®Ÿè£… |
| **å§”å“¡ä¼šæå‡ºæ¸ˆã¿** | `ManagementCommitteeAgenda.status != 'pending'` | VoiceDrive | `ManagementCommitteeAgenda` | âœ… é›†è¨ˆå¯èƒ½ |
| **æ±ºè­°æ¸ˆã¿** | `ManagementCommitteeAgenda.status = 'approved'` ã¾ãŸã¯ `DecisionMeetingAgenda.decision = 'approved'` | VoiceDrive | `ManagementCommitteeAgenda`, `DecisionMeetingAgenda` | âœ… é›†è¨ˆå¯èƒ½ |

**å•é¡Œç‚¹**:
- `Post.agendaLevel`ã«`'CORPORATE_AGENDA'`ãŒæœªå®šç¾©ï¼ˆç¾çŠ¶ã¯`'PENDING'`, `'DEPT_REVIEW'`, `'DEPT_AGENDA'`, `'FACILITY_AGENDA'`ã®ã¿ï¼‰
- æ³•äººè­°é¡Œã®ã‚«ã‚¦ãƒ³ãƒˆãƒ­ã‚¸ãƒƒã‚¯ãŒä¸æ˜ç¢º

**å®Ÿè£…çŠ¶æ…‹**: âš ï¸ éƒ¨åˆ†å®Ÿè£…ï¼ˆæ³•äººè­°é¡Œã®å®šç¾©ãŒä¸è¶³ï¼‰

---

### 3. å§”å“¡ä¼šæ´»å‹•ã®åŠ¹æœæ¸¬å®šï¼ˆ6æŒ‡æ¨™ï¼‰

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ | ãƒ†ãƒ¼ãƒ–ãƒ« | å®Ÿè£…çŠ¶æ…‹ |
|-----|---------|------------|---------|---------|
| **æå‡º** | `count(ManagementCommitteeAgenda)` | VoiceDrive | `ManagementCommitteeAgenda` | âœ… é›†è¨ˆå¯èƒ½ |
| **å¯©è­°å®Œäº†** | `count(status IN ['approved', 'rejected', 'deferred'])` | VoiceDrive | `ManagementCommitteeAgenda` | âœ… é›†è¨ˆå¯èƒ½ |
| **æ‰¿èª** | `count(status = 'approved')` | VoiceDrive | `ManagementCommitteeAgenda` | âœ… é›†è¨ˆå¯èƒ½ |
| **å®Ÿè£…æ¸ˆã¿** | âŒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä¸è¶³ | VoiceDrive | `ManagementCommitteeAgenda` | âŒ **ä¸è¶³** |
| **å¹³å‡å¯©è­°æœŸé–“** | `AVG(decidedDate - proposedDate)` | VoiceDrive | `ManagementCommitteeAgenda` | âœ… è¨ˆç®—å¯èƒ½ |
| **å¹³å‡å®Ÿè£…æœŸé–“** | âŒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä¸è¶³ | VoiceDrive | `ManagementCommitteeAgenda` | âŒ **ä¸è¶³** |

**ä¸è¶³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**:
```prisma
model ManagementCommitteeAgenda {
  // æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰...

  // ğŸ†• å¿…è¦ãªè¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  implementationStatus  String?   // 'not_started' | 'in_progress' | 'completed' | 'cancelled'
  implementedDate       DateTime? // å®Ÿè£…å®Œäº†æ—¥
  implementationNotes   String?   // å®Ÿè£…ãƒ¡ãƒ¢
}
```

**å®Ÿè£…çŠ¶æ…‹**: âš ï¸ éƒ¨åˆ†å®Ÿè£…ï¼ˆå®Ÿè£…è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒä¸è¶³ï¼‰

---

### 4. è­°é¡Œã‚«ãƒ†ã‚´ãƒªåˆ¥åˆ†æï¼ˆ6ã‚«ãƒ†ã‚´ãƒªï¼‰

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿

**ã‚«ãƒ†ã‚´ãƒªãƒªã‚¹ãƒˆ**:
1. äººäº‹ãƒ»æ¡ç”¨ï¼ˆhrï¼‰
2. æ•™è‚²ãƒ»ç ”ä¿®ï¼ˆeducationï¼‰
3. æ¥­å‹™æ”¹å–„ï¼ˆworkflowï¼‰
4. åŠ´åƒç’°å¢ƒï¼ˆenvironmentï¼‰
5. åŒ»ç™‚å®‰å…¨ï¼ˆsafetyï¼‰
6. ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆcommunicationï¼‰

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- âœ… VoiceDrive `Post.proposalType`ï¼ˆæ—¢å­˜ãƒ»éƒ¨åˆ†çš„ï¼‰
- âœ… VoiceDrive `ManagementCommitteeAgenda.agendaType`ï¼ˆæ—¢å­˜ï¼‰

**å•é¡Œç‚¹**:
- `Post.proposalType`ã¯ `'operational' | 'communication' | 'innovation' | 'strategic'`ã®ã¿
- OrganizationAnalyticsPage.tsxã§ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚«ãƒ†ã‚´ãƒªï¼ˆhr, education, workflow, environment, safety, communicationï¼‰ã¨ãƒãƒƒãƒ”ãƒ³ã‚°ãŒä¸æ˜ç¢º

**æ¨å¥¨è§£æ±ºç­–**:
1. `ManagementCommitteeAgenda.agendaType`ã‚’ä½¿ç”¨ï¼ˆã“ã¡ã‚‰ãŒè©³ç´°ãªã‚«ãƒ†ã‚´ãƒªã‚’æŒã¤ï¼‰
2. ã¾ãŸã¯ã€`Post.proposalType`ã«æ–°ã—ã„ã‚«ãƒ†ã‚´ãƒªã‚’è¿½åŠ 

**å®Ÿè£…çŠ¶æ…‹**: âš ï¸ ã‚«ãƒ†ã‚´ãƒªå®šç¾©ã®ä¸ä¸€è‡´

---

### 5. éƒ¨é–€åˆ¥ã®å£°ã®æ´»æ€§åº¦

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿

| é …ç›® | è¨ˆç®—æ–¹æ³• | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ | å®Ÿè£…çŠ¶æ…‹ |
|-----|---------|------------|---------|
| **éƒ¨é–€å** | éƒ¨é–€ãƒã‚¹ã‚¿ | ğŸ”µ åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  API: `GET /api/v2/departments` | âŒ **æ–°è¦APIå¿…è¦** |
| **æŠ•ç¨¿æ•°** | `count(Post WHERE author.department = X)` | VoiceDrive `Post` + `User.department` | âœ… é›†è¨ˆå¯èƒ½ |
| **è­°é¡ŒåŒ–æ•°** | `count(ManagementCommitteeAgenda WHERE proposerDepartment = X)` | VoiceDrive `ManagementCommitteeAgenda.proposerDepartment` | âœ… é›†è¨ˆå¯èƒ½ |
| **æ´»æ€§åº¦ã‚¹ã‚³ã‚¢** | è¤‡åˆè¨ˆç®— | VoiceDrive | âš ï¸ ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æœªå®šç¾© |
| **ãƒˆãƒ¬ãƒ³ãƒ‰** | å‰æœŸæ¯”è¼ƒ | VoiceDrive | âŒ å±¥æ­´ãƒ‡ãƒ¼ã‚¿ä¸è¶³ |

**æ´»æ€§åº¦ã‚¹ã‚³ã‚¢è¨ˆç®—å¼ï¼ˆæ¨å¥¨ï¼‰**:
```typescript
engagement = (
  (æŠ•ç¨¿æ•° / éƒ¨é–€äººæ•° * 40) +
  (è­°é¡ŒåŒ–ç‡ * 30) +
  (ã‚³ãƒ¡ãƒ³ãƒˆå‚åŠ ç‡ * 20) +
  (æŠ•ç¥¨å‚åŠ ç‡ * 10)
)
```

**ãƒˆãƒ¬ãƒ³ãƒ‰è¨ˆç®—**:
- å‰æœˆæ¯”ã¾ãŸã¯å‰å››åŠæœŸæ¯”ã‚’è¨ˆç®—ã™ã‚‹ãŸã‚ã€æœŸé–“åˆ¥ã®å±¥æ­´ä¿å­˜ãŒå¿…è¦
- æ¨å¥¨: `OrganizationAnalyticsSnapshot`ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æ–°è¨­ï¼ˆæœˆæ¬¡ä¿å­˜ï¼‰

**å®Ÿè£…çŠ¶æ…‹**: âš ï¸ éƒ¨é–€ãƒã‚¹ã‚¿APIä¸è¶³ã€å±¥æ­´ãƒ‡ãƒ¼ã‚¿ä¸è¶³

---

### 6. æˆ¦ç•¥çš„ã‚¤ãƒ³ã‚µã‚¤ãƒˆï¼ˆAIåˆ†æï¼‰

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿

**ç¾çŠ¶**: å®Œå…¨ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸé™çš„ãƒ†ã‚­ã‚¹ãƒˆ

**ç†æƒ³ã®å®Ÿè£…**:
1. GroupAnalyticsï¼ˆVoiceAnalyticsçµ±åˆå®Ÿè£…æ¸ˆã¿ï¼‰ã®ã‚¢ãƒ©ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æ´»ç”¨
2. AnalyticsAlertï¼ˆæ—¢å­˜ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ã‹ã‚‰é«˜å„ªå…ˆåº¦ã‚¢ãƒ©ãƒ¼ãƒˆã‚’å–å¾—
3. éƒ¨é–€åˆ¥æ´»æ€§åº¦ã®æ€¥æ¿€ãªå¤‰åŒ–ã‚’æ¤œå‡º
4. è­°é¡Œã‚«ãƒ†ã‚´ãƒªã®æ€¥å¢—ã‚’æ¤œå‡º

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- âœ… VoiceDrive `GroupAnalytics`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰
- âœ… VoiceDrive `AnalyticsAlert`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰
- âš ï¸ æ™‚ç³»åˆ—æ¯”è¼ƒã®ãŸã‚ã®å±¥æ­´ãƒ‡ãƒ¼ã‚¿

**å®Ÿè£…çŠ¶æ…‹**: âŒ æœªå®Ÿè£…ï¼ˆãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼‰

---

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»»åˆ†ç•Œç‚¹ã®ç¢ºèª

### VoiceDriveå´ãŒãƒã‚¹ã‚¿ãƒ¼ã¨ã—ã¦ç®¡ç†ã™ã¹ããƒ‡ãƒ¼ã‚¿

| ãƒ‡ãƒ¼ã‚¿é …ç›® | ç†ç”± | ãƒ†ãƒ¼ãƒ–ãƒ« | å®Ÿè£…çŠ¶æ…‹ |
|----------|------|---------|---------|
| **æŠ•ç¨¿ãƒ‡ãƒ¼ã‚¿** | VoiceDriveç‹¬è‡ªæ©Ÿèƒ½ | `Post`, `Comment`, `Vote` | âœ… å®Ÿè£…æ¸ˆã¿ |
| **è­°é¡Œãƒ‡ãƒ¼ã‚¿** | VoiceDriveç‹¬è‡ªæ©Ÿèƒ½ | `ManagementCommitteeAgenda`, `DecisionMeetingAgenda` | âœ… å®Ÿè£…æ¸ˆã¿ |
| **æ´»å‹•çµ±è¨ˆ** | VoiceDriveç‹¬è‡ªæ©Ÿèƒ½ | `VoteHistory`, `UserActivitySummary` | âœ… å®Ÿè£…æ¸ˆã¿ |
| **åˆ†æã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ** | VoiceDriveç‹¬è‡ªæ©Ÿèƒ½ | âŒ **æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«å¿…è¦** | âŒ æœªå®Ÿè£… |

---

### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ãŒãƒã‚¹ã‚¿ãƒ¼ã¨ã—ã¦ç®¡ç†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆVoiceDriveã¯å‚ç…§ã®ã¿ï¼‰

| ãƒ‡ãƒ¼ã‚¿é …ç›® | ç†ç”± | VoiceDriveå´ã®å–å¾—æ–¹æ³• | å®Ÿè£…çŠ¶æ…‹ |
|----------|------|---------------------|---------|
| **è·å“¡åŸºæœ¬æƒ…å ±** | äººäº‹ãƒã‚¹ã‚¿ | âœ… API: `GET /api/v2/employees/{employeeId}` | âœ… æ—¢å­˜API |
| **éƒ¨é–€ãƒã‚¹ã‚¿** | çµ„ç¹”æ§‹é€ ãƒã‚¹ã‚¿ | âŒ **æ–°è¦APIå¿…è¦**: `GET /api/v2/departments` | âŒ æœªå®Ÿè£… |
| **ã‚¢ã‚¯ãƒ†ã‚£ãƒ–è·å“¡æ•°** | äººäº‹ãƒã‚¹ã‚¿ | âŒ **æ–°è¦APIå¿…è¦**: `GET /api/v2/employees/active-count` | âŒ æœªå®Ÿè£… |

---

## ğŸš¨ é‡å¤§ãªä¸è¶³é …ç›®

### ğŸ”´ ä¸è¶³é …ç›®1: å®Ÿè£…è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆManagementCommitteeAgendaï¼‰

**å•é¡Œ**:
- å§”å“¡ä¼šã§æ‰¿èªã•ã‚ŒãŸè­°é¡ŒãŒå®Ÿéš›ã«å®Ÿè£…ã•ã‚ŒãŸã‹ã©ã†ã‹ã‚’è¿½è·¡ã§ããªã„
- OrganizationAnalyticsPage.tsx 228-239è¡Œç›®ã§ã€Œå®Ÿè£…æ¸ˆã¿ã€æŒ‡æ¨™ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ãŒã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ãŒãªã„

**å¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**:
```prisma
model ManagementCommitteeAgenda {
  // æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰...

  // ğŸ†• å®Ÿè£…è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  implementationStatus  String?   @default("not_started") // 'not_started' | 'in_progress' | 'completed' | 'cancelled'
  implementedDate       DateTime? // å®Ÿè£…å®Œäº†æ—¥
  implementationNotes   String?   // å®Ÿè£…ãƒ¡ãƒ¢

  @@index([implementationStatus])
}
```

**å½±éŸ¿**:
- å§”å“¡ä¼šæ´»å‹•ã®åŠ¹æœæ¸¬å®šãŒä¸å®Œå…¨
- æ‰¿èªã‹ã‚‰å®Ÿè£…ã¾ã§ã®æœŸé–“ãŒæ¸¬å®šä¸å¯

---

### ğŸ”´ ä¸è¶³é …ç›®2: éƒ¨é–€ãƒã‚¹ã‚¿APIï¼ˆåŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ï¼‰

**å•é¡Œ**:
- VoiceDriveå´ã§éƒ¨é–€åˆ¥ã®çµ±è¨ˆã‚’è¨ˆç®—ã™ã‚‹éš›ã€éƒ¨é–€ãƒªã‚¹ãƒˆã¨éƒ¨é–€äººæ•°ãŒå–å¾—ã§ããªã„
- `User.department`ã¯æ–‡å­—åˆ—ã§ã‚ã‚Šã€æ­£å¼ãªéƒ¨é–€ãƒã‚¹ã‚¿ã¨ç´ä»˜ã„ã¦ã„ãªã„

**å¿…è¦ãªAPI**:
```typescript
/**
 * GET /api/v2/departments
 * éƒ¨é–€ãƒã‚¹ã‚¿ä¸€è¦§å–å¾—
 */
interface Department {
  id: string;              // éƒ¨é–€ID
  name: string;            // éƒ¨é–€åï¼ˆä¾‹: "åŒ»ç™‚ç™‚é¤Šç—…æ£Ÿ"ï¼‰
  code: string;            // éƒ¨é–€ã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹: "medical_care_ward"ï¼‰
  facilityId: string;      // æ–½è¨­ID
  facilityName: string;    // æ–½è¨­å
  employeeCount: number;   // æ‰€å±è·å“¡æ•°
  activeEmployeeCount: number; // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–è·å“¡æ•°
  parentDepartmentId?: string; // è¦ªéƒ¨é–€IDï¼ˆéšå±¤æ§‹é€ ã®å ´åˆï¼‰
}
```

**å½±éŸ¿**:
- éƒ¨é–€åˆ¥æ´»æ€§åº¦ã®æ­£ç¢ºãªè¨ˆç®—ãŒä¸å¯èƒ½
- éƒ¨é–€åˆ¥å‚åŠ ç‡ã®è¨ˆç®—ãŒä¸å¯èƒ½

---

### ğŸ”´ ä¸è¶³é …ç›®3: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–è·å“¡æ•°APIï¼ˆåŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ï¼‰

**å•é¡Œ**:
- çµ„ç¹”å¥åº·åº¦æŒ‡æ¨™ã®ã€Œå‚åŠ ç‡ã€ã‚’è¨ˆç®—ã™ã‚‹ãŸã‚ã«ã€å…¨ã‚¢ã‚¯ãƒ†ã‚£ãƒ–è·å“¡æ•°ãŒå¿…è¦
- ç¾åœ¨ã¯ `User`ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰å–å¾—ã—ã¦ã„ã‚‹ãŒã€é€€è·è€…ã‚„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ãŒåæ˜ ã•ã‚Œãªã„å¯èƒ½æ€§

**å¿…è¦ãªAPI**:
```typescript
/**
 * GET /api/v2/employees/active-count
 * ã‚¢ã‚¯ãƒ†ã‚£ãƒ–è·å“¡æ•°å–å¾—
 */
interface ActiveCountResponse {
  total: number;           // å…¨ã‚¢ã‚¯ãƒ†ã‚£ãƒ–è·å“¡æ•°
  byDepartment: {
    [departmentCode: string]: number;
  };
  byFacility: {
    [facilityId: string]: number;
  };
  calculatedAt: string;    // è¨ˆç®—æ—¥æ™‚
}
```

**å½±éŸ¿**:
- å‚åŠ ç‡ã®è¨ˆç®—ãŒä¸æ­£ç¢º
- éƒ¨é–€åˆ¥æ´»æ€§åº¦ã®è¨ˆç®—ãŒä¸æ­£ç¢º

---

### ğŸŸ¡ ä¸è¶³é …ç›®4: åˆ†æã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆVoiceDriveå´ï¼‰

**å•é¡Œ**:
- ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æï¼ˆå‰æœˆæ¯”ã€å‰å››åŠæœŸæ¯”ï¼‰ã‚’è¡Œã†ãŸã‚ã«ã€éå»ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
- ç¾åœ¨ã¯å…¨ã¦å‹•çš„è¨ˆç®—ã ãŒã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã®ãŸã‚ã«å®šæœŸã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãŒå¿…è¦

**æ¨å¥¨ãƒ†ãƒ¼ãƒ–ãƒ«**:
```prisma
// çµ„ç¹”åˆ†æã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆï¼ˆæœˆæ¬¡ãƒãƒƒãƒã§ä¿å­˜ï¼‰
model OrganizationAnalyticsSnapshot {
  id                        String    @id @default(cuid())

  // ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆæœŸé–“
  snapshotDate              DateTime  // ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆå®Ÿè¡Œæ—¥
  periodType                String    // 'weekly' | 'monthly' | 'quarterly'
  periodStartDate           DateTime  // é›†è¨ˆæœŸé–“é–‹å§‹
  periodEndDate             DateTime  // é›†è¨ˆæœŸé–“çµ‚äº†

  // çµ„ç¹”å¥åº·åº¦æŒ‡æ¨™ï¼ˆJSONä¿å­˜ï¼‰
  organizationHealthMetrics Json      // { voiceActivity, participationRate, resolutionRate, engagementScore, crossDeptCollaboration }

  // è­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹é€²æ—ï¼ˆJSONä¿å­˜ï¼‰
  agendaProgressData        Json      // { departmentLevel, facilityLevel, corporateLevel, committeeSubmitted, resolved }

  // å§”å“¡ä¼šæ´»å‹•åŠ¹æœï¼ˆJSONä¿å­˜ï¼‰
  committeeEffectivenessData Json     // { submitted, reviewed, approved, implemented, avgReviewDays, avgImplementDays }

  // ã‚«ãƒ†ã‚´ãƒªåˆ¥åˆ†æï¼ˆJSONä¿å­˜ï¼‰
  categoryAnalysisData      Json      // [{ id, name, count, resolved, resolutionRate }, ...]

  // éƒ¨é–€åˆ¥æ´»æ€§åº¦ï¼ˆJSONä¿å­˜ï¼‰
  departmentActivityData    Json      // [{ name, posts, agenda, engagement, trend }, ...]

  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  createdAt                 DateTime  @default(now())

  @@index([snapshotDate])
  @@index([periodType])
  @@index([periodStartDate, periodEndDate])
  @@map("organization_analytics_snapshots")
}
```

**ãƒ¡ãƒªãƒƒãƒˆ**:
- ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æãŒå¯èƒ½ï¼ˆå‰æœˆæ¯”ã€å‰å››åŠæœŸæ¯”ï¼‰
- ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿ãŒé«˜é€ŸåŒ–ï¼ˆäº‹å‰é›†è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ï¼‰
- æœˆæ¬¡å ±å‘Šæ›¸ã®è‡ªå‹•ç”ŸæˆãŒå¯èƒ½

---

### ğŸŸ¡ ä¸è¶³é …ç›®5: æ³•äººè­°é¡Œã®å®šç¾©ï¼ˆPost.agendaLevelï¼‰

**å•é¡Œ**:
- `Post.agendaLevel`ã«`'CORPORATE_AGENDA'`ãŒæœªå®šç¾©
- ç¾åœ¨ã¯`'PENDING'`, `'DEPT_REVIEW'`, `'DEPT_AGENDA'`, `'FACILITY_AGENDA'`ã®ã¿

**æ¨å¥¨ä¿®æ­£**:
```prisma
model Post {
  // ...
  agendaLevel  String?   // 'PENDING' | 'DEPT_REVIEW' | 'DEPT_AGENDA' | 'FACILITY_AGENDA' | 'CORPORATE_AGENDA' | 'COMMITTEE_SUBMITTED'
  // ...
}
```

**ã¾ãŸã¯ã€ManagementCommitteeAgendaã¨ã®ç´ä»˜ã‘ã§å¯¾å¿œ**:
- `ManagementCommitteeAgenda.relatedPostId`ãŒå­˜åœ¨ã™ã‚‹å ´åˆã€ãã®è­°é¡Œã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§æ³•äººè­°é¡Œã‹ã©ã†ã‹ã‚’åˆ¤å®š

---

## ğŸ“ schema.prismaæ›´æ–°ææ¡ˆ

### ææ¡ˆ1: ManagementCommitteeAgenda - å®Ÿè£…è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 

```prisma
model ManagementCommitteeAgenda {
  id                   String    @id @default(cuid())

  // æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰...

  // ğŸ†• å®Ÿè£…è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆ2025-10-10è¿½åŠ ï¼‰
  implementationStatus  String?   @default("not_started") // 'not_started' | 'in_progress' | 'completed' | 'cancelled'
  implementedDate       DateTime? // å®Ÿè£…å®Œäº†æ—¥
  implementationNotes   String?   // å®Ÿè£…ãƒ¡ãƒ¢
  implementationOwner   String?   // å®Ÿè£…è²¬ä»»è€…ï¼ˆUser.idï¼‰

  // æ—¢å­˜ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³...

  @@index([implementationStatus])
  @@map("management_committee_agendas")
}
```

**ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**:
```bash
npx prisma migrate dev --name add_implementation_tracking_to_committee_agenda
```

---

### ææ¡ˆ2: OrganizationAnalyticsSnapshot - æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 

```prisma
// çµ„ç¹”åˆ†æã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆï¼ˆæœˆæ¬¡ãƒãƒƒãƒã§ä¿å­˜ï¼‰
model OrganizationAnalyticsSnapshot {
  id                        String    @id @default(cuid())

  // ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆæœŸé–“
  snapshotDate              DateTime  // ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆå®Ÿè¡Œæ—¥
  periodType                String    // 'weekly' | 'monthly' | 'quarterly'
  periodStartDate           DateTime  // é›†è¨ˆæœŸé–“é–‹å§‹
  periodEndDate             DateTime  // é›†è¨ˆæœŸé–“çµ‚äº†

  // çµ„ç¹”å¥åº·åº¦æŒ‡æ¨™ï¼ˆJSONä¿å­˜ï¼‰
  organizationHealthMetrics Json      // { voiceActivity, participationRate, resolutionRate, engagementScore, crossDeptCollaboration }

  // è­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹é€²æ—ï¼ˆJSONä¿å­˜ï¼‰
  agendaProgressData        Json      // { departmentLevel, facilityLevel, corporateLevel, committeeSubmitted, resolved }

  // å§”å“¡ä¼šæ´»å‹•åŠ¹æœï¼ˆJSONä¿å­˜ï¼‰
  committeeEffectivenessData Json     // { submitted, reviewed, approved, implemented, avgReviewDays, avgImplementDays }

  // ã‚«ãƒ†ã‚´ãƒªåˆ¥åˆ†æï¼ˆJSONä¿å­˜ï¼‰
  categoryAnalysisData      Json      // [{ id, name, count, resolved, resolutionRate }, ...]

  // éƒ¨é–€åˆ¥æ´»æ€§åº¦ï¼ˆJSONä¿å­˜ï¼‰
  departmentActivityData    Json      // [{ name, posts, agenda, engagement, trend }, ...]

  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  createdAt                 DateTime  @default(now())

  @@index([snapshotDate])
  @@index([periodType])
  @@index([periodStartDate, periodEndDate])
  @@map("organization_analytics_snapshots")
}
```

**ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**:
```bash
npx prisma migrate dev --name add_organization_analytics_snapshot
```

---

### ææ¡ˆ3: DecisionMeetingAgenda - å®Ÿè£…è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 

```prisma
model DecisionMeetingAgenda {
  id                      String    @id @default(cuid())

  // æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰...

  // ğŸ†• å®Ÿè£…è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆ2025-10-10è¿½åŠ ï¼‰
  implementationStatus    String?   @default("not_started") // 'not_started' | 'in_progress' | 'completed' | 'cancelled'
  implementedDate         DateTime? // å®Ÿè£…å®Œäº†æ—¥
  implementationNotes     String?   // å®Ÿè£…ãƒ¡ãƒ¢
  implementationOwner     String?   // å®Ÿè£…è²¬ä»»è€…ï¼ˆUser.idï¼‰

  // æ—¢å­˜ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³...

  @@index([implementationStatus])
  @@map("decision_meeting_agendas")
}
```

**ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**:
```bash
npx prisma migrate dev --name add_implementation_tracking_to_decision_agenda
```

---

## ğŸ”— åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æºãŒå¿…è¦ãªé …ç›®

### API-3: éƒ¨é–€ãƒã‚¹ã‚¿å–å¾—ï¼ˆæ–°è¦å®Ÿè£…å¿…è¦ï¼‰

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/v2/departments`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "departments": [
    {
      "id": "dept_001",
      "name": "åŒ»ç™‚ç™‚é¤Šç—…æ£Ÿ",
      "code": "medical_care_ward",
      "facilityId": "tategami_hospital",
      "facilityName": "ãŸã¦ãŒã¿ç—…é™¢",
      "employeeCount": 45,
      "activeEmployeeCount": 42,
      "parentDepartmentId": null
    },
    {
      "id": "dept_002",
      "name": "å›å¾©æœŸãƒªãƒç—…æ£Ÿ",
      "code": "rehabilitation_ward",
      "facilityId": "tategami_hospital",
      "facilityName": "ãŸã¦ãŒã¿ç—…é™¢",
      "employeeCount": 38,
      "activeEmployeeCount": 36,
      "parentDepartmentId": null
    }
  ],
  "total": 12,
  "retrievedAt": "2025-10-10T10:00:00.000Z"
}
```

**å„ªå…ˆåº¦**: ğŸ”´ HIGH
**å®Ÿè£…äºˆå®š**: Phase 2ï¼ˆ11æœˆä¸­æ—¬ï¼‰

---

### API-4: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–è·å“¡æ•°å–å¾—ï¼ˆæ–°è¦å®Ÿè£…å¿…è¦ï¼‰

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/v2/employees/active-count`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "total": 250,
  "byDepartment": {
    "medical_care_ward": 42,
    "rehabilitation_ward": 36,
    "outpatient_clinic": 28,
    "visiting_nurse": 25,
    "administration": 18
  },
  "byFacility": {
    "tategami_hospital": 180,
    "tategami_clinic": 70
  },
  "calculatedAt": "2025-10-10T10:00:00.000Z"
}
```

**å„ªå…ˆåº¦**: ğŸ”´ HIGH
**å®Ÿè£…äºˆå®š**: Phase 2ï¼ˆ11æœˆä¸­æ—¬ï¼‰

---

## ğŸ“… å®Ÿè£…Phaseææ¡ˆ

### Phase 1: ãƒ‡ãƒ¼ã‚¿å–å¾—åŸºç›¤æ§‹ç¯‰ï¼ˆ11æœˆ11æ—¥ã€œ15æ—¥ï¼‰

#### VoiceDriveå´

| ã‚¿ã‚¹ã‚¯ | å†…å®¹ | æ‹…å½“ | æœŸæ—¥ |
|--------|-----|------|------|
| ğŸ†• schema.prismaæ›´æ–° | ManagementCommitteeAgenda, DecisionMeetingAgendaã«å®Ÿè£…è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ  | VoiceDrive | 11æœˆ11æ—¥ |
| ğŸ†• ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | Prisma migrateå®Ÿè¡Œ | VoiceDrive | 11æœˆ11æ—¥ |
| ğŸ†• OrganizationAnalyticsServiceã‚¯ãƒ©ã‚¹ä½œæˆ | ãƒ‡ãƒ¼ã‚¿é›†è¨ˆã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£… | VoiceDrive | 11æœˆ12æ—¥ã€œ14æ—¥ |
| ğŸ†• åŸºæœ¬çµ±è¨ˆAPIå®Ÿè£… | çµ„ç¹”å¥åº·åº¦æŒ‡æ¨™ã€è­°é¡Œé€²æ—ã®é›†è¨ˆ | VoiceDrive | 11æœˆ12æ—¥ã€œ14æ—¥ |

#### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´

| ã‚¿ã‚¹ã‚¯ | å†…å®¹ | æ‹…å½“ | æœŸæ—¥ |
|--------|-----|------|------|
| ğŸ†• API-3å®Ÿè£… | GET /api/v2/departments | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  | 11æœˆ11æ—¥ã€œ13æ—¥ |
| ğŸ†• API-4å®Ÿè£… | GET /api/v2/employees/active-count | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  | 11æœˆ11æ—¥ã€œ13æ—¥ |
| ğŸ†• å˜ä½“ãƒ†ã‚¹ãƒˆ | API-3, API-4ã®ãƒ†ã‚¹ãƒˆ | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  | 11æœˆ14æ—¥ |

**Phase 1å®Œäº†æ™‚ã®å‹•ä½œç¯„å›²**:
- âœ… åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰éƒ¨é–€ãƒã‚¹ã‚¿å–å¾—
- âœ… åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã‚¢ã‚¯ãƒ†ã‚£ãƒ–è·å“¡æ•°å–å¾—
- âœ… VoiceDriveå´ã§çµ„ç¹”å¥åº·åº¦æŒ‡æ¨™ã®å®Ÿãƒ‡ãƒ¼ã‚¿è¨ˆç®—
- âœ… VoiceDriveå´ã§è­°é¡Œé€²æ—ã®å®Ÿãƒ‡ãƒ¼ã‚¿è¨ˆç®—
- âš ï¸ ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã¯æœªå¯¾å¿œï¼ˆå±¥æ­´ãƒ‡ãƒ¼ã‚¿ãªã—ï¼‰

---

### Phase 2: å®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºå®Ÿè£…ï¼ˆ11æœˆ18æ—¥ã€œ22æ—¥ï¼‰

#### VoiceDriveå´ã®ã¿

| ã‚¿ã‚¹ã‚¯ | å†…å®¹ | æ‹…å½“ | æœŸæ—¥ |
|--------|-----|------|------|
| ğŸ†• OrganizationAnalyticsPageä¿®æ­£ | ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å®Ÿãƒ‡ãƒ¼ã‚¿å–å¾—ã«ç½®ãæ›ãˆ | VoiceDrive | 11æœˆ18æ—¥ã€œ20æ—¥ |
| ğŸ†• çµ±è¨ˆã‚«ãƒ¼ãƒ‰å®Ÿè£… | çµ„ç¹”å¥åº·åº¦æŒ‡æ¨™ã®å®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤º | VoiceDrive | 11æœˆ18æ—¥ã€œ20æ—¥ |
| ğŸ†• è­°é¡Œé€²æ—ãƒ•ãƒ­ãƒ¼å®Ÿè£… | è­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹ã®å®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤º | VoiceDrive | 11æœˆ18æ—¥ã€œ20æ—¥ |
| ğŸ†• å§”å“¡ä¼šåŠ¹æœæ¸¬å®šå®Ÿè£… | å§”å“¡ä¼šæ´»å‹•ã®å®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤º | VoiceDrive | 11æœˆ18æ—¥ã€œ20æ—¥ |
| ğŸ†• ã‚«ãƒ†ã‚´ãƒªåˆ¥åˆ†æå®Ÿè£… | ã‚«ãƒ†ã‚´ãƒªåˆ¥è­°é¡Œæ•°ã®å®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤º | VoiceDrive | 11æœˆ18æ—¥ã€œ20æ—¥ |
| ğŸ†• éƒ¨é–€åˆ¥æ´»æ€§åº¦å®Ÿè£… | éƒ¨é–€åˆ¥çµ±è¨ˆã®å®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤º | VoiceDrive | 11æœˆ18æ—¥ã€œ20æ—¥ |
| ğŸ†• çµ±åˆãƒ†ã‚¹ãƒˆ | å…¨æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª | VoiceDrive | 11æœˆ21æ—¥ã€œ22æ—¥ |

**Phase 2å®Œäº†æ™‚ã®å‹•ä½œç¯„å›²**:
- âœ… å…¨æŒ‡æ¨™ãŒå®Ÿãƒ‡ãƒ¼ã‚¿ã§è¡¨ç¤º
- âœ… æœŸé–“é¸æŠï¼ˆé€±æ¬¡/æœˆæ¬¡/å››åŠæœŸï¼‰æ©Ÿèƒ½å‹•ä½œ
- âš ï¸ ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã¯æœªå¯¾å¿œï¼ˆå±¥æ­´ãƒ‡ãƒ¼ã‚¿ãªã—ï¼‰

---

### Phase 3: é«˜åº¦åˆ†ææ©Ÿèƒ½å®Ÿè£…ï¼ˆ11æœˆ25æ—¥ã€œ29æ—¥ï¼‰

#### VoiceDriveå´ã®ã¿

| ã‚¿ã‚¹ã‚¯ | å†…å®¹ | æ‹…å½“ | æœŸæ—¥ |
|--------|-----|------|------|
| ğŸ†• OrganizationAnalyticsSnapshotãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ  | schema.prismaæ›´æ–° | VoiceDrive | 11æœˆ25æ—¥ |
| ğŸ†• ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | Prisma migrateå®Ÿè¡Œ | VoiceDrive | 11æœˆ25æ—¥ |
| ğŸ†• æœˆæ¬¡ãƒãƒƒãƒå®Ÿè£… | çµ„ç¹”åˆ†æã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ | VoiceDrive | 11æœˆ26æ—¥ã€œ27æ—¥ |
| ğŸ†• ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æå®Ÿè£… | å‰æœˆæ¯”ã€å‰å››åŠæœŸæ¯”ã®è¨ˆç®— | VoiceDrive | 11æœˆ27æ—¥ã€œ28æ—¥ |
| ğŸ†• æˆ¦ç•¥çš„ã‚¤ãƒ³ã‚µã‚¤ãƒˆå®Ÿè£… | GroupAnalytics, AnalyticsAlertã¨ã®é€£æº | VoiceDrive | 11æœˆ28æ—¥ã€œ29æ—¥ |
| ğŸ†• çµ±åˆãƒ†ã‚¹ãƒˆ | ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã€ã‚¤ãƒ³ã‚µã‚¤ãƒˆæ©Ÿèƒ½ã®ç¢ºèª | VoiceDrive | 11æœˆ29æ—¥ |

**Phase 3å®Œäº†æ™‚ã®å‹•ä½œç¯„å›²**:
- âœ… ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æï¼ˆå‰æœˆæ¯”ã€å‰å››åŠæœŸæ¯”ï¼‰
- âœ… æˆ¦ç•¥çš„ã‚¤ãƒ³ã‚µã‚¤ãƒˆï¼ˆAIåˆ†æï¼‰ã®å®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
- âœ… æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### VoiceDriveå´ã®å®Ÿè£…

- [ ] ManagementCommitteeAgendaã«å®Ÿè£…è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
- [ ] DecisionMeetingAgendaã«å®Ÿè£…è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
- [ ] OrganizationAnalyticsSnapshotãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
- [ ] OrganizationAnalyticsServiceã‚¯ãƒ©ã‚¹å®Ÿè£…
- [ ] çµ„ç¹”å¥åº·åº¦æŒ‡æ¨™ã®å®Ÿãƒ‡ãƒ¼ã‚¿è¨ˆç®—å®Ÿè£…
- [ ] è­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹ã®å®Ÿãƒ‡ãƒ¼ã‚¿è¨ˆç®—å®Ÿè£…
- [ ] å§”å“¡ä¼šæ´»å‹•åŠ¹æœã®å®Ÿãƒ‡ãƒ¼ã‚¿è¨ˆç®—å®Ÿè£…
- [ ] ã‚«ãƒ†ã‚´ãƒªåˆ¥åˆ†æã®å®Ÿãƒ‡ãƒ¼ã‚¿è¨ˆç®—å®Ÿè£…
- [ ] éƒ¨é–€åˆ¥æ´»æ€§åº¦ã®å®Ÿãƒ‡ãƒ¼ã‚¿è¨ˆç®—å®Ÿè£…
- [ ] æœˆæ¬¡ãƒãƒƒãƒå®Ÿè£…ï¼ˆã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ï¼‰
- [ ] ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æå®Ÿè£…
- [ ] æˆ¦ç•¥çš„ã‚¤ãƒ³ã‚µã‚¤ãƒˆå®Ÿè£…
- [ ] OrganizationAnalyticsPageä¿®æ­£ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºï¼‰

### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã®å®Ÿè£…

- [ ] API-3å®Ÿè£…: GET /api/v2/departments
- [ ] API-4å®Ÿè£…: GET /api/v2/employees/active-count
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] APIä»•æ§˜æ›¸æ›´æ–°

### çµ±åˆãƒ†ã‚¹ãƒˆ

- [ ] éƒ¨é–€ãƒã‚¹ã‚¿å–å¾—ãƒ†ã‚¹ãƒˆ
- [ ] ã‚¢ã‚¯ãƒ†ã‚£ãƒ–è·å“¡æ•°å–å¾—ãƒ†ã‚¹ãƒˆ
- [ ] çµ„ç¹”å¥åº·åº¦æŒ‡æ¨™ã®è¨ˆç®—ç²¾åº¦ç¢ºèª
- [ ] è­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹ã®é›†è¨ˆç²¾åº¦ç¢ºèª
- [ ] å§”å“¡ä¼šæ´»å‹•åŠ¹æœã®é›†è¨ˆç²¾åº¦ç¢ºèª
- [ ] ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã®ç²¾åº¦ç¢ºèª

---

## ğŸ“ è£œè¶³è³‡æ–™

### å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

1. **PersonalStation DBè¦ä»¶åˆ†æï¼ˆå‚è€ƒï¼‰**
   - `C:\projects\staff-medical-system\mcp-shared\docs\Response_PersonalStation_DB_Requirements_20251009.md`

2. **account-deactivation DBè¦ä»¶åˆ†æï¼ˆå‚è€ƒï¼‰**
   - `C:\projects\staff-medical-system\mcp-shared\docs\account-deactivation_DBè¦ä»¶åˆ†æ_20251010.md`

3. **schema.prismaï¼ˆç¾çŠ¶ï¼‰**
   - `C:\projects\voicedrive-v100\prisma\schema.prisma`

---

## ğŸ™ è¬è¾

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€VoiceDriveé–‹ç™ºãƒãƒ¼ãƒ ã¨åŒ»ç™‚è·å“¡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºãƒãƒ¼ãƒ ã®å”åŠ›ã«ã‚ˆã‚Šä½œæˆã•ã‚Œã¾ã—ãŸã€‚

çµ„ç¹”åˆ†æãƒšãƒ¼ã‚¸ã¯ã€VoiceDriveã®æˆ¦ç•¥çš„ä¾¡å€¤ã‚’æœ€å¤§åŒ–ã™ã‚‹é‡è¦ãªæ©Ÿèƒ½ã§ã™ã€‚ä¸¡ãƒãƒ¼ãƒ ã®é€£æºã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ãªçµ„ç¹”æ”¹å–„ã‚’å®Ÿç¾ã—ã¦ã¾ã„ã‚Šã¾ã™ã€‚

---

**ä½œæˆæ—¥**: 2025å¹´10æœˆ10æ—¥
**æ–‡æ›¸ç•ªå·**: DB-REQ-2025-1010-002
**ä½œæˆè€…**: VoiceDriveé–‹ç™ºãƒãƒ¼ãƒ 
